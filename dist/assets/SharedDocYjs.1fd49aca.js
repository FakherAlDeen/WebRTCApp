import{h as bs,i as no,r as hn,o as Ln,c as lr,a as Je,t as ro,p as io,j as oo,k as _s,U as fn,w as xi,u as ws,d as Mr,f as Os,e as Es,l as ks,m as As,T as Ss,F as Ts,g as xs}from"./index.35e50974.js";import{_ as so}from"./_plugin-vue_export-helper.cdc0426e.js";const Ae=()=>new Map,pr=r=>{const t=Ae();return r.forEach((e,n)=>{t.set(n,e)}),t},Pe=(r,t,e)=>{let n=r.get(t);return n===void 0&&r.set(t,n=e()),n},Ns=(r,t)=>{const e=[];for(const[n,o]of r)e.push(t(o,n));return e},Ls=(r,t)=>{for(const[e,n]of r)if(t(n,e))return!0;return!1},In=()=>new Set,Pr=r=>r[r.length-1],Cs=(r,t)=>{for(let e=0;e<t.length;e++)r.push(t[e])},lo=Array.from,Ru=Array.isArray;class Qr{constructor(){this._observers=Ae()}on(t,e){Pe(this._observers,t,In).add(e)}once(t,e){const n=(...o)=>{this.off(t,n),e(...o)};this.on(t,n)}off(t,e){const n=this._observers.get(t);n!==void 0&&(n.delete(e),n.size===0&&this._observers.delete(t))}emit(t,e){return lo((this._observers.get(t)||Ae()).values()).forEach(n=>n(...e))}destroy(){this._observers=Ae()}}const Me=Math.floor,ar=Math.abs,ti=(r,t)=>r<t?r:t,rn=(r,t)=>r>t?r:t,Ds=Math.pow,ao=r=>r!==0?r<0:1/r<0,Rs=String.fromCharCode,Is=r=>r.toLowerCase(),Ms=/^\s*/g,Ps=r=>r.replace(Ms,""),js=/([A-Z])/g,Ni=(r,t)=>Ps(r.replace(js,e=>`${t}${Is(e)}`)),qs=r=>{const t=unescape(encodeURIComponent(r)),e=t.length,n=new Uint8Array(e);for(let o=0;o<e;o++)n[o]=t.codePointAt(o);return n},kr=typeof TextEncoder<"u"?new TextEncoder:null,Bs=r=>kr.encode(r),Fs=kr?Bs:qs;let Cn=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Cn&&Cn.decode(new Uint8Array).length===1&&(Cn=null);const Li=r=>r===void 0?null:r;class Us{constructor(){this.map=new Map}setItem(t,e){this.map.set(t,e)}getItem(t){return this.map.get(t)}}let uo=new Us,co=!0;try{typeof localStorage<"u"&&(uo=localStorage,co=!1)}catch{}const fo=uo,Hs=r=>co||addEventListener("storage",r),Ar=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name),ho=typeof window<"u"&&!Ar;typeof navigator<"u"&&/Mac/.test(navigator.platform);let ke;const zs=()=>{if(ke===void 0)if(Ar){ke=Ae();const r=process.argv;let t=null;for(let e=0;e<r.length;e++){const n=r[e];n[0]==="-"?(t!==null&&ke.set(t,""),t=n):t!==null&&(ke.set(t,n),t=null)}t!==null&&ke.set(t,"")}else typeof location=="object"?(ke=Ae(),(location.search||"?").slice(1).split("&").forEach(r=>{if(r.length!==0){const[t,e]=r.split("=");ke.set(`--${Ni(t,"-")}`,e),ke.set(`-${Ni(t,"-")}`,e)}})):ke=Ae();return ke},Vs=r=>zs().has(r),$s=r=>Li(Ar?process.env[r.toUpperCase()]:fo.getItem(r)),Ks=r=>Vs("--"+r)||$s(r)!==null;Ks("production");const Ci=1,Di=2,jr=4,qr=8,Mn=32,Ie=64,se=128,Sr=31,Kr=63,Ye=127,Gs=2147483647,po=Number.MAX_SAFE_INTEGER,Ws=Number.isInteger||(r=>typeof r=="number"&&isFinite(r)&&Me(r)===r);class Tr{constructor(t){this.arr=t,this.pos=0}}const Ke=r=>new Tr(r),Zs=r=>r.pos!==r.arr.length,Ys=(r,t)=>{const e=ri(r.arr.buffer,r.pos+r.arr.byteOffset,t);return r.pos+=t,e},Yt=r=>Ys(r,wt(r)),mn=r=>r.arr[r.pos++],wt=r=>{let t=0,e=1;for(;;){const n=r.arr[r.pos++];if(t=t+(n&Ye)*e,e*=128,n<se)return t;if(t>po)throw new Error("Integer out of range!")}},ei=r=>{let t=r.arr[r.pos++],e=t&Kr,n=64;const o=(t&Ie)>0?-1:1;if((t&se)===0)return o*e;for(;;){if(t=r.arr[r.pos++],e=e+(t&Ye)*n,n*=128,t<se)return o*e;if(e>po)throw new Error("Integer out of range!")}},Xs=r=>{let t=wt(r);if(t===0)return"";{let e=String.fromCodePoint(mn(r));if(--t<100)for(;t--;)e+=String.fromCodePoint(mn(r));else for(;t>0;){const n=t<1e4?t:1e4,o=r.arr.subarray(r.pos,r.pos+n);r.pos+=n,e+=String.fromCodePoint.apply(null,o),t-=n}return decodeURIComponent(escape(e))}},Js=r=>Cn.decode(Yt(r)),Ve=Cn?Js:Xs,ni=(r,t)=>{const e=new DataView(r.arr.buffer,r.arr.byteOffset+r.pos,t);return r.pos+=t,e},Qs=r=>ni(r,4).getFloat32(0,!1),tl=r=>ni(r,8).getFloat64(0,!1),el=r=>ni(r,8).getBigInt64(0,!1),nl=[r=>{},r=>null,ei,Qs,tl,el,r=>!1,r=>!0,Ve,r=>{const t=wt(r),e={};for(let n=0;n<t;n++){const o=Ve(r);e[o]=Pn(r)}return e},r=>{const t=wt(r),e=[];for(let n=0;n<t;n++)e.push(Pn(r));return e},Yt],Pn=r=>nl[127-mn(r)](r);class Ri extends Tr{constructor(t,e){super(t),this.reader=e,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),Zs(this)?this.count=wt(this)+1:this.count=-1),this.count--,this.s}}class ur extends Tr{constructor(t){super(t),this.s=0,this.count=0}read(){if(this.count===0){this.s=ei(this);const t=ao(this.s);this.count=1,t&&(this.s=-this.s,this.count=wt(this)+2)}return this.count--,this.s}}class Br extends Tr{constructor(t){super(t),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const t=ei(this),e=t&1;this.diff=Me(t/2),this.count=1,e&&(this.count=wt(this)+2)}return this.s+=this.diff,this.count--,this.s}}class rl{constructor(t){this.decoder=new ur(t),this.str=Ve(this.decoder),this.spos=0}read(){const t=this.spos+this.decoder.read(),e=this.str.slice(this.spos,t);return this.spos=t,e}}const go=r=>new Uint8Array(r),ri=(r,t,e)=>new Uint8Array(r,t,e),il=r=>new Uint8Array(r),ol=r=>{let t="";for(let e=0;e<r.byteLength;e++)t+=Rs(r[e]);return btoa(t)},sl=r=>Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("base64"),ll=r=>{const t=atob(r),e=go(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e},al=r=>{const t=Buffer.from(r,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)},ul=ho?ol:sl,cl=ho?ll:al,fl=r=>{const t=go(r.byteLength);return t.set(r),t};class Hn{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const Xt=()=>new Hn,ii=r=>{let t=r.cpos;for(let e=0;e<r.bufs.length;e++)t+=r.bufs[e].length;return t},qt=r=>{const t=new Uint8Array(ii(r));let e=0;for(let n=0;n<r.bufs.length;n++){const o=r.bufs[n];t.set(o,e),e+=o.length}return t.set(ri(r.cbuf.buffer,0,r.cpos),e),t},hl=(r,t)=>{const e=r.cbuf.length;e-r.cpos<t&&(r.bufs.push(ri(r.cbuf.buffer,0,r.cpos)),r.cbuf=new Uint8Array(rn(e,t)*2),r.cpos=0)},Wt=(r,t)=>{const e=r.cbuf.length;r.cpos===e&&(r.bufs.push(r.cbuf),r.cbuf=new Uint8Array(e*2),r.cpos=0),r.cbuf[r.cpos++]=t},Gr=Wt,vt=(r,t)=>{for(;t>Ye;)Wt(r,se|Ye&t),t=Me(t/128);Wt(r,Ye&t)},oi=(r,t)=>{const e=ao(t);for(e&&(t=-t),Wt(r,(t>Kr?se:0)|(e?Ie:0)|Kr&t),t=Me(t/64);t>0;)Wt(r,(t>Ye?se:0)|Ye&t),t=Me(t/128)},Wr=new Uint8Array(3e4),dl=Wr.length/3,pl=(r,t)=>{if(t.length<dl){const e=kr.encodeInto(t,Wr).written||0;vt(r,e);for(let n=0;n<e;n++)Wt(r,Wr[n])}else Vt(r,Fs(t))},gl=(r,t)=>{const e=unescape(encodeURIComponent(t)),n=e.length;vt(r,n);for(let o=0;o<n;o++)Wt(r,e.codePointAt(o))},Xe=kr?pl:gl,xr=(r,t)=>{const e=r.cbuf.length,n=r.cpos,o=ti(e-n,t.length),y=t.length-o;r.cbuf.set(t.subarray(0,o),n),r.cpos+=o,y>0&&(r.bufs.push(r.cbuf),r.cbuf=new Uint8Array(rn(e*2,y)),r.cbuf.set(t.subarray(o)),r.cpos=y)},Vt=(r,t)=>{vt(r,t.byteLength),xr(r,t)},si=(r,t)=>{hl(r,t);const e=new DataView(r.cbuf.buffer,r.cpos,t);return r.cpos+=t,e},yl=(r,t)=>si(r,4).setFloat32(0,t,!1),vl=(r,t)=>si(r,8).setFloat64(0,t,!1),ml=(r,t)=>si(r,8).setBigInt64(0,t,!1),Ii=new DataView(new ArrayBuffer(4)),bl=r=>(Ii.setFloat32(0,r),Ii.getFloat32(0)===r),jn=(r,t)=>{switch(typeof t){case"string":Wt(r,119),Xe(r,t);break;case"number":Ws(t)&&ar(t)<=Gs?(Wt(r,125),oi(r,t)):bl(t)?(Wt(r,124),yl(r,t)):(Wt(r,123),vl(r,t));break;case"bigint":Wt(r,122),ml(r,t);break;case"object":if(t===null)Wt(r,126);else if(t instanceof Array){Wt(r,117),vt(r,t.length);for(let e=0;e<t.length;e++)jn(r,t[e])}else if(t instanceof Uint8Array)Wt(r,116),Vt(r,t);else{Wt(r,118);const e=Object.keys(t);vt(r,e.length);for(let n=0;n<e.length;n++){const o=e[n];Xe(r,o),jn(r,t[o])}}break;case"boolean":Wt(r,t?120:121);break;default:Wt(r,127)}};class Mi extends Hn{constructor(t){super(),this.w=t,this.s=null,this.count=0}write(t){this.s===t?this.count++:(this.count>0&&vt(this,this.count-1),this.count=1,this.w(this,t),this.s=t)}}const Pi=r=>{r.count>0&&(oi(r.encoder,r.count===1?r.s:-r.s),r.count>1&&vt(r.encoder,r.count-2))};class cr{constructor(){this.encoder=new Hn,this.s=0,this.count=0}write(t){this.s===t?this.count++:(Pi(this),this.count=1,this.s=t)}toUint8Array(){return Pi(this),qt(this.encoder)}}const ji=r=>{if(r.count>0){const t=r.diff*2+(r.count===1?0:1);oi(r.encoder,t),r.count>1&&vt(r.encoder,r.count-2)}};class Fr{constructor(){this.encoder=new Hn,this.s=0,this.count=0,this.diff=0}write(t){this.diff===t-this.s?(this.s=t,this.count++):(ji(this),this.count=1,this.diff=t-this.s,this.s=t)}toUint8Array(){return ji(this),qt(this.encoder)}}class _l{constructor(){this.sarr=[],this.s="",this.lensE=new cr}write(t){this.s+=t,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(t.length)}toUint8Array(){const t=new Hn;return this.sarr.push(this.s),this.s="",Xe(t,this.sarr.join("")),xr(t,this.lensE.toUint8Array()),qt(t)}}const qi=typeof crypto>"u"?null:crypto,wl=qi!==null?r=>{const t=new ArrayBuffer(r),e=new Uint8Array(t);return qi.getRandomValues(e),t}:r=>{const t=new ArrayBuffer(r),e=new Uint8Array(t);for(let n=0;n<r;n++)e[n]=Math.ceil(Math.random()*4294967295>>>0);return t},yo=()=>new Uint32Array(wl(4))[0],Ol=[1e7]+-1e3+-4e3+-8e3+-1e11,El=()=>Ol.replace(/[018]/g,r=>(r^yo()&15>>r/4).toString(16)),Qe=Date.now,kl=r=>new Promise(r),Nr=r=>new Error(r),Se=()=>{throw Nr("Method unimplemented")},ye=()=>{throw Nr("Unexpected case")},Al=Object.keys,Sl=(r,t)=>{const e=[];for(const n in r)e.push(t(r[n],n));return e},gr=r=>Al(r).length,Tl=(r,t)=>{for(const e in r)if(!t(r[e],e))return!1;return!0},vo=(r,t)=>Object.prototype.hasOwnProperty.call(r,t),xl=(r,t)=>r===t||gr(r)===gr(t)&&Tl(r,(e,n)=>(e!==void 0||vo(t,n))&&t[n]===e),li=(r,t,e=0)=>{try{for(;e<r.length;e++)r[e](...t)}finally{e<r.length&&li(r,t,e+1)}},Nl=(r,t)=>r===t,Dn=(r,t)=>{if(r==null||t==null)return Nl(r,t);if(r.constructor!==t.constructor)return!1;if(r===t)return!0;switch(r.constructor){case ArrayBuffer:r=new Uint8Array(r),t=new Uint8Array(t);case Uint8Array:{if(r.byteLength!==t.byteLength)return!1;for(let e=0;e<r.length;e++)if(r[e]!==t[e])return!1;break}case Set:{if(r.size!==t.size)return!1;for(const e of r)if(!t.has(e))return!1;break}case Map:{if(r.size!==t.size)return!1;for(const e of r.keys())if(!t.has(e)||!Dn(r.get(e),t.get(e)))return!1;break}case Object:if(gr(r)!==gr(t))return!1;for(const e in r)if(!vo(r,e)||!Dn(r[e],t[e]))return!1;break;case Array:if(r.length!==t.length)return!1;for(let e=0;e<r.length;e++)if(!Dn(r[e],t[e]))return!1;break;default:return!1}return!0},je=Symbol;class Ll{constructor(t,e){this.left=t,this.right=e}}const Re=(r,t)=>new Ll(r,t),on=typeof document<"u"?document:{};typeof DOMParser<"u"&&new DOMParser;const Cl=r=>Ns(r,(t,e)=>`${e}:${t};`).join("");on.ELEMENT_NODE;on.TEXT_NODE;on.CDATA_SECTION_NODE;on.COMMENT_NODE;on.DOCUMENT_NODE;on.DOCUMENT_TYPE_NODE;on.DOCUMENT_FRAGMENT_NODE;const ai=je(),ui=je(),mo=je(),bo=je(),_o=je(),ci=je(),wo=je(),fi=je(),Oo=je(),Dl={[ai]:Re("font-weight","bold"),[ui]:Re("font-weight","normal"),[mo]:Re("color","blue"),[_o]:Re("color","green"),[bo]:Re("color","grey"),[ci]:Re("color","red"),[wo]:Re("color","purple"),[fi]:Re("color","orange"),[Oo]:Re("color","black")},Rl={[ai]:"\x1B[1m",[ui]:"\x1B[2m",[mo]:"\x1B[34m",[_o]:"\x1B[32m",[bo]:"\x1B[37m",[ci]:"\x1B[31m",[wo]:"\x1B[35m",[fi]:"\x1B[38;5;208m",[Oo]:"\x1B[0m"},Il=r=>{const t=[],e=[],n=Ae();let o=[],y=0;for(;y<r.length;y++){const v=r[y],g=Dl[v];if(g!==void 0)n.set(g.left,g.right);else if(v.constructor===String||v.constructor===Number){const p=Cl(n);y>0||p.length>0?(t.push("%c"+v),e.push(p)):t.push(v)}else break}for(y>0&&(o=e,o.unshift(t.join("")));y<r.length;y++){const v=r[y];v instanceof Symbol||o.push(v)}return o},Ml=r=>{const t=[],e=[];let n=0;for(;n<r.length;n++){const o=r[n],y=Rl[o];if(y!==void 0)t.push(y);else if(o.constructor===String||o.constructor===Number)t.push(o);else break}for(n>0&&(t.push("\x1B[0m"),e.push(t.join("")));n<r.length;n++){const o=r[n];o instanceof Symbol||e.push(o)}return e},Pl=Ar?Ml:Il,jl=(...r)=>{console.log(...Pl(r)),ql.forEach(t=>t.print(r))},ql=new Set,Eo=r=>({[Symbol.iterator](){return this},next:r}),Bl=(r,t)=>Eo(()=>{let e;do e=r.next();while(!e.done&&!t(e.value));return e}),Ur=(r,t)=>Eo(()=>{const{done:e,value:n}=r.next();return{done:e,value:e?void 0:t(n)}});class hi{constructor(t,e){this.clock=t,this.len=e}}class zn{constructor(){this.clients=new Map}}const Zr=(r,t,e)=>t.clients.forEach((n,o)=>{const y=r.doc.store.clients.get(o);for(let v=0;v<n.length;v++){const g=n[v];Uo(r,y,g.clock,g.len,e)}}),Fl=(r,t)=>{let e=0,n=r.length-1;for(;e<=n;){const o=Me((e+n)/2),y=r[o],v=y.clock;if(v<=t){if(t<v+y.len)return o;e=o+1}else n=o-1}return null},ko=(r,t)=>{const e=r.clients.get(t.client);return e!==void 0&&Fl(e,t.clock)!==null},di=r=>{r.clients.forEach(t=>{t.sort((o,y)=>o.clock-y.clock);let e,n;for(e=1,n=1;e<t.length;e++){const o=t[n-1],y=t[e];o.clock+o.len>=y.clock?o.len=rn(o.len,y.clock+y.len-o.clock):(n<e&&(t[n]=y),n++)}t.length=n})},Ul=r=>{const t=new zn;for(let e=0;e<r.length;e++)r[e].clients.forEach((n,o)=>{if(!t.clients.has(o)){const y=n.slice();for(let v=e+1;v<r.length;v++)Cs(y,r[v].clients.get(o)||[]);t.clients.set(o,y)}});return di(t),t},yr=(r,t,e,n)=>{Pe(r.clients,t,()=>[]).push(new hi(e,n))},Ao=()=>new zn,Hl=r=>{const t=Ao();return r.clients.forEach((e,n)=>{const o=[];for(let y=0;y<e.length;y++){const v=e[y];if(v.deleted){const g=v.id.clock;let p=v.length;if(y+1<e.length)for(let w=e[y+1];y+1<e.length&&w.deleted;w=e[++y+1])p+=w.length;o.push(new hi(g,p))}}o.length>0&&t.clients.set(n,o)}),t},On=(r,t)=>{vt(r.restEncoder,t.clients.size),t.clients.forEach((e,n)=>{r.resetDsCurVal(),vt(r.restEncoder,n);const o=e.length;vt(r.restEncoder,o);for(let y=0;y<o;y++){const v=e[y];r.writeDsClock(v.clock),r.writeDsLen(v.len)}})},pi=r=>{const t=new zn,e=wt(r.restDecoder);for(let n=0;n<e;n++){r.resetDsCurVal();const o=wt(r.restDecoder),y=wt(r.restDecoder);if(y>0){const v=Pe(t.clients,o,()=>[]);for(let g=0;g<y;g++)v.push(new hi(r.readDsClock(),r.readDsLen()))}}return t},Bi=(r,t,e)=>{const n=new zn,o=wt(r.restDecoder);for(let y=0;y<o;y++){r.resetDsCurVal();const v=wt(r.restDecoder),g=wt(r.restDecoder),p=e.clients.get(v)||[],w=$t(e,v);for(let d=0;d<g;d++){const c=r.readDsClock(),s=c+r.readDsLen();if(c<w){w<s&&yr(n,v,w,s-w);let l=Te(p,c),h=p[l];for(!h.deleted&&h.id.clock<c&&(p.splice(l+1,0,Er(t,h,c-h.id.clock)),l++);l<p.length&&(h=p[l++],h.id.clock<s);)h.deleted||(s<h.id.clock+h.length&&p.splice(l,0,Er(t,h,s-h.id.clock)),h.delete(t))}else yr(n,v,c,s-c)}}if(n.clients.size>0){const y=new tn;return vt(y.restEncoder,0),On(y,n),y.toUint8Array()}return null},So=yo;class En extends Qr{constructor({guid:t=El(),collectionid:e=null,gc:n=!0,gcFilter:o=()=>!0,meta:y=null,autoLoad:v=!1,shouldLoad:g=!0}={}){super(),this.gc=n,this.gcFilter=o,this.clientID=So(),this.guid=t,this.collectionid=e,this.share=new Map,this.store=new Bo,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=g,this.autoLoad=v,this.meta=y,this.isLoaded=!1,this.whenLoaded=kl(p=>{this.on("load",()=>{this.isLoaded=!0,p(this)})})}load(){const t=this._item;t!==null&&!this.shouldLoad&&Pt(t.parent.doc,e=>{e.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Array.from(this.subdocs).map(t=>t.guid))}transact(t,e=null){Pt(this,t,e)}get(t,e=Zt){const n=Pe(this.share,t,()=>{const y=new e;return y._integrate(this,null),y}),o=n.constructor;if(e!==Zt&&o!==e)if(o===Zt){const y=new e;y._map=n._map,n._map.forEach(v=>{for(;v!==null;v=v.left)v.parent=y}),y._start=n._start;for(let v=y._start;v!==null;v=v.right)v.parent=y;return y._length=n._length,this.share.set(t,y),y._integrate(this,null),y}else throw new Error(`Type with the name ${t} has already been defined with a different constructor`);return n}getArray(t=""){return this.get(t,yn)}getText(t=""){return this.get(t,wn)}getMap(t=""){return this.get(t,_n)}getXmlFragment(t=""){return this.get(t,en)}toJSON(){const t={};return this.share.forEach((e,n)=>{t[n]=e.toJSON()}),t}destroy(){lo(this.subdocs).forEach(e=>e.destroy());const t=this._item;if(t!==null){this._item=null;const e=t.content;e.doc=new En({guid:this.guid,...e.opts,shouldLoad:!1}),e.doc._item=t,Pt(t.parent.doc,n=>{const o=e.doc;t.deleted||n.subdocsAdded.add(o),n.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}on(t,e){super.on(t,e)}off(t,e){super.off(t,e)}}class To{constructor(t){this.restDecoder=t}resetDsCurVal(){}readDsClock(){return wt(this.restDecoder)}readDsLen(){return wt(this.restDecoder)}}class xo extends To{readLeftID(){return At(wt(this.restDecoder),wt(this.restDecoder))}readRightID(){return At(wt(this.restDecoder),wt(this.restDecoder))}readClient(){return wt(this.restDecoder)}readInfo(){return mn(this.restDecoder)}readString(){return Ve(this.restDecoder)}readParentInfo(){return wt(this.restDecoder)===1}readTypeRef(){return wt(this.restDecoder)}readLen(){return wt(this.restDecoder)}readAny(){return Pn(this.restDecoder)}readBuf(){return fl(Yt(this.restDecoder))}readJSON(){return JSON.parse(Ve(this.restDecoder))}readKey(){return Ve(this.restDecoder)}}class zl{constructor(t){this.dsCurrVal=0,this.restDecoder=t}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=wt(this.restDecoder),this.dsCurrVal}readDsLen(){const t=wt(this.restDecoder)+1;return this.dsCurrVal+=t,t}}class bn extends zl{constructor(t){super(t),this.keys=[],wt(t),this.keyClockDecoder=new Br(Yt(t)),this.clientDecoder=new ur(Yt(t)),this.leftClockDecoder=new Br(Yt(t)),this.rightClockDecoder=new Br(Yt(t)),this.infoDecoder=new Ri(Yt(t),mn),this.stringDecoder=new rl(Yt(t)),this.parentInfoDecoder=new Ri(Yt(t),mn),this.typeRefDecoder=new ur(Yt(t)),this.lenDecoder=new ur(Yt(t))}readLeftID(){return new gn(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new gn(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return Pn(this.restDecoder)}readBuf(){return Yt(this.restDecoder)}readJSON(){return Pn(this.restDecoder)}readKey(){const t=this.keyClockDecoder.read();if(t<this.keys.length)return this.keys[t];{const e=this.stringDecoder.read();return this.keys.push(e),e}}}class No{constructor(){this.restEncoder=Xt()}toUint8Array(){return qt(this.restEncoder)}resetDsCurVal(){}writeDsClock(t){vt(this.restEncoder,t)}writeDsLen(t){vt(this.restEncoder,t)}}class Vn extends No{writeLeftID(t){vt(this.restEncoder,t.client),vt(this.restEncoder,t.clock)}writeRightID(t){vt(this.restEncoder,t.client),vt(this.restEncoder,t.clock)}writeClient(t){vt(this.restEncoder,t)}writeInfo(t){Gr(this.restEncoder,t)}writeString(t){Xe(this.restEncoder,t)}writeParentInfo(t){vt(this.restEncoder,t?1:0)}writeTypeRef(t){vt(this.restEncoder,t)}writeLen(t){vt(this.restEncoder,t)}writeAny(t){jn(this.restEncoder,t)}writeBuf(t){Vt(this.restEncoder,t)}writeJSON(t){Xe(this.restEncoder,JSON.stringify(t))}writeKey(t){Xe(this.restEncoder,t)}}class Lo{constructor(){this.restEncoder=Xt(),this.dsCurrVal=0}toUint8Array(){return qt(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(t){const e=t-this.dsCurrVal;this.dsCurrVal=t,vt(this.restEncoder,e)}writeDsLen(t){t===0&&ye(),vt(this.restEncoder,t-1),this.dsCurrVal+=t}}class tn extends Lo{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new Fr,this.clientEncoder=new cr,this.leftClockEncoder=new Fr,this.rightClockEncoder=new Fr,this.infoEncoder=new Mi(Gr),this.stringEncoder=new _l,this.parentInfoEncoder=new Mi(Gr),this.typeRefEncoder=new cr,this.lenEncoder=new cr}toUint8Array(){const t=Xt();return vt(t,0),Vt(t,this.keyClockEncoder.toUint8Array()),Vt(t,this.clientEncoder.toUint8Array()),Vt(t,this.leftClockEncoder.toUint8Array()),Vt(t,this.rightClockEncoder.toUint8Array()),Vt(t,qt(this.infoEncoder)),Vt(t,this.stringEncoder.toUint8Array()),Vt(t,qt(this.parentInfoEncoder)),Vt(t,this.typeRefEncoder.toUint8Array()),Vt(t,this.lenEncoder.toUint8Array()),xr(t,qt(this.restEncoder)),qt(t)}writeLeftID(t){this.clientEncoder.write(t.client),this.leftClockEncoder.write(t.clock)}writeRightID(t){this.clientEncoder.write(t.client),this.rightClockEncoder.write(t.clock)}writeClient(t){this.clientEncoder.write(t)}writeInfo(t){this.infoEncoder.write(t)}writeString(t){this.stringEncoder.write(t)}writeParentInfo(t){this.parentInfoEncoder.write(t?1:0)}writeTypeRef(t){this.typeRefEncoder.write(t)}writeLen(t){this.lenEncoder.write(t)}writeAny(t){jn(this.restEncoder,t)}writeBuf(t){Vt(this.restEncoder,t)}writeJSON(t){jn(this.restEncoder,t)}writeKey(t){const e=this.keyMap.get(t);e===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(t)):this.keyClockEncoder.write(e)}}const Vl=(r,t,e,n)=>{n=rn(n,t[0].id.clock);const o=Te(t,n);vt(r.restEncoder,t.length-o),r.writeClient(e),vt(r.restEncoder,n);const y=t[o];y.write(r,n-y.id.clock);for(let v=o+1;v<t.length;v++)t[v].write(r,0)},gi=(r,t,e)=>{const n=new Map;e.forEach((o,y)=>{$t(t,y)>o&&n.set(y,o)}),Lr(t).forEach((o,y)=>{e.has(y)||n.set(y,0)}),vt(r.restEncoder,n.size),Array.from(n.entries()).sort((o,y)=>y[0]-o[0]).forEach(([o,y])=>{Vl(r,t.clients.get(o),o,y)})},$l=(r,t)=>{const e=Ae(),n=wt(r.restDecoder);for(let o=0;o<n;o++){const y=wt(r.restDecoder),v=new Array(y),g=r.readClient();let p=wt(r.restDecoder);e.set(g,{i:0,refs:v});for(let w=0;w<y;w++){const d=r.readInfo();switch(Sr&d){case 0:{const c=r.readLen();v[w]=new ae(At(g,p),c),p+=c;break}case 10:{const c=wt(r.restDecoder);v[w]=new ue(At(g,p),c),p+=c;break}default:{const c=(d&(Ie|se))===0,s=new Ft(At(g,p),null,(d&se)===se?r.readLeftID():null,null,(d&Ie)===Ie?r.readRightID():null,c?r.readParentInfo()?t.get(r.readString()):r.readLeftID():null,c&&(d&Mn)===Mn?r.readString():null,ss(r,d));v[w]=s,p+=s.length}}}}return e},Kl=(r,t,e)=>{const n=[];let o=Array.from(e.keys()).sort((l,h)=>l-h);if(o.length===0)return null;const y=()=>{if(o.length===0)return null;let l=e.get(o[o.length-1]);for(;l.refs.length===l.i;)if(o.pop(),o.length>0)l=e.get(o[o.length-1]);else return null;return l};let v=y();if(v===null&&n.length===0)return null;const g=new Bo,p=new Map,w=(l,h)=>{const m=p.get(l);(m==null||m>h)&&p.set(l,h)};let d=v.refs[v.i++];const c=new Map,s=()=>{for(const l of n){const h=l.id.client,m=e.get(h);m?(m.i--,g.clients.set(h,m.refs.slice(m.i)),e.delete(h),m.i=0,m.refs=[]):g.clients.set(h,[l]),o=o.filter(_=>_!==h)}n.length=0};for(;;){if(d.constructor!==ue){const h=Pe(c,d.id.client,()=>$t(t,d.id.client))-d.id.clock;if(h<0)n.push(d),w(d.id.client,d.id.clock-1),s();else{const m=d.getMissing(r,t);if(m!==null){n.push(d);const _=e.get(m)||{refs:[],i:0};if(_.refs.length===_.i)w(m,$t(t,m)),s();else{d=_.refs[_.i++];continue}}else(h===0||h<d.length)&&(d.integrate(r,h),c.set(d.id.client,d.id.clock+d.length))}}if(n.length>0)d=n.pop();else if(v!==null&&v.i<v.refs.length)d=v.refs[v.i++];else{if(v=y(),v===null)break;d=v.refs[v.i++]}}if(g.clients.size>0){const l=new tn;return gi(l,g,new Map),vt(l.restEncoder,0),{missing:p,update:l.toUint8Array()}}return null},Gl=(r,t)=>gi(r,t.doc.store,t.beforeState),Wl=(r,t,e,n=new bn(r))=>Pt(t,o=>{o.local=!1;let y=!1;const v=o.doc,g=v.store,p=$l(n,v),w=Kl(o,g,p),d=g.pendingStructs;if(d){for(const[s,l]of d.missing)if(l<$t(g,s)){y=!0;break}if(w){for(const[s,l]of w.missing){const h=d.missing.get(s);(h==null||h>l)&&d.missing.set(s,l)}d.update=vr([d.update,w.update])}}else g.pendingStructs=w;const c=Bi(n,o,g);if(g.pendingDs){const s=new bn(Ke(g.pendingDs));wt(s.restDecoder);const l=Bi(s,o,g);c&&l?g.pendingDs=vr([c,l]):g.pendingDs=c||l}else g.pendingDs=c;if(y){const s=g.pendingStructs.update;g.pendingStructs=null,Co(o.doc,s)}},e,!1),Co=(r,t,e,n=bn)=>{const o=Ke(t);Wl(o,r,e,new n(o))},Do=(r,t,e)=>Co(r,t,e,xo),Zl=(r,t,e=new Map)=>{gi(r,t.store,e),On(r,Hl(t.store))},Yl=(r,t=new Uint8Array([0]),e=new tn)=>{const n=Io(t);Zl(e,r,n);const o=[e.toUint8Array()];if(r.store.pendingDs&&o.push(r.store.pendingDs),r.store.pendingStructs&&o.push(pa(r.store.pendingStructs.update,t)),o.length>1){if(e.constructor===Vn)return ha(o.map((y,v)=>v===0?y:ya(y)));if(e.constructor===tn)return vr(o)}return o[0]},Ro=(r,t)=>Yl(r,t,new Vn),Xl=r=>{const t=new Map,e=wt(r.restDecoder);for(let n=0;n<e;n++){const o=wt(r.restDecoder),y=wt(r.restDecoder);t.set(o,y)}return t},Io=r=>Xl(new To(Ke(r))),Mo=(r,t)=>(vt(r.restEncoder,t.size),Array.from(t.entries()).sort((e,n)=>n[0]-e[0]).forEach(([e,n])=>{vt(r.restEncoder,e),vt(r.restEncoder,n)}),r),Jl=(r,t)=>Mo(r,Lr(t.store)),Ql=(r,t=new Lo)=>(r instanceof Map?Mo(t,r):Jl(t,r),t.toUint8Array()),ta=r=>Ql(r,new No);class ea{constructor(){this.l=[]}}const Fi=()=>new ea,Ui=(r,t)=>r.l.push(t),Hi=(r,t)=>{const e=r.l,n=e.length;r.l=e.filter(o=>t!==o),n===r.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},Po=(r,t,e)=>li(r.l,[t,e]);class gn{constructor(t,e){this.client=t,this.clock=e}}const pn=(r,t)=>r===t||r!==null&&t!==null&&r.client===t.client&&r.clock===t.clock,At=(r,t)=>new gn(r,t),jo=r=>{for(const[t,e]of r.doc.share.entries())if(e===r)return t;throw ye()};class qo{constructor(t,e,n,o=0){this.type=t,this.tname=e,this.item=n,this.assoc=o}}const zi=r=>new qo(r.type==null?null:At(r.type.client,r.type.clock),r.tname||null,r.item==null?null:At(r.item.client,r.item.clock),r.assoc==null?0:r.assoc);class na{constructor(t,e,n=0){this.type=t,this.index=e,this.assoc=n}}const ra=(r,t,e=0)=>new na(r,t,e),rr=(r,t,e)=>{let n=null,o=null;return r._item===null?o=jo(r):n=At(r._item.id.client,r._item.id.clock),new qo(n,o,t,e)},Vi=(r,t,e=0)=>{let n=r._start;if(e<0){if(t===0)return rr(r,null,e);t--}for(;n!==null;){if(!n.deleted&&n.countable){if(n.length>t)return rr(r,At(n.id.client,n.id.clock+t),e);t-=n.length}if(n.right===null&&e<0)return rr(r,n.lastId,e);n=n.right}return rr(r,null,e)},$i=(r,t)=>{const e=t.store,n=r.item,o=r.type,y=r.tname,v=r.assoc;let g=null,p=0;if(n!==null){if($t(e,n.client)<=n.clock)return null;const w=Qi(e,n),d=w.item;if(!(d instanceof Ft))return null;if(g=d.parent,g._item===null||!g._item.deleted){p=d.deleted||!d.countable?0:w.diff+(v>=0?0:1);let c=d.left;for(;c!==null;)!c.deleted&&c.countable&&(p+=c.length),c=c.left}}else{if(y!==null)g=t.get(y);else if(o!==null){if($t(e,o.client)<=o.clock)return null;const{item:w}=Qi(e,o);if(w instanceof Ft&&w.content instanceof Ne)g=w.content.type;else return null}else throw ye();v>=0?p=g._length:p=0}return ra(g,p,r.assoc)},Ki=(r,t)=>r===t||r!==null&&t!==null&&r.tname===t.tname&&pn(r.item,t.item)&&pn(r.type,t.type)&&r.assoc===t.assoc;class ia{constructor(t,e){this.ds=t,this.sv=e}}const oa=(r,t)=>new ia(r,t);oa(Ao(),new Map);const Nn=(r,t)=>t===void 0?!r.deleted:t.sv.has(r.id.client)&&(t.sv.get(r.id.client)||0)>r.id.clock&&!ko(t.ds,r.id),fr=(r,t)=>{const e=Pe(r.meta,fr,In),n=r.doc.store;e.has(t)||(t.sv.forEach((o,y)=>{o<$t(n,y)&&$e(r,At(y,o))}),Zr(r,t.ds,o=>{}),e.add(t))};class Bo{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const Lr=r=>{const t=new Map;return r.clients.forEach((e,n)=>{const o=e[e.length-1];t.set(n,o.id.clock+o.length)}),t},$t=(r,t)=>{const e=r.clients.get(t);if(e===void 0)return 0;const n=e[e.length-1];return n.id.clock+n.length},Fo=(r,t)=>{let e=r.clients.get(t.id.client);if(e===void 0)e=[],r.clients.set(t.id.client,e);else{const n=e[e.length-1];if(n.id.clock+n.length!==t.id.clock)throw ye()}e.push(t)},Te=(r,t)=>{let e=0,n=r.length-1,o=r[n],y=o.id.clock;if(y===t)return n;let v=Me(t/(y+o.length-1)*n);for(;e<=n;){if(o=r[v],y=o.id.clock,y<=t){if(t<y+o.length)return v;e=v+1}else n=v-1;v=Me((e+n)/2)}throw ye()},sa=(r,t)=>{const e=r.clients.get(t.client);return e[Te(e,t.clock)]},hr=sa,Yr=(r,t,e)=>{const n=Te(t,e),o=t[n];return o.id.clock<e&&o instanceof Ft?(t.splice(n+1,0,Er(r,o,e-o.id.clock)),n+1):n},$e=(r,t)=>{const e=r.doc.store.clients.get(t.client);return e[Yr(r,e,t.clock)]},Gi=(r,t,e)=>{const n=t.clients.get(e.client),o=Te(n,e.clock),y=n[o];return e.clock!==y.id.clock+y.length-1&&y.constructor!==ae&&n.splice(o+1,0,Er(r,y,e.clock-y.id.clock+1)),y},la=(r,t,e)=>{const n=r.clients.get(t.id.client);n[Te(n,t.id.clock)]=e},Uo=(r,t,e,n,o)=>{if(n===0)return;const y=e+n;let v=Yr(r,t,e),g;do g=t[v++],y<g.id.clock+g.length&&Yr(r,t,y),o(g);while(v<t.length&&t[v].id.clock<y)};class aa{constructor(t,e,n){this.doc=t,this.deleteSet=new zn,this.beforeState=Lr(t.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=e,this.meta=new Map,this.local=n,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set}}const Wi=(r,t)=>t.deleteSet.clients.size===0&&!Ls(t.afterState,(e,n)=>t.beforeState.get(n)!==e)?!1:(di(t.deleteSet),Gl(r,t),On(r,t.deleteSet),!0),Zi=(r,t,e)=>{const n=t._item;(n===null||n.id.clock<(r.beforeState.get(n.id.client)||0)&&!n.deleted)&&Pe(r.changed,t,In).add(e)},dr=(r,t)=>{const e=r[t-1],n=r[t];e.deleted===n.deleted&&e.constructor===n.constructor&&e.mergeWith(n)&&(r.splice(t,1),n instanceof Ft&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,e))},ua=(r,t,e)=>{for(const[n,o]of r.clients.entries()){const y=t.clients.get(n);for(let v=o.length-1;v>=0;v--){const g=o[v],p=g.clock+g.len;for(let w=Te(y,g.clock),d=y[w];w<y.length&&d.id.clock<p;d=y[++w]){const c=y[w];if(g.clock+g.len<=c.id.clock)break;c instanceof Ft&&c.deleted&&!c.keep&&e(c)&&c.gc(t,!1)}}}},ca=(r,t)=>{r.clients.forEach((e,n)=>{const o=t.clients.get(n);for(let y=e.length-1;y>=0;y--){const v=e[y],g=ti(o.length-1,1+Te(o,v.clock+v.len-1));for(let p=g,w=o[p];p>0&&w.id.clock>=v.clock;w=o[--p])dr(o,p)}})},Ho=(r,t)=>{if(t<r.length){const e=r[t],n=e.doc,o=n.store,y=e.deleteSet,v=e._mergeStructs;try{di(y),e.afterState=Lr(e.doc.store),n._transaction=null,n.emit("beforeObserverCalls",[e,n]);const g=[];e.changed.forEach((p,w)=>g.push(()=>{(w._item===null||!w._item.deleted)&&w._callObserver(e,p)})),g.push(()=>{e.changedParentTypes.forEach((p,w)=>g.push(()=>{(w._item===null||!w._item.deleted)&&(p=p.filter(d=>d.target._item===null||!d.target._item.deleted),p.forEach(d=>{d.currentTarget=w}),p.sort((d,c)=>d.path.length-c.path.length),Po(w._dEH,p,e))})),g.push(()=>n.emit("afterTransaction",[e,n]))}),li(g,[])}finally{n.gc&&ua(y,o,n.gcFilter),ca(y,o),e.afterState.forEach((d,c)=>{const s=e.beforeState.get(c)||0;if(s!==d){const l=o.clients.get(c),h=rn(Te(l,s),1);for(let m=l.length-1;m>=h;m--)dr(l,m)}});for(let d=0;d<v.length;d++){const{client:c,clock:s}=v[d].id,l=o.clients.get(c),h=Te(l,s);h+1<l.length&&dr(l,h+1),h>0&&dr(l,h)}if(!e.local&&e.afterState.get(n.clientID)!==e.beforeState.get(n.clientID)&&(jl(fi,ai,"[yjs] ",ui,ci,"Changed the client-id because another client seems to be using it."),n.clientID=So()),n.emit("afterTransactionCleanup",[e,n]),n._observers.has("update")){const d=new Vn;Wi(d,e)&&n.emit("update",[d.toUint8Array(),e.origin,n,e])}if(n._observers.has("updateV2")){const d=new tn;Wi(d,e)&&n.emit("updateV2",[d.toUint8Array(),e.origin,n,e])}const{subdocsAdded:g,subdocsLoaded:p,subdocsRemoved:w}=e;(g.size>0||w.size>0||p.size>0)&&(g.forEach(d=>{d.clientID=n.clientID,d.collectionid==null&&(d.collectionid=n.collectionid),n.subdocs.add(d)}),w.forEach(d=>n.subdocs.delete(d)),n.emit("subdocs",[{loaded:p,added:g,removed:w},n,e]),w.forEach(d=>d.destroy())),r.length<=t+1?(n._transactionCleanups=[],n.emit("afterAllTransactions",[n,r])):Ho(r,t+1)}}},Pt=(r,t,e=null,n=!0)=>{const o=r._transactionCleanups;let y=!1;r._transaction===null&&(y=!0,r._transaction=new aa(r,e,n),o.push(r._transaction),o.length===1&&r.emit("beforeAllTransactions",[r]),r.emit("beforeTransaction",[r._transaction,r]));try{t(r._transaction)}finally{y&&o[0]===r._transaction&&Ho(o,0)}};function*fa(r){const t=wt(r.restDecoder);for(let e=0;e<t;e++){const n=wt(r.restDecoder),o=r.readClient();let y=wt(r.restDecoder);for(let v=0;v<n;v++){const g=r.readInfo();if(g===10){const p=wt(r.restDecoder);yield new ue(At(o,y),p),y+=p}else if((Sr&g)!==0){const p=(g&(Ie|se))===0,w=new Ft(At(o,y),null,(g&se)===se?r.readLeftID():null,null,(g&Ie)===Ie?r.readRightID():null,p?r.readParentInfo()?r.readString():r.readLeftID():null,p&&(g&Mn)===Mn?r.readString():null,ss(r,g));yield w,y+=w.length}else{const p=r.readLen();yield new ae(At(o,y),p),y+=p}}}}class yi{constructor(t,e){this.gen=fa(t),this.curr=null,this.done=!1,this.filterSkips=e,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===ue);return this.curr}}class vi{constructor(t){this.currClient=0,this.startClock=0,this.written=0,this.encoder=t,this.clientStructs=[]}}const ha=r=>vr(r,xo,Vn),da=(r,t)=>{if(r.constructor===ae){const{client:e,clock:n}=r.id;return new ae(At(e,n+t),r.length-t)}else if(r.constructor===ue){const{client:e,clock:n}=r.id;return new ue(At(e,n+t),r.length-t)}else{const e=r,{client:n,clock:o}=e.id;return new Ft(At(n,o+t),null,At(n,o+t-1),null,e.rightOrigin,e.parent,e.parentSub,e.content.splice(t))}},vr=(r,t=bn,e=tn)=>{if(r.length===1)return r[0];const n=r.map(d=>new t(Ke(d)));let o=n.map(d=>new yi(d,!0)),y=null;const v=new e,g=new vi(v);for(;o=o.filter(s=>s.curr!==null),o.sort((s,l)=>{if(s.curr.id.client===l.curr.id.client){const h=s.curr.id.clock-l.curr.id.clock;return h===0?s.curr.constructor===l.curr.constructor?0:s.curr.constructor===ue?1:-1:h}else return l.curr.id.client-s.curr.id.client}),o.length!==0;){const d=o[0],c=d.curr.id.client;if(y!==null){let s=d.curr,l=!1;for(;s!==null&&s.id.clock+s.length<=y.struct.id.clock+y.struct.length&&s.id.client>=y.struct.id.client;)s=d.next(),l=!0;if(s===null||s.id.client!==c||l&&s.id.clock>y.struct.id.clock+y.struct.length)continue;if(c!==y.struct.id.client)He(g,y.struct,y.offset),y={struct:s,offset:0},d.next();else if(y.struct.id.clock+y.struct.length<s.id.clock)if(y.struct.constructor===ue)y.struct.length=s.id.clock+s.length-y.struct.id.clock;else{He(g,y.struct,y.offset);const h=s.id.clock-y.struct.id.clock-y.struct.length;y={struct:new ue(At(c,y.struct.id.clock+y.struct.length),h),offset:0}}else{const h=y.struct.id.clock+y.struct.length-s.id.clock;h>0&&(y.struct.constructor===ue?y.struct.length-=h:s=da(s,h)),y.struct.mergeWith(s)||(He(g,y.struct,y.offset),y={struct:s,offset:0},d.next())}}else y={struct:d.curr,offset:0},d.next();for(let s=d.curr;s!==null&&s.id.client===c&&s.id.clock===y.struct.id.clock+y.struct.length&&s.constructor!==ue;s=d.next())He(g,y.struct,y.offset),y={struct:s,offset:0}}y!==null&&(He(g,y.struct,y.offset),y=null),mi(g);const p=n.map(d=>pi(d)),w=Ul(p);return On(v,w),v.toUint8Array()},pa=(r,t,e=bn,n=tn)=>{const o=Io(t),y=new n,v=new vi(y),g=new e(Ke(r)),p=new yi(g,!1);for(;p.curr;){const d=p.curr,c=d.id.client,s=o.get(c)||0;if(p.curr.constructor===ue){p.next();continue}if(d.id.clock+d.length>s)for(He(v,d,rn(s-d.id.clock,0)),p.next();p.curr&&p.curr.id.client===c;)He(v,p.curr,0),p.next();else for(;p.curr&&p.curr.id.client===c&&p.curr.id.clock+p.curr.length<=s;)p.next()}mi(v);const w=pi(g);return On(y,w),y.toUint8Array()},zo=r=>{r.written>0&&(r.clientStructs.push({written:r.written,restEncoder:qt(r.encoder.restEncoder)}),r.encoder.restEncoder=Xt(),r.written=0)},He=(r,t,e)=>{r.written>0&&r.currClient!==t.id.client&&zo(r),r.written===0&&(r.currClient=t.id.client,r.encoder.writeClient(t.id.client),vt(r.encoder.restEncoder,t.id.clock+e)),t.write(r.encoder,e),r.written++},mi=r=>{zo(r);const t=r.encoder.restEncoder;vt(t,r.clientStructs.length);for(let e=0;e<r.clientStructs.length;e++){const n=r.clientStructs[e];vt(t,n.written),xr(t,n.restEncoder)}},ga=(r,t,e)=>{const n=new t(Ke(r)),o=new yi(n,!1),y=new e,v=new vi(y);for(let p=o.curr;p!==null;p=o.next())He(v,p,0);mi(v);const g=pi(n);return On(y,g),y.toUint8Array()},ya=r=>ga(r,bn,Vn);class Cr{constructor(t,e){this.target=t,this.currentTarget=t,this.transaction=e,this._changes=null,this._keys=null,this._delta=null}get path(){return va(this.currentTarget,this.target)}deletes(t){return ko(this.transaction.deleteSet,t.id)}get keys(){if(this._keys===null){const t=new Map,e=this.target;this.transaction.changed.get(e).forEach(o=>{if(o!==null){const y=e._map.get(o);let v,g;if(this.adds(y)){let p=y.left;for(;p!==null&&this.adds(p);)p=p.left;if(this.deletes(y))if(p!==null&&this.deletes(p))v="delete",g=Pr(p.content.getContent());else return;else p!==null&&this.deletes(p)?(v="update",g=Pr(p.content.getContent())):(v="add",g=void 0)}else if(this.deletes(y))v="delete",g=Pr(y.content.getContent());else return;t.set(o,{action:v,oldValue:g})}}),this._keys=t}return this._keys}get delta(){return this.changes.delta}adds(t){return t.id.clock>=(this.transaction.beforeState.get(t.id.client)||0)}get changes(){let t=this._changes;if(t===null){const e=this.target,n=In(),o=In(),y=[];if(t={added:n,deleted:o,delta:y,keys:this.keys},this.transaction.changed.get(e).has(null)){let g=null;const p=()=>{g&&y.push(g)};for(let w=e._start;w!==null;w=w.right)w.deleted?this.deletes(w)&&!this.adds(w)&&((g===null||g.delete===void 0)&&(p(),g={delete:0}),g.delete+=w.length,o.add(w)):this.adds(w)?((g===null||g.insert===void 0)&&(p(),g={insert:[]}),g.insert=g.insert.concat(w.content.getContent()),n.add(w)):((g===null||g.retain===void 0)&&(p(),g={retain:0}),g.retain+=w.length);g!==null&&g.retain===void 0&&p()}this._changes=t}return t}}const va=(r,t)=>{const e=[];for(;t._item!==null&&t!==r;){if(t._item.parentSub!==null)e.unshift(t._item.parentSub);else{let n=0,o=t._item.parent._start;for(;o!==t._item&&o!==null;)o.deleted||n++,o=o.right;e.unshift(n)}t=t._item.parent}return e},Vo=80;let bi=0;class ma{constructor(t,e){t.marker=!0,this.p=t,this.index=e,this.timestamp=bi++}}const ba=r=>{r.timestamp=bi++},$o=(r,t,e)=>{r.p.marker=!1,r.p=t,t.marker=!0,r.index=e,r.timestamp=bi++},_a=(r,t,e)=>{if(r.length>=Vo){const n=r.reduce((o,y)=>o.timestamp<y.timestamp?o:y);return $o(n,t,e),n}else{const n=new ma(t,e);return r.push(n),n}},Dr=(r,t)=>{if(r._start===null||t===0||r._searchMarker===null)return null;const e=r._searchMarker.length===0?null:r._searchMarker.reduce((y,v)=>ar(t-y.index)<ar(t-v.index)?y:v);let n=r._start,o=0;for(e!==null&&(n=e.p,o=e.index,ba(e));n.right!==null&&o<t;){if(!n.deleted&&n.countable){if(t<o+n.length)break;o+=n.length}n=n.right}for(;n.left!==null&&o>t;)n=n.left,!n.deleted&&n.countable&&(o-=n.length);for(;n.left!==null&&n.left.id.client===n.id.client&&n.left.id.clock+n.left.length===n.id.clock;)n=n.left,!n.deleted&&n.countable&&(o-=n.length);return e!==null&&ar(e.index-o)<n.parent.length/Vo?($o(e,n,o),e):_a(r._searchMarker,n,o)},qn=(r,t,e)=>{for(let n=r.length-1;n>=0;n--){const o=r[n];if(e>0){let y=o.p;for(y.marker=!1;y&&(y.deleted||!y.countable);)y=y.left,y&&!y.deleted&&y.countable&&(o.index-=y.length);if(y===null||y.marker===!0){r.splice(n,1);continue}o.p=y,y.marker=!0}(t<o.index||e>0&&t===o.index)&&(o.index=rn(t,o.index+e))}},Rr=(r,t,e)=>{const n=r,o=t.changedParentTypes;for(;Pe(o,r,()=>[]).push(e),r._item!==null;)r=r._item.parent;Po(n._eH,e,t)};class Zt{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=Fi(),this._dEH=Fi(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(t,e){this.doc=t,this._item=e}_copy(){throw Se()}clone(){throw Se()}_write(t){}get _first(){let t=this._start;for(;t!==null&&t.deleted;)t=t.right;return t}_callObserver(t,e){!t.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(t){Ui(this._eH,t)}observeDeep(t){Ui(this._dEH,t)}unobserve(t){Hi(this._eH,t)}unobserveDeep(t){Hi(this._dEH,t)}toJSON(){}}const Ko=(r,t,e)=>{t<0&&(t=r._length+t),e<0&&(e=r._length+e);let n=e-t;const o=[];let y=r._start;for(;y!==null&&n>0;){if(y.countable&&!y.deleted){const v=y.content.getContent();if(v.length<=t)t-=v.length;else{for(let g=t;g<v.length&&n>0;g++)o.push(v[g]),n--;t=0}}y=y.right}return o},Go=r=>{const t=[];let e=r._start;for(;e!==null;){if(e.countable&&!e.deleted){const n=e.content.getContent();for(let o=0;o<n.length;o++)t.push(n[o])}e=e.right}return t},Bn=(r,t)=>{let e=0,n=r._start;for(;n!==null;){if(n.countable&&!n.deleted){const o=n.content.getContent();for(let y=0;y<o.length;y++)t(o[y],e++,r)}n=n.right}},Wo=(r,t)=>{const e=[];return Bn(r,(n,o)=>{e.push(t(n,o,r))}),e},wa=r=>{let t=r._start,e=null,n=0;return{[Symbol.iterator](){return this},next:()=>{if(e===null){for(;t!==null&&t.deleted;)t=t.right;if(t===null)return{done:!0,value:void 0};e=t.content.getContent(),n=0,t=t.right}const o=e[n++];return e.length<=n&&(e=null),{done:!1,value:o}}}},Zo=(r,t)=>{const e=Dr(r,t);let n=r._start;for(e!==null&&(n=e.p,t-=e.index);n!==null;n=n.right)if(!n.deleted&&n.countable){if(t<n.length)return n.content.getContent()[t];t-=n.length}},mr=(r,t,e,n)=>{let o=e;const y=r.doc,v=y.clientID,g=y.store,p=e===null?t._start:e.right;let w=[];const d=()=>{w.length>0&&(o=new Ft(At(v,$t(g,v)),o,o&&o.lastId,p,p&&p.id,t,null,new nn(w)),o.integrate(r,0),w=[])};n.forEach(c=>{if(c===null)w.push(c);else switch(c.constructor){case Number:case Object:case Boolean:case Array:case String:w.push(c);break;default:switch(d(),c.constructor){case Uint8Array:case ArrayBuffer:o=new Ft(At(v,$t(g,v)),o,o&&o.lastId,p,p&&p.id,t,null,new $n(new Uint8Array(c))),o.integrate(r,0);break;case En:o=new Ft(At(v,$t(g,v)),o,o&&o.lastId,p,p&&p.id,t,null,new Kn(c)),o.integrate(r,0);break;default:if(c instanceof Zt)o=new Ft(At(v,$t(g,v)),o,o&&o.lastId,p,p&&p.id,t,null,new Ne(c)),o.integrate(r,0);else throw new Error("Unexpected content type in insert operation")}}}),d()},Yo=Nr("Length exceeded!"),Xo=(r,t,e,n)=>{if(e>t._length)throw Yo;if(e===0)return t._searchMarker&&qn(t._searchMarker,e,n.length),mr(r,t,null,n);const o=e,y=Dr(t,e);let v=t._start;for(y!==null&&(v=y.p,e-=y.index,e===0&&(v=v.prev,e+=v&&v.countable&&!v.deleted?v.length:0));v!==null;v=v.right)if(!v.deleted&&v.countable){if(e<=v.length){e<v.length&&$e(r,At(v.id.client,v.id.clock+e));break}e-=v.length}return t._searchMarker&&qn(t._searchMarker,o,n.length),mr(r,t,v,n)},Oa=(r,t,e)=>{let o=(t._searchMarker||[]).reduce((y,v)=>v.index>y.index?v:y,{index:0,p:t._start}).p;if(o)for(;o.right;)o=o.right;return mr(r,t,o,e)},Jo=(r,t,e,n)=>{if(n===0)return;const o=e,y=n,v=Dr(t,e);let g=t._start;for(v!==null&&(g=v.p,e-=v.index);g!==null&&e>0;g=g.right)!g.deleted&&g.countable&&(e<g.length&&$e(r,At(g.id.client,g.id.clock+e)),e-=g.length);for(;n>0&&g!==null;)g.deleted||(n<g.length&&$e(r,At(g.id.client,g.id.clock+n)),g.delete(r),n-=g.length),g=g.right;if(n>0)throw Yo;t._searchMarker&&qn(t._searchMarker,o,-y+n)},br=(r,t,e)=>{const n=t._map.get(e);n!==void 0&&n.delete(r)},_i=(r,t,e,n)=>{const o=t._map.get(e)||null,y=r.doc,v=y.clientID;let g;if(n==null)g=new nn([n]);else switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:g=new nn([n]);break;case Uint8Array:g=new $n(n);break;case En:g=new Kn(n);break;default:if(n instanceof Zt)g=new Ne(n);else throw new Error("Unexpected content type")}new Ft(At(v,$t(y.store,v)),o,o&&o.lastId,null,null,t,e,g).integrate(r,0)},wi=(r,t)=>{const e=r._map.get(t);return e!==void 0&&!e.deleted?e.content.getContent()[e.length-1]:void 0},Qo=r=>{const t={};return r._map.forEach((e,n)=>{e.deleted||(t[n]=e.content.getContent()[e.length-1])}),t},ts=(r,t)=>{const e=r._map.get(t);return e!==void 0&&!e.deleted},ir=r=>Bl(r.entries(),t=>!t[1].deleted);class Ea extends Cr{constructor(t,e){super(t,e),this._transaction=e}}class yn extends Zt{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(t){const e=new yn;return e.push(t),e}_integrate(t,e){super._integrate(t,e),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new yn}clone(){const t=new yn;return t.insert(0,this.toArray().map(e=>e instanceof Zt?e.clone():e)),t}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}_callObserver(t,e){super._callObserver(t,e),Rr(this,t,new Ea(this,t))}insert(t,e){this.doc!==null?Pt(this.doc,n=>{Xo(n,this,t,e)}):this._prelimContent.splice(t,0,...e)}push(t){this.doc!==null?Pt(this.doc,e=>{Oa(e,this,t)}):this._prelimContent.push(...t)}unshift(t){this.insert(0,t)}delete(t,e=1){this.doc!==null?Pt(this.doc,n=>{Jo(n,this,t,e)}):this._prelimContent.splice(t,e)}get(t){return Zo(this,t)}toArray(){return Go(this)}slice(t=0,e=this.length){return Ko(this,t,e)}toJSON(){return this.map(t=>t instanceof Zt?t.toJSON():t)}map(t){return Wo(this,t)}forEach(t){Bn(this,t)}[Symbol.iterator](){return wa(this)}_write(t){t.writeTypeRef(Ka)}}const ka=r=>new yn;class Aa extends Cr{constructor(t,e,n){super(t,e),this.keysChanged=n}}class _n extends Zt{constructor(t){super(),this._prelimContent=null,t===void 0?this._prelimContent=new Map:this._prelimContent=new Map(t)}_integrate(t,e){super._integrate(t,e),this._prelimContent.forEach((n,o)=>{this.set(o,n)}),this._prelimContent=null}_copy(){return new _n}clone(){const t=new _n;return this.forEach((e,n)=>{t.set(n,e instanceof Zt?e.clone():e)}),t}_callObserver(t,e){Rr(this,t,new Aa(this,t,e))}toJSON(){const t={};return this._map.forEach((e,n)=>{if(!e.deleted){const o=e.content.getContent()[e.length-1];t[n]=o instanceof Zt?o.toJSON():o}}),t}get size(){return[...ir(this._map)].length}keys(){return Ur(ir(this._map),t=>t[0])}values(){return Ur(ir(this._map),t=>t[1].content.getContent()[t[1].length-1])}entries(){return Ur(ir(this._map),t=>[t[0],t[1].content.getContent()[t[1].length-1]])}forEach(t){const e={};return this._map.forEach((n,o)=>{n.deleted||t(n.content.getContent()[n.length-1],o,this)}),e}[Symbol.iterator](){return this.entries()}delete(t){this.doc!==null?Pt(this.doc,e=>{br(e,this,t)}):this._prelimContent.delete(t)}set(t,e){return this.doc!==null?Pt(this.doc,n=>{_i(n,this,t,e)}):this._prelimContent.set(t,e),e}get(t){return wi(this,t)}has(t){return ts(this,t)}clear(){this.doc!==null?Pt(this.doc,t=>{this.forEach(function(e,n,o){br(t,o,n)})}):this._prelimContent.clear()}_write(t){t.writeTypeRef(Ga)}}const Sa=r=>new _n,ze=(r,t)=>r===t||typeof r=="object"&&typeof t=="object"&&r&&t&&xl(r,t);class Xr{constructor(t,e,n,o){this.left=t,this.right=e,this.index=n,this.currentAttributes=o}forward(){switch(this.right===null&&ye(),this.right.content.constructor){case Kt:this.right.deleted||kn(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const Yi=(r,t,e)=>{for(;t.right!==null&&e>0;){switch(t.right.content.constructor){case Kt:t.right.deleted||kn(t.currentAttributes,t.right.content);break;default:t.right.deleted||(e<t.right.length&&$e(r,At(t.right.id.client,t.right.id.clock+e)),t.index+=t.right.length,e-=t.right.length);break}t.left=t.right,t.right=t.right.right}return t},or=(r,t,e)=>{const n=new Map,o=Dr(t,e);if(o){const y=new Xr(o.p.left,o.p,o.index,n);return Yi(r,y,e-o.index)}else{const y=new Xr(null,t._start,0,n);return Yi(r,y,e)}},es=(r,t,e,n)=>{for(;e.right!==null&&(e.right.deleted===!0||e.right.content.constructor===Kt&&ze(n.get(e.right.content.key),e.right.content.value));)e.right.deleted||n.delete(e.right.content.key),e.forward();const o=r.doc,y=o.clientID;n.forEach((v,g)=>{const p=e.left,w=e.right,d=new Ft(At(y,$t(o.store,y)),p,p&&p.lastId,w,w&&w.id,t,null,new Kt(g,v));d.integrate(r,0),e.right=d,e.forward()})},kn=(r,t)=>{const{key:e,value:n}=t;n===null?r.delete(e):r.set(e,n)},ns=(r,t)=>{for(;r.right!==null;){if(!(r.right.deleted||r.right.content.constructor===Kt&&ze(t[r.right.content.key]||null,r.right.content.value)))break;r.forward()}},rs=(r,t,e,n)=>{const o=r.doc,y=o.clientID,v=new Map;for(const g in n){const p=n[g],w=e.currentAttributes.get(g)||null;if(!ze(w,p)){v.set(g,w);const{left:d,right:c}=e;e.right=new Ft(At(y,$t(o.store,y)),d,d&&d.lastId,c,c&&c.id,t,null,new Kt(g,p)),e.right.integrate(r,0),e.forward()}}return v},Hr=(r,t,e,n,o)=>{e.currentAttributes.forEach((s,l)=>{o[l]===void 0&&(o[l]=null)});const y=r.doc,v=y.clientID;ns(e,o);const g=rs(r,t,e,o),p=n.constructor===String?new xe(n):n instanceof Zt?new Ne(n):new sn(n);let{left:w,right:d,index:c}=e;t._searchMarker&&qn(t._searchMarker,e.index,p.getLength()),d=new Ft(At(v,$t(y.store,v)),w,w&&w.lastId,d,d&&d.id,t,null,p),d.integrate(r,0),e.right=d,e.index=c,e.forward(),es(r,t,e,g)},Xi=(r,t,e,n,o)=>{const y=r.doc,v=y.clientID;ns(e,o);const g=rs(r,t,e,o);t:for(;e.right!==null&&(n>0||g.size>0&&(e.right.deleted||e.right.content.constructor===Kt));){if(!e.right.deleted)switch(e.right.content.constructor){case Kt:{const{key:p,value:w}=e.right.content,d=o[p];if(d!==void 0){if(ze(d,w))g.delete(p);else{if(n===0)break t;g.set(p,w)}e.right.delete(r)}else e.currentAttributes.set(p,w);break}default:n<e.right.length&&$e(r,At(e.right.id.client,e.right.id.clock+n)),n-=e.right.length;break}e.forward()}if(n>0){let p="";for(;n>0;n--)p+=`
`;e.right=new Ft(At(v,$t(y.store,v)),e.left,e.left&&e.left.lastId,e.right,e.right&&e.right.id,t,null,new xe(p)),e.right.integrate(r,0),e.forward()}es(r,t,e,g)},is=(r,t,e,n,o)=>{let y=e;const v=pr(o);for(;y&&(!y.countable||y.deleted);)!y.deleted&&y.content.constructor===Kt&&kn(v,y.content),y=y.right;let g=0,p=!1;for(;t!==y;){if(e===t&&(p=!0),!t.deleted){const w=t.content;switch(w.constructor){case Kt:{const{key:d,value:c}=w;((v.get(d)||null)!==c||(n.get(d)||null)===c)&&(t.delete(r),g++,!p&&(o.get(d)||null)===c&&(n.get(d)||null)!==c&&o.delete(d));break}}}t=t.right}return g},Ta=(r,t)=>{for(;t&&t.right&&(t.right.deleted||!t.right.countable);)t=t.right;const e=new Set;for(;t&&(t.deleted||!t.countable);){if(!t.deleted&&t.content.constructor===Kt){const n=t.content.key;e.has(n)?t.delete(r):e.add(n)}t=t.left}},xa=r=>{let t=0;return Pt(r.doc,e=>{let n=r._start,o=r._start,y=Ae();const v=pr(y);for(;o;){if(o.deleted===!1)switch(o.content.constructor){case Kt:kn(v,o.content);break;default:t+=is(e,n,o,y,v),y=pr(v),n=o;break}o=o.right}}),t},Ji=(r,t,e)=>{const n=e,o=pr(t.currentAttributes),y=t.right;for(;e>0&&t.right!==null;){if(t.right.deleted===!1)switch(t.right.content.constructor){case Ne:case sn:case xe:e<t.right.length&&$e(r,At(t.right.id.client,t.right.id.clock+e)),e-=t.right.length,t.right.delete(r);break}t.forward()}y&&is(r,y,t.right,o,t.currentAttributes);const v=(t.left||t.right).parent;return v._searchMarker&&qn(v._searchMarker,t.index,-n+e),t};class Na extends Cr{constructor(t,e,n){super(t,e),this.childListChanged=!1,this.keysChanged=new Set,n.forEach(o=>{o===null?this.childListChanged=!0:this.keysChanged.add(o)})}get changes(){if(this._changes===null){const t={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=t}return this._changes}get delta(){if(this._delta===null){const t=this.target.doc,e=[];Pt(t,n=>{const o=new Map,y=new Map;let v=this.target._start,g=null;const p={};let w="",d=0,c=0;const s=()=>{if(g!==null){let l;switch(g){case"delete":l={delete:c},c=0;break;case"insert":l={insert:w},o.size>0&&(l.attributes={},o.forEach((h,m)=>{h!==null&&(l.attributes[m]=h)})),w="";break;case"retain":if(l={retain:d},Object.keys(p).length>0){l.attributes={};for(const h in p)l.attributes[h]=p[h]}d=0;break}e.push(l),g=null}};for(;v!==null;){switch(v.content.constructor){case Ne:case sn:this.adds(v)?this.deletes(v)||(s(),g="insert",w=v.content.getContent()[0],s()):this.deletes(v)?(g!=="delete"&&(s(),g="delete"),c+=1):v.deleted||(g!=="retain"&&(s(),g="retain"),d+=1);break;case xe:this.adds(v)?this.deletes(v)||(g!=="insert"&&(s(),g="insert"),w+=v.content.str):this.deletes(v)?(g!=="delete"&&(s(),g="delete"),c+=v.length):v.deleted||(g!=="retain"&&(s(),g="retain"),d+=v.length);break;case Kt:{const{key:l,value:h}=v.content;if(this.adds(v)){if(!this.deletes(v)){const m=o.get(l)||null;ze(m,h)?h!==null&&v.delete(n):(g==="retain"&&s(),ze(h,y.get(l)||null)?delete p[l]:p[l]=h)}}else if(this.deletes(v)){y.set(l,h);const m=o.get(l)||null;ze(m,h)||(g==="retain"&&s(),p[l]=m)}else if(!v.deleted){y.set(l,h);const m=p[l];m!==void 0&&(ze(m,h)?m!==null&&v.delete(n):(g==="retain"&&s(),h===null?delete p[l]:p[l]=h))}v.deleted||(g==="insert"&&s(),kn(o,v.content));break}}v=v.right}for(s();e.length>0;){const l=e[e.length-1];if(l.retain!==void 0&&l.attributes===void 0)e.pop();else break}}),this._delta=e}return this._delta}}class wn extends Zt{constructor(t){super(),this._pending=t!==void 0?[()=>this.insert(0,t)]:[],this._searchMarker=[]}get length(){return this._length}_integrate(t,e){super._integrate(t,e);try{this._pending.forEach(n=>n())}catch(n){console.error(n)}this._pending=null}_copy(){return new wn}clone(){const t=new wn;return t.applyDelta(this.toDelta()),t}_callObserver(t,e){super._callObserver(t,e);const n=new Na(this,t,e),o=t.doc;if(Rr(this,t,n),!t.local){let y=!1;for(const[v,g]of t.afterState.entries()){const p=t.beforeState.get(v)||0;if(g!==p&&(Uo(t,o.store.clients.get(v),p,g,w=>{!w.deleted&&w.content.constructor===Kt&&(y=!0)}),y))break}y||Zr(t,t.deleteSet,v=>{v instanceof ae||y||v.parent===this&&v.content.constructor===Kt&&(y=!0)}),Pt(o,v=>{y?xa(this):Zr(v,v.deleteSet,g=>{g instanceof ae||g.parent===this&&Ta(v,g)})})}}toString(){let t="",e=this._start;for(;e!==null;)!e.deleted&&e.countable&&e.content.constructor===xe&&(t+=e.content.str),e=e.right;return t}toJSON(){return this.toString()}applyDelta(t,{sanitize:e=!0}={}){this.doc!==null?Pt(this.doc,n=>{const o=new Xr(null,this._start,0,new Map);for(let y=0;y<t.length;y++){const v=t[y];if(v.insert!==void 0){const g=!e&&typeof v.insert=="string"&&y===t.length-1&&o.right===null&&v.insert.slice(-1)===`
`?v.insert.slice(0,-1):v.insert;(typeof g!="string"||g.length>0)&&Hr(n,this,o,g,v.attributes||{})}else v.retain!==void 0?Xi(n,this,o,v.retain,v.attributes||{}):v.delete!==void 0&&Ji(n,o,v.delete)}}):this._pending.push(()=>this.applyDelta(t))}toDelta(t,e,n){const o=[],y=new Map,v=this.doc;let g="",p=this._start;function w(){if(g.length>0){const d={};let c=!1;y.forEach((l,h)=>{c=!0,d[h]=l});const s={insert:g};c&&(s.attributes=d),o.push(s),g=""}}return Pt(v,d=>{for(t&&fr(d,t),e&&fr(d,e);p!==null;){if(Nn(p,t)||e!==void 0&&Nn(p,e))switch(p.content.constructor){case xe:{const c=y.get("ychange");t!==void 0&&!Nn(p,t)?(c===void 0||c.user!==p.id.client||c.state!=="removed")&&(w(),y.set("ychange",n?n("removed",p.id):{type:"removed"})):e!==void 0&&!Nn(p,e)?(c===void 0||c.user!==p.id.client||c.state!=="added")&&(w(),y.set("ychange",n?n("added",p.id):{type:"added"})):c!==void 0&&(w(),y.delete("ychange")),g+=p.content.str;break}case Ne:case sn:{w();const c={insert:p.content.getContent()[0]};if(y.size>0){const s={};c.attributes=s,y.forEach((l,h)=>{s[h]=l})}o.push(c);break}case Kt:Nn(p,t)&&(w(),kn(y,p.content));break}p=p.right}w()},fr),o}insert(t,e,n){if(e.length<=0)return;const o=this.doc;o!==null?Pt(o,y=>{const v=or(y,this,t);n||(n={},v.currentAttributes.forEach((g,p)=>{n[p]=g})),Hr(y,this,v,e,n)}):this._pending.push(()=>this.insert(t,e,n))}insertEmbed(t,e,n={}){const o=this.doc;o!==null?Pt(o,y=>{const v=or(y,this,t);Hr(y,this,v,e,n)}):this._pending.push(()=>this.insertEmbed(t,e,n))}delete(t,e){if(e===0)return;const n=this.doc;n!==null?Pt(n,o=>{Ji(o,or(o,this,t),e)}):this._pending.push(()=>this.delete(t,e))}format(t,e,n){if(e===0)return;const o=this.doc;o!==null?Pt(o,y=>{const v=or(y,this,t);v.right!==null&&Xi(y,this,v,e,n)}):this._pending.push(()=>this.format(t,e,n))}removeAttribute(t){this.doc!==null?Pt(this.doc,e=>{br(e,this,t)}):this._pending.push(()=>this.removeAttribute(t))}setAttribute(t,e){this.doc!==null?Pt(this.doc,n=>{_i(n,this,t,e)}):this._pending.push(()=>this.setAttribute(t,e))}getAttribute(t){return wi(this,t)}getAttributes(t){return Qo(this)}_write(t){t.writeTypeRef(Wa)}}const La=r=>new wn;class zr{constructor(t,e=()=>!0){this._filter=e,this._root=t,this._currentNode=t._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let t=this._currentNode,e=t&&t.content&&t.content.type;if(t!==null&&(!this._firstCall||t.deleted||!this._filter(e)))do if(e=t.content.type,!t.deleted&&(e.constructor===Fn||e.constructor===en)&&e._start!==null)t=e._start;else for(;t!==null;)if(t.right!==null){t=t.right;break}else t.parent===this._root?t=null:t=t.parent._item;while(t!==null&&(t.deleted||!this._filter(t.content.type)));return this._firstCall=!1,t===null?{value:void 0,done:!0}:(this._currentNode=t,{value:t.content.type,done:!1})}}class en extends Zt{constructor(){super(),this._prelimContent=[]}get firstChild(){const t=this._first;return t?t.content.getContent()[0]:null}_integrate(t,e){super._integrate(t,e),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new en}clone(){const t=new en;return t.insert(0,this.toArray().map(e=>e instanceof Zt?e.clone():e)),t}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(t){return new zr(this,t)}querySelector(t){t=t.toUpperCase();const n=new zr(this,o=>o.nodeName&&o.nodeName.toUpperCase()===t).next();return n.done?null:n.value}querySelectorAll(t){return t=t.toUpperCase(),Array.from(new zr(this,e=>e.nodeName&&e.nodeName.toUpperCase()===t))}_callObserver(t,e){Rr(this,t,new Ra(this,e,t))}toString(){return Wo(this,t=>t.toString()).join("")}toJSON(){return this.toString()}toDOM(t=document,e={},n){const o=t.createDocumentFragment();return n!==void 0&&n._createAssociation(o,this),Bn(this,y=>{o.insertBefore(y.toDOM(t,e,n),null)}),o}insert(t,e){this.doc!==null?Pt(this.doc,n=>{Xo(n,this,t,e)}):this._prelimContent.splice(t,0,...e)}insertAfter(t,e){if(this.doc!==null)Pt(this.doc,n=>{const o=t&&t instanceof Zt?t._item:t;mr(n,this,o,e)});else{const n=this._prelimContent,o=t===null?0:n.findIndex(y=>y===t)+1;if(o===0&&t!==null)throw Nr("Reference item not found");n.splice(o,0,...e)}}delete(t,e=1){this.doc!==null?Pt(this.doc,n=>{Jo(n,this,t,e)}):this._prelimContent.splice(t,e)}toArray(){return Go(this)}push(t){this.insert(this.length,t)}unshift(t){this.insert(0,t)}get(t){return Zo(this,t)}slice(t=0,e=this.length){return Ko(this,t,e)}forEach(t){Bn(this,t)}_write(t){t.writeTypeRef(Ya)}}const Ca=r=>new en;class Fn extends en{constructor(t="UNDEFINED"){super(),this.nodeName=t,this._prelimAttrs=new Map}get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_integrate(t,e){super._integrate(t,e),this._prelimAttrs.forEach((n,o)=>{this.setAttribute(o,n)}),this._prelimAttrs=null}_copy(){return new Fn(this.nodeName)}clone(){const t=new Fn(this.nodeName),e=this.getAttributes();for(const n in e)t.setAttribute(n,e[n]);return t.insert(0,this.toArray().map(n=>n instanceof Zt?n.clone():n)),t}toString(){const t=this.getAttributes(),e=[],n=[];for(const g in t)n.push(g);n.sort();const o=n.length;for(let g=0;g<o;g++){const p=n[g];e.push(p+'="'+t[p]+'"')}const y=this.nodeName.toLocaleLowerCase(),v=e.length>0?" "+e.join(" "):"";return`<${y}${v}>${super.toString()}</${y}>`}removeAttribute(t){this.doc!==null?Pt(this.doc,e=>{br(e,this,t)}):this._prelimAttrs.delete(t)}setAttribute(t,e){this.doc!==null?Pt(this.doc,n=>{_i(n,this,t,e)}):this._prelimAttrs.set(t,e)}getAttribute(t){return wi(this,t)}hasAttribute(t){return ts(this,t)}getAttributes(t){return Qo(this)}toDOM(t=document,e={},n){const o=t.createElement(this.nodeName),y=this.getAttributes();for(const v in y)o.setAttribute(v,y[v]);return Bn(this,v=>{o.appendChild(v.toDOM(t,e,n))}),n!==void 0&&n._createAssociation(o,this),o}_write(t){t.writeTypeRef(Za),t.writeKey(this.nodeName)}}const Da=r=>new Fn(r.readKey());class Ra extends Cr{constructor(t,e,n){super(t,n),this.childListChanged=!1,this.attributesChanged=new Set,e.forEach(o=>{o===null?this.childListChanged=!0:this.attributesChanged.add(o)})}}class _r extends _n{constructor(t){super(),this.hookName=t}_copy(){return new _r(this.hookName)}clone(){const t=new _r(this.hookName);return this.forEach((e,n)=>{t.set(n,e)}),t}toDOM(t=document,e={},n){const o=e[this.hookName];let y;return o!==void 0?y=o.createDom(this):y=document.createElement(this.hookName),y.setAttribute("data-yjs-hook",this.hookName),n!==void 0&&n._createAssociation(y,this),y}_write(t){t.writeTypeRef(Xa),t.writeKey(this.hookName)}}const Ia=r=>new _r(r.readKey());class wr extends wn{get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_copy(){return new wr}clone(){const t=new wr;return t.applyDelta(this.toDelta()),t}toDOM(t=document,e,n){const o=t.createTextNode(this.toString());return n!==void 0&&n._createAssociation(o,this),o}toString(){return this.toDelta().map(t=>{const e=[];for(const o in t.attributes){const y=[];for(const v in t.attributes[o])y.push({key:v,value:t.attributes[o][v]});y.sort((v,g)=>v.key<g.key?-1:1),e.push({nodeName:o,attrs:y})}e.sort((o,y)=>o.nodeName<y.nodeName?-1:1);let n="";for(let o=0;o<e.length;o++){const y=e[o];n+=`<${y.nodeName}`;for(let v=0;v<y.attrs.length;v++){const g=y.attrs[v];n+=` ${g.key}="${g.value}"`}n+=">"}n+=t.insert;for(let o=e.length-1;o>=0;o--)n+=`</${e[o].nodeName}>`;return n}).join("")}toJSON(){return this.toString()}_write(t){t.writeTypeRef(Ja)}}const Ma=r=>new wr;class Oi{constructor(t,e){this.id=t,this.length=e}get deleted(){throw Se()}mergeWith(t){return!1}write(t,e,n){throw Se()}integrate(t,e){throw Se()}}const Pa=0;class ae extends Oi{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor!==t.constructor?!1:(this.length+=t.length,!0)}integrate(t,e){e>0&&(this.id.clock+=e,this.length-=e),Fo(t.doc.store,this)}write(t,e){t.writeInfo(Pa),t.writeLen(this.length-e)}getMissing(t,e){return null}}class $n{constructor(t){this.content=t}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new $n(this.content)}splice(t){throw Se()}mergeWith(t){return!1}integrate(t,e){}delete(t){}gc(t){}write(t,e){t.writeBuf(this.content)}getRef(){return 3}}const ja=r=>new $n(r.readBuf());class Un{constructor(t){this.len=t}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new Un(this.len)}splice(t){const e=new Un(this.len-t);return this.len=t,e}mergeWith(t){return this.len+=t.len,!0}integrate(t,e){yr(t.deleteSet,e.id.client,e.id.clock,this.len),e.markDeleted()}delete(t){}gc(t){}write(t,e){t.writeLen(this.len-e)}getRef(){return 1}}const qa=r=>new Un(r.readLen()),os=(r,t)=>new En({guid:r,...t,shouldLoad:t.shouldLoad||t.autoLoad||!1});class Kn{constructor(t){t._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=t;const e={};this.opts=e,t.gc||(e.gc=!1),t.autoLoad&&(e.autoLoad=!0),t.meta!==null&&(e.meta=t.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new Kn(os(this.doc.guid,this.opts))}splice(t){throw Se()}mergeWith(t){return!1}integrate(t,e){this.doc._item=e,t.subdocsAdded.add(this.doc),this.doc.shouldLoad&&t.subdocsLoaded.add(this.doc)}delete(t){t.subdocsAdded.has(this.doc)?t.subdocsAdded.delete(this.doc):t.subdocsRemoved.add(this.doc)}gc(t){}write(t,e){t.writeString(this.doc.guid),t.writeAny(this.opts)}getRef(){return 9}}const Ba=r=>new Kn(os(r.readString(),r.readAny()));class sn{constructor(t){this.embed=t}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new sn(this.embed)}splice(t){throw Se()}mergeWith(t){return!1}integrate(t,e){}delete(t){}gc(t){}write(t,e){t.writeJSON(this.embed)}getRef(){return 5}}const Fa=r=>new sn(r.readJSON());class Kt{constructor(t,e){this.key=t,this.value=e}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Kt(this.key,this.value)}splice(t){throw Se()}mergeWith(t){return!1}integrate(t,e){e.parent._searchMarker=null}delete(t){}gc(t){}write(t,e){t.writeKey(this.key),t.writeJSON(this.value)}getRef(){return 6}}const Ua=r=>new Kt(r.readKey(),r.readJSON());class Or{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Or(this.arr)}splice(t){const e=new Or(this.arr.slice(t));return this.arr=this.arr.slice(0,t),e}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,e){}delete(t){}gc(t){}write(t,e){const n=this.arr.length;t.writeLen(n-e);for(let o=e;o<n;o++){const y=this.arr[o];t.writeString(y===void 0?"undefined":JSON.stringify(y))}}getRef(){return 2}}const Ha=r=>{const t=r.readLen(),e=[];for(let n=0;n<t;n++){const o=r.readString();o==="undefined"?e.push(void 0):e.push(JSON.parse(o))}return new Or(e)};class nn{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new nn(this.arr)}splice(t){const e=new nn(this.arr.slice(t));return this.arr=this.arr.slice(0,t),e}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,e){}delete(t){}gc(t){}write(t,e){const n=this.arr.length;t.writeLen(n-e);for(let o=e;o<n;o++){const y=this.arr[o];t.writeAny(y)}}getRef(){return 8}}const za=r=>{const t=r.readLen(),e=[];for(let n=0;n<t;n++)e.push(r.readAny());return new nn(e)};class xe{constructor(t){this.str=t}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new xe(this.str)}splice(t){const e=new xe(this.str.slice(t));this.str=this.str.slice(0,t);const n=this.str.charCodeAt(t-1);return n>=55296&&n<=56319&&(this.str=this.str.slice(0,t-1)+"\uFFFD",e.str="\uFFFD"+e.str.slice(1)),e}mergeWith(t){return this.str+=t.str,!0}integrate(t,e){}delete(t){}gc(t){}write(t,e){t.writeString(e===0?this.str:this.str.slice(e))}getRef(){return 4}}const Va=r=>new xe(r.readString()),$a=[ka,Sa,La,Da,Ca,Ia,Ma],Ka=0,Ga=1,Wa=2,Za=3,Ya=4,Xa=5,Ja=6;class Ne{constructor(t){this.type=t}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Ne(this.type._copy())}splice(t){throw Se()}mergeWith(t){return!1}integrate(t,e){this.type._integrate(t.doc,e)}delete(t){let e=this.type._start;for(;e!==null;)e.deleted?t._mergeStructs.push(e):e.delete(t),e=e.right;this.type._map.forEach(n=>{n.deleted?t._mergeStructs.push(n):n.delete(t)}),t.changed.delete(this.type)}gc(t){let e=this.type._start;for(;e!==null;)e.gc(t,!0),e=e.right;this.type._start=null,this.type._map.forEach(n=>{for(;n!==null;)n.gc(t,!0),n=n.left}),this.type._map=new Map}write(t,e){this.type._write(t)}getRef(){return 7}}const Qa=r=>new Ne($a[r.readTypeRef()](r)),Qi=(r,t)=>{let e=t,n=0,o;do n>0&&(e=At(e.client,e.clock+n)),o=hr(r,e),n=e.clock-o.id.clock,e=o.redone;while(e!==null&&o instanceof Ft);return{item:o,diff:n}};const Er=(r,t,e)=>{const{client:n,clock:o}=t.id,y=new Ft(At(n,o+e),t,At(n,o+e-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(e));return t.deleted&&y.markDeleted(),t.keep&&(y.keep=!0),t.redone!==null&&(y.redone=At(t.redone.client,t.redone.clock+e)),t.right=y,y.right!==null&&(y.right.left=y),r._mergeStructs.push(y),y.parentSub!==null&&y.right===null&&y.parent._map.set(y.parentSub,y),t.length=e,y};class Ft extends Oi{constructor(t,e,n,o,y,v,g,p){super(t,p.getLength()),this.origin=n,this.left=e,this.right=o,this.rightOrigin=y,this.parent=v,this.parentSub=g,this.redone=null,this.content=p,this.info=this.content.isCountable()?Di:0}set marker(t){(this.info&qr)>0!==t&&(this.info^=qr)}get marker(){return(this.info&qr)>0}get keep(){return(this.info&Ci)>0}set keep(t){this.keep!==t&&(this.info^=Ci)}get countable(){return(this.info&Di)>0}get deleted(){return(this.info&jr)>0}set deleted(t){this.deleted!==t&&(this.info^=jr)}markDeleted(){this.info|=jr}getMissing(t,e){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=$t(e,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=$t(e,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===gn&&this.id.client!==this.parent.client&&this.parent.clock>=$t(e,this.parent.client))return this.parent.client;if(this.origin&&(this.left=Gi(t,e,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=$e(t,this.rightOrigin),this.rightOrigin=this.right.id),(this.left&&this.left.constructor===ae||this.right&&this.right.constructor===ae)&&(this.parent=null),!this.parent)this.left&&this.left.constructor===Ft&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===Ft&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===gn){const n=hr(e,this.parent);n.constructor===ae?this.parent=null:this.parent=n.content.type}return null}integrate(t,e){if(e>0&&(this.id.clock+=e,this.left=Gi(t,t.doc.store,At(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(e),this.length-=e),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let n=this.left,o;if(n!==null)o=n.right;else if(this.parentSub!==null)for(o=this.parent._map.get(this.parentSub)||null;o!==null&&o.left!==null;)o=o.left;else o=this.parent._start;const y=new Set,v=new Set;for(;o!==null&&o!==this.right;){if(v.add(o),y.add(o),pn(this.origin,o.origin)){if(o.id.client<this.id.client)n=o,y.clear();else if(pn(this.rightOrigin,o.rightOrigin))break}else if(o.origin!==null&&v.has(hr(t.doc.store,o.origin)))y.has(hr(t.doc.store,o.origin))||(n=o,y.clear());else break;o=o.right}this.left=n}if(this.left!==null){const n=this.left.right;this.right=n,this.left.right=this}else{let n;if(this.parentSub!==null)for(n=this.parent._map.get(this.parentSub)||null;n!==null&&n.left!==null;)n=n.left;else n=this.parent._start,this.parent._start=this;this.right=n}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(t)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),Fo(t.doc.store,this),this.content.integrate(t,this),Zi(t,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(t)}else new ae(this.id,this.length).integrate(t,0)}get next(){let t=this.right;for(;t!==null&&t.deleted;)t=t.right;return t}get prev(){let t=this.left;for(;t!==null&&t.deleted;)t=t.left;return t}get lastId(){return this.length===1?this.id:At(this.id.client,this.id.clock+this.length-1)}mergeWith(t){if(this.constructor===t.constructor&&pn(t.origin,this.lastId)&&this.right===t&&pn(this.rightOrigin,t.rightOrigin)&&this.id.client===t.id.client&&this.id.clock+this.length===t.id.clock&&this.deleted===t.deleted&&this.redone===null&&t.redone===null&&this.content.constructor===t.content.constructor&&this.content.mergeWith(t.content)){const e=this.parent._searchMarker;return e&&e.forEach(n=>{n.p===t&&(n.p=this,!this.deleted&&this.countable&&(n.index-=this.length))}),t.keep&&(this.keep=!0),this.right=t.right,this.right!==null&&(this.right.left=this),this.length+=t.length,!0}return!1}delete(t){if(!this.deleted){const e=this.parent;this.countable&&this.parentSub===null&&(e._length-=this.length),this.markDeleted(),yr(t.deleteSet,this.id.client,this.id.clock,this.length),Zi(t,e,this.parentSub),this.content.delete(t)}}gc(t,e){if(!this.deleted)throw ye();this.content.gc(t),e?la(t,this,new ae(this.id,this.length)):this.content=new Un(this.length)}write(t,e){const n=e>0?At(this.id.client,this.id.clock+e-1):this.origin,o=this.rightOrigin,y=this.parentSub,v=this.content.getRef()&Sr|(n===null?0:se)|(o===null?0:Ie)|(y===null?0:Mn);if(t.writeInfo(v),n!==null&&t.writeLeftID(n),o!==null&&t.writeRightID(o),n===null&&o===null){const g=this.parent;if(g._item!==void 0){const p=g._item;if(p===null){const w=jo(g);t.writeParentInfo(!0),t.writeString(w)}else t.writeParentInfo(!1),t.writeLeftID(p.id)}else g.constructor===String?(t.writeParentInfo(!0),t.writeString(g)):g.constructor===gn?(t.writeParentInfo(!1),t.writeLeftID(g)):ye();y!==null&&t.writeString(y)}this.content.write(t,e)}}const ss=(r,t)=>tu[t&Sr](r),tu=[()=>{ye()},qa,Ha,ja,Va,Fa,Ua,Qa,za,Ba,()=>{ye()}],eu=10;class ue extends Oi{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor!==t.constructor?!1:(this.length+=t.length,!0)}integrate(t,e){ye()}write(t,e){t.writeInfo(eu),vt(t.restEncoder,this.length-e)}getMissing(t,e){return null}}const ls=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},as="__ $YJS$ __";ls[as]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");ls[as]=!0;const nu=new Map;class ru{constructor(t){this.room=t,this.onmessage=null,Hs(e=>e.key===t&&this.onmessage!==null&&this.onmessage({data:cl(e.newValue||"")}))}postMessage(t){fo.setItem(this.room,ul(il(t)))}}const iu=typeof BroadcastChannel>"u"?ru:BroadcastChannel,Ei=r=>Pe(nu,r,()=>{const t=new Set,e=new iu(r);return e.onmessage=n=>t.forEach(o=>o(n.data,"broadcastchannel")),{bc:e,subs:t}}),ou=(r,t)=>Ei(r).subs.add(t),su=(r,t)=>Ei(r).subs.delete(t),dn=(r,t,e=null)=>{const n=Ei(r);n.bc.postMessage(t),n.subs.forEach(o=>o(t,e))},us=0,ki=1,cs=2,Jr=(r,t)=>{vt(r,us);const e=ta(t);Vt(r,e)},fs=(r,t,e)=>{vt(r,ki),Vt(r,Ro(t,e))},lu=(r,t,e)=>fs(t,e,Yt(r)),hs=(r,t,e)=>{try{Do(t,Yt(r),e)}catch(n){console.error("Caught error while handling a Yjs update",n)}},au=(r,t)=>{vt(r,cs),Vt(r,t)},uu=hs,cu=(r,t,e,n)=>{const o=wt(r);switch(o){case us:lu(r,t,e);break;case ki:hs(r,e,n);break;case cs:uu(r,e,n);break;default:throw new Error("Unknown message type")}return o},fu=0,hu=(r,t,e)=>{switch(wt(r)){case fu:e(t,Ve(r))}},Vr=3e4;class du extends Qr{constructor(t){super(),this.doc=t,this.clientID=t.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const e=Qe();this.getLocalState()!==null&&Vr/2<=e-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const n=[];this.meta.forEach((o,y)=>{y!==this.clientID&&Vr<=e-o.lastUpdated&&this.states.has(y)&&n.push(y)}),n.length>0&&Ai(this,n,"timeout")},Me(Vr/10)),t.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(t){const e=this.clientID,n=this.meta.get(e),o=n===void 0?0:n.clock+1,y=this.states.get(e);t===null?this.states.delete(e):this.states.set(e,t),this.meta.set(e,{clock:o,lastUpdated:Qe()});const v=[],g=[],p=[],w=[];t===null?w.push(e):y==null?t!=null&&v.push(e):(g.push(e),Dn(y,t)||p.push(e)),(v.length>0||p.length>0||w.length>0)&&this.emit("change",[{added:v,updated:p,removed:w},"local"]),this.emit("update",[{added:v,updated:g,removed:w},"local"])}setLocalStateField(t,e){const n=this.getLocalState();n!==null&&this.setLocalState({...n,[t]:e})}getStates(){return this.states}}const Ai=(r,t,e)=>{const n=[];for(let o=0;o<t.length;o++){const y=t[o];if(r.states.has(y)){if(r.states.delete(y),y===r.clientID){const v=r.meta.get(y);r.meta.set(y,{clock:v.clock+1,lastUpdated:Qe()})}n.push(y)}}n.length>0&&(r.emit("change",[{added:[],updated:[],removed:n},e]),r.emit("update",[{added:[],updated:[],removed:n},e]))},Rn=(r,t,e=r.states)=>{const n=t.length,o=Xt();vt(o,n);for(let y=0;y<n;y++){const v=t[y],g=e.get(v)||null,p=r.meta.get(v).clock;vt(o,v),vt(o,p),Xe(o,JSON.stringify(g))}return qt(o)},pu=(r,t,e)=>{const n=Ke(t),o=Qe(),y=[],v=[],g=[],p=[],w=wt(n);for(let d=0;d<w;d++){const c=wt(n);let s=wt(n);const l=JSON.parse(Ve(n)),h=r.meta.get(c),m=r.states.get(c),_=h===void 0?0:h.clock;(_<s||_===s&&l===null&&r.states.has(c))&&(l===null?c===r.clientID&&r.getLocalState()!=null?s++:r.states.delete(c):r.states.set(c,l),r.meta.set(c,{clock:s,lastUpdated:o}),h===void 0&&l!==null?y.push(c):h!==void 0&&l===null?p.push(c):l!==null&&(Dn(l,m)||g.push(c),v.push(c)))}(y.length>0||g.length>0||p.length>0)&&r.emit("change",[{added:y,updated:g,removed:p},e]),(y.length>0||v.length>0||p.length>0)&&r.emit("update",[{added:y,updated:v,removed:p},e])},gu=r=>Sl(r,(t,e)=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`).join("&"),Ze=0,ds=3,vn=1,yu=2,Gn=[];Gn[Ze]=(r,t,e,n,o)=>{vt(r,Ze);const y=cu(t,r,e.doc,e);n&&y===ki&&!e.synced&&(e.synced=!0)};Gn[ds]=(r,t,e,n,o)=>{vt(r,vn),Vt(r,Rn(e.awareness,Array.from(e.awareness.getStates().keys())))};Gn[vn]=(r,t,e,n,o)=>{pu(e.awareness,Yt(t),e)};Gn[yu]=(r,t,e,n,o)=>{hu(t,e.doc,(y,v)=>vu(e,v))};const to=3e4,vu=(r,t)=>console.warn(`Permission denied to access ${r.url}.
${t}`),ps=(r,t,e)=>{const n=Ke(t),o=Xt(),y=wt(n),v=r.messageHandlers[y];return v?v(o,n,r,e,y):console.error("Unable to compute message"),o},gs=r=>{if(r.shouldConnect&&r.ws===null){const t=new r._WS(r.url);t.binaryType="arraybuffer",r.ws=t,r.wsconnecting=!0,r.wsconnected=!1,r.synced=!1,t.onmessage=e=>{r.wsLastMessageReceived=Qe();const n=ps(r,new Uint8Array(e.data),!0);ii(n)>1&&t.send(qt(n))},t.onerror=e=>{r.emit("connection-error",[e,r])},t.onclose=e=>{r.emit("connection-close",[e,r]),r.ws=null,r.wsconnecting=!1,r.wsconnected?(r.wsconnected=!1,r.synced=!1,Ai(r.awareness,Array.from(r.awareness.getStates().keys()).filter(n=>n!==r.doc.clientID),r),r.emit("status",[{status:"disconnected"}])):r.wsUnsuccessfulReconnects++,setTimeout(gs,ti(Ds(2,r.wsUnsuccessfulReconnects)*100,r.maxBackoffTime),r)},t.onopen=()=>{r.wsLastMessageReceived=Qe(),r.wsconnecting=!1,r.wsconnected=!0,r.wsUnsuccessfulReconnects=0,r.emit("status",[{status:"connected"}]);const e=Xt();if(vt(e,Ze),Jr(e,r.doc),t.send(qt(e)),r.awareness.getLocalState()!==null){const n=Xt();vt(n,vn),Vt(n,Rn(r.awareness,[r.doc.clientID])),t.send(qt(n))}},r.emit("status",[{status:"connecting"}])}},$r=(r,t)=>{r.wsconnected&&r.ws.send(t),r.bcconnected&&dn(r.bcChannel,t,r)};class mu extends Qr{constructor(t,e,n,{connect:o=!0,awareness:y=new du(n),params:v={},WebSocketPolyfill:g=WebSocket,resyncInterval:p=-1,maxBackoffTime:w=2500,disableBc:d=!1}={}){for(super();t[t.length-1]==="/";)t=t.slice(0,t.length-1);const c=gu(v);this.maxBackoffTime=w,this.bcChannel=t+"/"+e,this.url=t+"/"+e+(c.length===0?"":"?"+c),this.roomname=e,this.doc=n,this._WS=g,this.awareness=y,this.wsconnected=!1,this.wsconnecting=!1,this.bcconnected=!1,this.disableBc=d,this.wsUnsuccessfulReconnects=0,this.messageHandlers=Gn.slice(),this._synced=!1,this.ws=null,this.wsLastMessageReceived=0,this.shouldConnect=o,this._resyncInterval=0,p>0&&(this._resyncInterval=setInterval(()=>{if(this.ws&&this.ws.readyState===WebSocket.OPEN){const s=Xt();vt(s,Ze),Jr(s,n),this.ws.send(qt(s))}},p)),this._bcSubscriber=(s,l)=>{if(l!==this){const h=ps(this,new Uint8Array(s),!1);ii(h)>1&&dn(this.bcChannel,qt(h),this)}},this._updateHandler=(s,l)=>{if(l!==this){const h=Xt();vt(h,Ze),au(h,s),$r(this,qt(h))}},this.doc.on("update",this._updateHandler),this._awarenessUpdateHandler=({added:s,updated:l,removed:h},m)=>{const _=s.concat(l).concat(h),f=Xt();vt(f,vn),Vt(f,Rn(y,_)),$r(this,qt(f))},this._unloadHandler=()=>{Ai(this.awareness,[n.clientID],"window unload")},typeof window<"u"?window.addEventListener("unload",this._unloadHandler):typeof process<"u"&&process.on("exit",this._unloadHandler),y.on("update",this._awarenessUpdateHandler),this._checkInterval=setInterval(()=>{this.wsconnected&&to<Qe()-this.wsLastMessageReceived&&this.ws.close()},to/10),o&&this.connect()}get synced(){return this._synced}set synced(t){this._synced!==t&&(this._synced=t,this.emit("synced",[t]),this.emit("sync",[t]))}destroy(){this._resyncInterval!==0&&clearInterval(this._resyncInterval),clearInterval(this._checkInterval),this.disconnect(),typeof window<"u"?window.removeEventListener("unload",this._unloadHandler):typeof process<"u"&&process.off("exit",this._unloadHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.doc.off("update",this._updateHandler),super.destroy()}connectBc(){if(this.disableBc)return;this.bcconnected||(ou(this.bcChannel,this._bcSubscriber),this.bcconnected=!0);const t=Xt();vt(t,Ze),Jr(t,this.doc),dn(this.bcChannel,qt(t),this);const e=Xt();vt(e,Ze),fs(e,this.doc),dn(this.bcChannel,qt(e),this);const n=Xt();vt(n,ds),dn(this.bcChannel,qt(n),this);const o=Xt();vt(o,vn),Vt(o,Rn(this.awareness,[this.doc.clientID])),dn(this.bcChannel,qt(o),this)}disconnectBc(){const t=Xt();vt(t,vn),Vt(t,Rn(this.awareness,[this.doc.clientID],new Map)),$r(this,qt(t)),this.bcconnected&&(su(this.bcChannel,this._bcSubscriber),this.bcconnected=!1)}disconnect(){this.shouldConnect=!1,this.disconnectBc(),this.ws!==null&&this.ws.close()}connect(){this.shouldConnect=!0,!this.wsconnected&&this.ws===null&&(gs(this),this.connectBc())}}const sr=(r,t,e,n,o)=>{try{if(t&&t.cursor&&e!==n.clientID){const y=t.user||{},v=y.color||"#ffa500",g=y.name||`User: ${e}`;r.createCursor(e.toString(),g,v);const p=$i(zi(t.cursor.anchor),n),w=$i(zi(t.cursor.head),n);p&&w&&p.type===o&&r.moveCursor(e.toString(),{index:p.index,length:w.index-p.index})}else r.removeCursor(e.toString())}catch(y){console.error(y)}};class bu{constructor(t,e,n){const o=t.doc;this.type=t,this.doc=o,this.quill=e;const y=e.getModule("cursors")||null;this.quillCursors=y,this._negatedUsedFormats={},this.awareness=n,this._awarenessChange=({added:v,removed:g,updated:p})=>{const w=n.getStates();v.forEach(d=>{sr(y,w.get(d),d,o,t)}),p.forEach(d=>{sr(y,w.get(d),d,o,t)}),g.forEach(d=>{y.removeCursor(d.toString())})},this._typeObserver=v=>{if(v.transaction.origin!==this){const g=v.delta,p=[];for(let w=0;w<g.length;w++){const d=g[w];d.insert!==void 0?p.push(Object.assign({},d,{attributes:Object.assign({},this._negatedUsedFormats,d.attributes||{})})):p.push(d)}e.updateContents(p,this)}},t.observe(this._typeObserver),this._quillObserver=(v,g,p,w)=>{if(g&&g.ops){const d=g.ops;d.forEach(c=>{if(c.attributes!==void 0)for(let s in c.attributes)this._negatedUsedFormats[s]===void 0&&(this._negatedUsedFormats[s]=!1)}),w!==this&&o.transact(()=>{t.applyDelta(d)},this)}if(n&&y){const d=e.getSelection(),c=n.getLocalState();if(d===null)n.getLocalState()!==null&&n.setLocalStateField("cursor",null);else{const s=Vi(t,d.index),l=Vi(t,d.index+d.length);(!c||!c.cursor||!Ki(s,c.cursor.anchor)||!Ki(l,c.cursor.head))&&n.setLocalStateField("cursor",{anchor:s,head:l})}n.getStates().forEach((s,l)=>{sr(y,s,l,o,t)})}},e.on("editor-change",this._quillObserver),e.setContents(t.toDelta(),this),y!==null&&n&&(n.getStates().forEach((v,g)=>{sr(y,v,g,o,t)}),n.on("change",this._awarenessChange))}destroy(){this.type.unobserve(this._typeObserver),this.quill.off("editor-change",this._quillObserver),this.awareness&&this.awareness.off("change",this._awarenessChange)}}var ys={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(r,t){(function(n,o){r.exports=o()})(typeof self<"u"?self:bs,function(){return function(e){var n={};function o(y){if(n[y])return n[y].exports;var v=n[y]={i:y,l:!1,exports:{}};return e[y].call(v.exports,v,v.exports,o),v.l=!0,v.exports}return o.m=e,o.c=n,o.d=function(y,v,g){o.o(y,v)||Object.defineProperty(y,v,{configurable:!1,enumerable:!0,get:g})},o.n=function(y){var v=y&&y.__esModule?function(){return y.default}:function(){return y};return o.d(v,"a",v),v},o.o=function(y,v){return Object.prototype.hasOwnProperty.call(y,v)},o.p="",o(o.s=109)}([function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var y=o(17),v=o(18),g=o(19),p=o(45),w=o(46),d=o(47),c=o(48),s=o(49),l=o(12),h=o(32),m=o(33),_=o(31),f=o(1),i={Scope:f.Scope,create:f.create,find:f.find,query:f.query,register:f.register,Container:y.default,Format:v.default,Leaf:g.default,Embed:c.default,Scroll:p.default,Block:d.default,Inline:w.default,Text:s.default,Attributor:{Attribute:l.default,Class:h.default,Style:m.default,Store:_.default}};n.default=i},function(e,n,o){var y=this&&this.__extends||function(){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,i){f.__proto__=i}||function(f,i){for(var u in i)i.hasOwnProperty(u)&&(f[u]=i[u])};return function(f,i){_(f,i);function u(){this.constructor=f}f.prototype=i===null?Object.create(i):(u.prototype=i.prototype,new u)}}();Object.defineProperty(n,"__esModule",{value:!0});var v=function(_){y(f,_);function f(i){var u=this;return i="[Parchment] "+i,u=_.call(this,i)||this,u.message=i,u.name=u.constructor.name,u}return f}(Error);n.ParchmentError=v;var g={},p={},w={},d={};n.DATA_KEY="__blot";var c;(function(_){_[_.TYPE=3]="TYPE",_[_.LEVEL=12]="LEVEL",_[_.ATTRIBUTE=13]="ATTRIBUTE",_[_.BLOT=14]="BLOT",_[_.INLINE=7]="INLINE",_[_.BLOCK=11]="BLOCK",_[_.BLOCK_BLOT=10]="BLOCK_BLOT",_[_.INLINE_BLOT=6]="INLINE_BLOT",_[_.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",_[_.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",_[_.ANY=15]="ANY"})(c=n.Scope||(n.Scope={}));function s(_,f){var i=h(_);if(i==null)throw new v("Unable to create "+_+" blot");var u=i,a=_ instanceof Node||_.nodeType===Node.TEXT_NODE?_:u.create(f);return new u(a,f)}n.create=s;function l(_,f){return f===void 0&&(f=!1),_==null?null:_[n.DATA_KEY]!=null?_[n.DATA_KEY].blot:f?l(_.parentNode,f):null}n.find=l;function h(_,f){f===void 0&&(f=c.ANY);var i;if(typeof _=="string")i=d[_]||g[_];else if(_ instanceof Text||_.nodeType===Node.TEXT_NODE)i=d.text;else if(typeof _=="number")_&c.LEVEL&c.BLOCK?i=d.block:_&c.LEVEL&c.INLINE&&(i=d.inline);else if(_ instanceof HTMLElement){var u=(_.getAttribute("class")||"").split(/\s+/);for(var a in u)if(i=p[u[a]],i)break;i=i||w[_.tagName]}return i==null?null:f&c.LEVEL&i.scope&&f&c.TYPE&i.scope?i:null}n.query=h;function m(){for(var _=[],f=0;f<arguments.length;f++)_[f]=arguments[f];if(_.length>1)return _.map(function(a){return m(a)});var i=_[0];if(typeof i.blotName!="string"&&typeof i.attrName!="string")throw new v("Invalid definition");if(i.blotName==="abstract")throw new v("Cannot register abstract class");if(d[i.blotName||i.attrName]=i,typeof i.keyName=="string")g[i.keyName]=i;else if(i.className!=null&&(p[i.className]=i),i.tagName!=null){Array.isArray(i.tagName)?i.tagName=i.tagName.map(function(a){return a.toUpperCase()}):i.tagName=i.tagName.toUpperCase();var u=Array.isArray(i.tagName)?i.tagName:[i.tagName];u.forEach(function(a){(w[a]==null||i.className==null)&&(w[a]=i)})}return i}n.register=m},function(e,n,o){var y=o(51),v=o(11),g=o(3),p=o(20),w=String.fromCharCode(0),d=function(c){Array.isArray(c)?this.ops=c:c!=null&&Array.isArray(c.ops)?this.ops=c.ops:this.ops=[]};d.prototype.insert=function(c,s){var l={};return c.length===0?this:(l.insert=c,s!=null&&typeof s=="object"&&Object.keys(s).length>0&&(l.attributes=s),this.push(l))},d.prototype.delete=function(c){return c<=0?this:this.push({delete:c})},d.prototype.retain=function(c,s){if(c<=0)return this;var l={retain:c};return s!=null&&typeof s=="object"&&Object.keys(s).length>0&&(l.attributes=s),this.push(l)},d.prototype.push=function(c){var s=this.ops.length,l=this.ops[s-1];if(c=g(!0,{},c),typeof l=="object"){if(typeof c.delete=="number"&&typeof l.delete=="number")return this.ops[s-1]={delete:l.delete+c.delete},this;if(typeof l.delete=="number"&&c.insert!=null&&(s-=1,l=this.ops[s-1],typeof l!="object"))return this.ops.unshift(c),this;if(v(c.attributes,l.attributes)){if(typeof c.insert=="string"&&typeof l.insert=="string")return this.ops[s-1]={insert:l.insert+c.insert},typeof c.attributes=="object"&&(this.ops[s-1].attributes=c.attributes),this;if(typeof c.retain=="number"&&typeof l.retain=="number")return this.ops[s-1]={retain:l.retain+c.retain},typeof c.attributes=="object"&&(this.ops[s-1].attributes=c.attributes),this}}return s===this.ops.length?this.ops.push(c):this.ops.splice(s,0,c),this},d.prototype.chop=function(){var c=this.ops[this.ops.length-1];return c&&c.retain&&!c.attributes&&this.ops.pop(),this},d.prototype.filter=function(c){return this.ops.filter(c)},d.prototype.forEach=function(c){this.ops.forEach(c)},d.prototype.map=function(c){return this.ops.map(c)},d.prototype.partition=function(c){var s=[],l=[];return this.forEach(function(h){var m=c(h)?s:l;m.push(h)}),[s,l]},d.prototype.reduce=function(c,s){return this.ops.reduce(c,s)},d.prototype.changeLength=function(){return this.reduce(function(c,s){return s.insert?c+p.length(s):s.delete?c-s.delete:c},0)},d.prototype.length=function(){return this.reduce(function(c,s){return c+p.length(s)},0)},d.prototype.slice=function(c,s){c=c||0,typeof s!="number"&&(s=1/0);for(var l=[],h=p.iterator(this.ops),m=0;m<s&&h.hasNext();){var _;m<c?_=h.next(c-m):(_=h.next(s-m),l.push(_)),m+=p.length(_)}return new d(l)},d.prototype.compose=function(c){var s=p.iterator(this.ops),l=p.iterator(c.ops),h=[],m=l.peek();if(m!=null&&typeof m.retain=="number"&&m.attributes==null){for(var _=m.retain;s.peekType()==="insert"&&s.peekLength()<=_;)_-=s.peekLength(),h.push(s.next());m.retain-_>0&&l.next(m.retain-_)}for(var f=new d(h);s.hasNext()||l.hasNext();)if(l.peekType()==="insert")f.push(l.next());else if(s.peekType()==="delete")f.push(s.next());else{var i=Math.min(s.peekLength(),l.peekLength()),u=s.next(i),a=l.next(i);if(typeof a.retain=="number"){var b={};typeof u.retain=="number"?b.retain=i:b.insert=u.insert;var O=p.attributes.compose(u.attributes,a.attributes,typeof u.retain=="number");if(O&&(b.attributes=O),f.push(b),!l.hasNext()&&v(f.ops[f.ops.length-1],b)){var E=new d(s.rest());return f.concat(E).chop()}}else typeof a.delete=="number"&&typeof u.retain=="number"&&f.push(a)}return f.chop()},d.prototype.concat=function(c){var s=new d(this.ops.slice());return c.ops.length>0&&(s.push(c.ops[0]),s.ops=s.ops.concat(c.ops.slice(1))),s},d.prototype.diff=function(c,s){if(this.ops===c.ops)return new d;var l=[this,c].map(function(i){return i.map(function(u){if(u.insert!=null)return typeof u.insert=="string"?u.insert:w;var a=i===c?"on":"with";throw new Error("diff() called "+a+" non-document")}).join("")}),h=new d,m=y(l[0],l[1],s),_=p.iterator(this.ops),f=p.iterator(c.ops);return m.forEach(function(i){for(var u=i[1].length;u>0;){var a=0;switch(i[0]){case y.INSERT:a=Math.min(f.peekLength(),u),h.push(f.next(a));break;case y.DELETE:a=Math.min(u,_.peekLength()),_.next(a),h.delete(a);break;case y.EQUAL:a=Math.min(_.peekLength(),f.peekLength(),u);var b=_.next(a),O=f.next(a);v(b.insert,O.insert)?h.retain(a,p.attributes.diff(b.attributes,O.attributes)):h.push(O).delete(a);break}u-=a}}),h.chop()},d.prototype.eachLine=function(c,s){s=s||`
`;for(var l=p.iterator(this.ops),h=new d,m=0;l.hasNext();){if(l.peekType()!=="insert")return;var _=l.peek(),f=p.length(_)-l.peekLength(),i=typeof _.insert=="string"?_.insert.indexOf(s,f)-f:-1;if(i<0)h.push(l.next());else if(i>0)h.push(l.next(i));else{if(c(h,l.next(1).attributes||{},m)===!1)return;m+=1,h=new d}}h.length()>0&&c(h,{},m)},d.prototype.transform=function(c,s){if(s=!!s,typeof c=="number")return this.transformPosition(c,s);for(var l=p.iterator(this.ops),h=p.iterator(c.ops),m=new d;l.hasNext()||h.hasNext();)if(l.peekType()==="insert"&&(s||h.peekType()!=="insert"))m.retain(p.length(l.next()));else if(h.peekType()==="insert")m.push(h.next());else{var _=Math.min(l.peekLength(),h.peekLength()),f=l.next(_),i=h.next(_);if(f.delete)continue;i.delete?m.push(i):m.retain(_,p.attributes.transform(f.attributes,i.attributes,s))}return m.chop()},d.prototype.transformPosition=function(c,s){s=!!s;for(var l=p.iterator(this.ops),h=0;l.hasNext()&&h<=c;){var m=l.peekLength(),_=l.peekType();if(l.next(),_==="delete"){c-=Math.min(m,c-h);continue}else _==="insert"&&(h<c||!s)&&(c+=m);h+=m}return c},e.exports=d},function(e,n){var o=Object.prototype.hasOwnProperty,y=Object.prototype.toString,v=Object.defineProperty,g=Object.getOwnPropertyDescriptor,p=function(l){return typeof Array.isArray=="function"?Array.isArray(l):y.call(l)==="[object Array]"},w=function(l){if(!l||y.call(l)!=="[object Object]")return!1;var h=o.call(l,"constructor"),m=l.constructor&&l.constructor.prototype&&o.call(l.constructor.prototype,"isPrototypeOf");if(l.constructor&&!h&&!m)return!1;var _;for(_ in l);return typeof _>"u"||o.call(l,_)},d=function(l,h){v&&h.name==="__proto__"?v(l,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):l[h.name]=h.newValue},c=function(l,h){if(h==="__proto__")if(o.call(l,h)){if(g)return g(l,h).value}else return;return l[h]};e.exports=function s(){var l,h,m,_,f,i,u=arguments[0],a=1,b=arguments.length,O=!1;for(typeof u=="boolean"&&(O=u,u=arguments[1]||{},a=2),(u==null||typeof u!="object"&&typeof u!="function")&&(u={});a<b;++a)if(l=arguments[a],l!=null)for(h in l)m=c(u,h),_=c(l,h),u!==_&&(O&&_&&(w(_)||(f=p(_)))?(f?(f=!1,i=m&&p(m)?m:[]):i=m&&w(m)?m:{},d(u,{name:h,newValue:s(O,i,_)})):typeof _<"u"&&d(u,{name:h,newValue:_}));return u}},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var y=function(){function k(T,x){for(var L=0;L<x.length;L++){var D=x[L];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(T,D.key,D)}}return function(T,x,L){return x&&k(T.prototype,x),L&&k(T,L),T}}(),v=function k(T,x,L){T===null&&(T=Function.prototype);var D=Object.getOwnPropertyDescriptor(T,x);if(D===void 0){var P=Object.getPrototypeOf(T);return P===null?void 0:k(P,x,L)}else{if("value"in D)return D.value;var F=D.get;return F===void 0?void 0:F.call(L)}},g=o(3),p=u(g),w=o(2),d=u(w),c=o(0),s=u(c),l=o(16),h=u(l),m=o(6),_=u(m),f=o(7),i=u(f);function u(k){return k&&k.__esModule?k:{default:k}}function a(k,T){if(!(k instanceof T))throw new TypeError("Cannot call a class as a function")}function b(k,T){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:k}function O(k,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);k.prototype=Object.create(T&&T.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(k,T):k.__proto__=T)}var E=1,A=function(k){O(T,k);function T(){return a(this,T),b(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return y(T,[{key:"attach",value:function(){v(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"attach",this).call(this),this.attributes=new s.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new d.default().insert(this.value(),(0,p.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(L,D){var P=s.default.query(L,s.default.Scope.BLOCK_ATTRIBUTE);P!=null&&this.attributes.attribute(P,D)}},{key:"formatAt",value:function(L,D,P,F){this.format(P,F)}},{key:"insertAt",value:function(L,D,P){if(typeof D=="string"&&D.endsWith(`
`)){var F=s.default.create(N.blotName);this.parent.insertBefore(F,L===0?this:this.next),F.insertAt(0,D.slice(0,-1))}else v(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,L,D,P)}}]),T}(s.default.Embed);A.scope=s.default.Scope.BLOCK_BLOT;var N=function(k){O(T,k);function T(x){a(this,T);var L=b(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,x));return L.cache={},L}return y(T,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(s.default.Leaf).reduce(function(L,D){return D.length()===0?L:L.insert(D.value(),S(D))},new d.default).insert(`
`,S(this))),this.cache.delta}},{key:"deleteAt",value:function(L,D){v(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"deleteAt",this).call(this,L,D),this.cache={}}},{key:"formatAt",value:function(L,D,P,F){D<=0||(s.default.query(P,s.default.Scope.BLOCK)?L+D===this.length()&&this.format(P,F):v(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"formatAt",this).call(this,L,Math.min(D,this.length()-L-1),P,F),this.cache={})}},{key:"insertAt",value:function(L,D,P){if(P!=null)return v(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,L,D,P);if(D.length!==0){var F=D.split(`
`),J=F.shift();J.length>0&&(L<this.length()-1||this.children.tail==null?v(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,Math.min(L,this.length()-1),J):this.children.tail.insertAt(this.children.tail.length(),J),this.cache={});var H=this;F.reduce(function(j,C){return H=H.split(j,!0),H.insertAt(0,C),C.length},L+J.length)}}},{key:"insertBefore",value:function(L,D){var P=this.children.head;v(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,L,D),P instanceof h.default&&P.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=v(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"length",this).call(this)+E),this.cache.length}},{key:"moveChildren",value:function(L,D){v(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"moveChildren",this).call(this,L,D),this.cache={}}},{key:"optimize",value:function(L){v(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,L),this.cache={}}},{key:"path",value:function(L){return v(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"path",this).call(this,L,!0)}},{key:"removeChild",value:function(L){v(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"removeChild",this).call(this,L),this.cache={}}},{key:"split",value:function(L){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(D&&(L===0||L>=this.length()-E)){var P=this.clone();return L===0?(this.parent.insertBefore(P,this),this):(this.parent.insertBefore(P,this.next),P)}else{var F=v(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"split",this).call(this,L,D);return this.cache={},F}}}]),T}(s.default.Block);N.blotName="block",N.tagName="P",N.defaultChild="break",N.allowedChildren=[_.default,s.default.Embed,i.default];function S(k){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return k==null||(typeof k.formats=="function"&&(T=(0,p.default)(T,k.formats())),k.parent==null||k.parent.blotName=="scroll"||k.parent.statics.scope!==k.statics.scope)?T:S(k.parent,T)}n.bubbleFormats=S,n.BlockEmbed=A,n.default=N},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},v=function(){function H(j,C){var M=[],I=!0,$=!1,z=void 0;try{for(var R=j[Symbol.iterator](),U;!(I=(U=R.next()).done)&&(M.push(U.value),!(C&&M.length===C));I=!0);}catch(K){$=!0,z=K}finally{try{!I&&R.return&&R.return()}finally{if($)throw z}}return M}return function(j,C){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return H(j,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function H(j,C){for(var M=0;M<C.length;M++){var I=C[M];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(j,I.key,I)}}return function(j,C,M){return C&&H(j.prototype,C),M&&H(j,M),j}}();o(50);var p=o(2),w=S(p),d=o(14),c=S(d),s=o(8),l=S(s),h=o(9),m=S(h),_=o(0),f=S(_),i=o(15),u=S(i),a=o(3),b=S(a),O=o(10),E=S(O),A=o(34),N=S(A);function S(H){return H&&H.__esModule?H:{default:H}}function k(H,j,C){return j in H?Object.defineProperty(H,j,{value:C,enumerable:!0,configurable:!0,writable:!0}):H[j]=C,H}function T(H,j){if(!(H instanceof j))throw new TypeError("Cannot call a class as a function")}var x=(0,E.default)("quill"),L=function(){g(H,null,[{key:"debug",value:function(C){C===!0&&(C="log"),E.default.level(C)}},{key:"find",value:function(C){return C.__quill||f.default.find(C)}},{key:"import",value:function(C){return this.imports[C]==null&&x.error("Cannot import "+C+". Are you sure it was registered?"),this.imports[C]}},{key:"register",value:function(C,M){var I=this,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof C!="string"){var z=C.attrName||C.blotName;typeof z=="string"?this.register("formats/"+z,C,M):Object.keys(C).forEach(function(R){I.register(R,C[R],M)})}else this.imports[C]!=null&&!$&&x.warn("Overwriting "+C+" with",M),this.imports[C]=M,(C.startsWith("blots/")||C.startsWith("formats/"))&&M.blotName!=="abstract"?f.default.register(M):C.startsWith("modules")&&typeof M.register=="function"&&M.register()}}]);function H(j){var C=this,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(T(this,H),this.options=D(j,M),this.container=this.options.container,this.container==null)return x.error("Invalid Quill container",j);this.options.debug&&H.debug(this.options.debug);var I=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new l.default,this.scroll=f.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new c.default(this.scroll),this.selection=new u.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(l.default.events.EDITOR_CHANGE,function(z){z===l.default.events.TEXT_CHANGE&&C.root.classList.toggle("ql-blank",C.editor.isBlank())}),this.emitter.on(l.default.events.SCROLL_UPDATE,function(z,R){var U=C.selection.lastRange,K=U&&U.length===0?U.index:void 0;P.call(C,function(){return C.editor.update(null,R,K)},z)});var $=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+I+"<p><br></p></div>");this.setContents($),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return g(H,[{key:"addContainer",value:function(C){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof C=="string"){var I=C;C=document.createElement("div"),C.classList.add(I)}return this.container.insertBefore(C,M),C}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(C,M,I){var $=this,z=F(C,M,I),R=v(z,4);return C=R[0],M=R[1],I=R[3],P.call(this,function(){return $.editor.deleteText(C,M)},I,C,-1*M)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(C),this.container.classList.toggle("ql-disabled",!C)}},{key:"focus",value:function(){var C=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=C,this.scrollIntoView()}},{key:"format",value:function(C,M){var I=this,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.default.sources.API;return P.call(this,function(){var z=I.getSelection(!0),R=new w.default;if(z==null)return R;if(f.default.query(C,f.default.Scope.BLOCK))R=I.editor.formatLine(z.index,z.length,k({},C,M));else{if(z.length===0)return I.selection.format(C,M),R;R=I.editor.formatText(z.index,z.length,k({},C,M))}return I.setSelection(z,l.default.sources.SILENT),R},$)}},{key:"formatLine",value:function(C,M,I,$,z){var R=this,U=void 0,K=F(C,M,I,$,z),Y=v(K,4);return C=Y[0],M=Y[1],U=Y[2],z=Y[3],P.call(this,function(){return R.editor.formatLine(C,M,U)},z,C,0)}},{key:"formatText",value:function(C,M,I,$,z){var R=this,U=void 0,K=F(C,M,I,$,z),Y=v(K,4);return C=Y[0],M=Y[1],U=Y[2],z=Y[3],P.call(this,function(){return R.editor.formatText(C,M,U)},z,C,0)}},{key:"getBounds",value:function(C){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,I=void 0;typeof C=="number"?I=this.selection.getBounds(C,M):I=this.selection.getBounds(C.index,C.length);var $=this.container.getBoundingClientRect();return{bottom:I.bottom-$.top,height:I.height,left:I.left-$.left,right:I.right-$.left,top:I.top-$.top,width:I.width}}},{key:"getContents",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-C,I=F(C,M),$=v(I,2);return C=$[0],M=$[1],this.editor.getContents(C,M)}},{key:"getFormat",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof C=="number"?this.editor.getFormat(C,M):this.editor.getFormat(C.index,C.length)}},{key:"getIndex",value:function(C){return C.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(C){return this.scroll.leaf(C)}},{key:"getLine",value:function(C){return this.scroll.line(C)}},{key:"getLines",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof C!="number"?this.scroll.lines(C.index,C.length):this.scroll.lines(C,M)}},{key:"getModule",value:function(C){return this.theme.modules[C]}},{key:"getSelection",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return C&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-C,I=F(C,M),$=v(I,2);return C=$[0],M=$[1],this.editor.getText(C,M)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(C,M,I){var $=this,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:H.sources.API;return P.call(this,function(){return $.editor.insertEmbed(C,M,I)},z,C)}},{key:"insertText",value:function(C,M,I,$,z){var R=this,U=void 0,K=F(C,0,I,$,z),Y=v(K,4);return C=Y[0],U=Y[2],z=Y[3],P.call(this,function(){return R.editor.insertText(C,M,U)},z,C,M.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(C,M,I){this.clipboard.dangerouslyPasteHTML(C,M,I)}},{key:"removeFormat",value:function(C,M,I){var $=this,z=F(C,M,I),R=v(z,4);return C=R[0],M=R[1],I=R[3],P.call(this,function(){return $.editor.removeFormat(C,M)},I,C)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(C){var M=this,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l.default.sources.API;return P.call(this,function(){C=new w.default(C);var $=M.getLength(),z=M.editor.deleteText(0,$),R=M.editor.applyDelta(C),U=R.ops[R.ops.length-1];U!=null&&typeof U.insert=="string"&&U.insert[U.insert.length-1]===`
`&&(M.editor.deleteText(M.getLength()-1,1),R.delete(1));var K=z.compose(R);return K},I)}},{key:"setSelection",value:function(C,M,I){if(C==null)this.selection.setRange(null,M||H.sources.API);else{var $=F(C,M,I),z=v($,4);C=z[0],M=z[1],I=z[3],this.selection.setRange(new i.Range(C,M),I),I!==l.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(C){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l.default.sources.API,I=new w.default().insert(C);return this.setContents(I,M)}},{key:"update",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l.default.sources.USER,M=this.scroll.update(C);return this.selection.update(C),M}},{key:"updateContents",value:function(C){var M=this,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l.default.sources.API;return P.call(this,function(){return C=new w.default(C),M.editor.applyDelta(C,I)},I,!0)}}]),H}();L.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},L.events=l.default.events,L.sources=l.default.sources,L.version="1.3.7",L.imports={delta:w.default,parchment:f.default,"core/module":m.default,"core/theme":N.default};function D(H,j){if(j=(0,b.default)(!0,{container:H,modules:{clipboard:!0,keyboard:!0,history:!0}},j),!j.theme||j.theme===L.DEFAULTS.theme)j.theme=N.default;else if(j.theme=L.import("themes/"+j.theme),j.theme==null)throw new Error("Invalid theme "+j.theme+". Did you register it?");var C=(0,b.default)(!0,{},j.theme.DEFAULTS);[C,j].forEach(function($){$.modules=$.modules||{},Object.keys($.modules).forEach(function(z){$.modules[z]===!0&&($.modules[z]={})})});var M=Object.keys(C.modules).concat(Object.keys(j.modules)),I=M.reduce(function($,z){var R=L.import("modules/"+z);return R==null?x.error("Cannot load "+z+" module. Are you sure you registered it?"):$[z]=R.DEFAULTS||{},$},{});return j.modules!=null&&j.modules.toolbar&&j.modules.toolbar.constructor!==Object&&(j.modules.toolbar={container:j.modules.toolbar}),j=(0,b.default)(!0,{},L.DEFAULTS,{modules:I},C,j),["bounds","container","scrollingContainer"].forEach(function($){typeof j[$]=="string"&&(j[$]=document.querySelector(j[$]))}),j.modules=Object.keys(j.modules).reduce(function($,z){return j.modules[z]&&($[z]=j.modules[z]),$},{}),j}function P(H,j,C,M){if(this.options.strict&&!this.isEnabled()&&j===l.default.sources.USER)return new w.default;var I=C==null?null:this.getSelection(),$=this.editor.delta,z=H();if(I!=null&&(C===!0&&(C=I.index),M==null?I=J(I,z,j):M!==0&&(I=J(I,C,M,j)),this.setSelection(I,l.default.sources.SILENT)),z.length()>0){var R,U=[l.default.events.TEXT_CHANGE,z,$,j];if((R=this.emitter).emit.apply(R,[l.default.events.EDITOR_CHANGE].concat(U)),j!==l.default.sources.SILENT){var K;(K=this.emitter).emit.apply(K,U)}}return z}function F(H,j,C,M,I){var $={};return typeof H.index=="number"&&typeof H.length=="number"?typeof j!="number"?(I=M,M=C,C=j,j=H.length,H=H.index):(j=H.length,H=H.index):typeof j!="number"&&(I=M,M=C,C=j,j=0),(typeof C>"u"?"undefined":y(C))==="object"?($=C,I=M):typeof C=="string"&&(M!=null?$[C]=M:I=C),I=I||l.default.sources.API,[H,j,$,I]}function J(H,j,C,M){if(H==null)return null;var I=void 0,$=void 0;if(j instanceof w.default){var z=[H.index,H.index+H.length].map(function(Y){return j.transformPosition(Y,M!==l.default.sources.USER)}),R=v(z,2);I=R[0],$=R[1]}else{var U=[H.index,H.index+H.length].map(function(Y){return Y<j||Y===j&&M===l.default.sources.USER?Y:C>=0?Y+C:Math.max(j,Y+C)}),K=v(U,2);I=K[0],$=K[1]}return new i.Range(I,$-I)}n.expandConfig=D,n.overload=F,n.default=L},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var y=function(){function _(f,i){for(var u=0;u<i.length;u++){var a=i[u];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(f,a.key,a)}}return function(f,i,u){return i&&_(f.prototype,i),u&&_(f,u),f}}(),v=function _(f,i,u){f===null&&(f=Function.prototype);var a=Object.getOwnPropertyDescriptor(f,i);if(a===void 0){var b=Object.getPrototypeOf(f);return b===null?void 0:_(b,i,u)}else{if("value"in a)return a.value;var O=a.get;return O===void 0?void 0:O.call(u)}},g=o(7),p=c(g),w=o(0),d=c(w);function c(_){return _&&_.__esModule?_:{default:_}}function s(_,f){if(!(_ instanceof f))throw new TypeError("Cannot call a class as a function")}function l(_,f){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:_}function h(_,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);_.prototype=Object.create(f&&f.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(_,f):_.__proto__=f)}var m=function(_){h(f,_);function f(){return s(this,f),l(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return y(f,[{key:"formatAt",value:function(u,a,b,O){if(f.compare(this.statics.blotName,b)<0&&d.default.query(b,d.default.Scope.BLOT)){var E=this.isolate(u,a);O&&E.wrap(b,O)}else v(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"formatAt",this).call(this,u,a,b,O)}},{key:"optimize",value:function(u){if(v(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"optimize",this).call(this,u),this.parent instanceof f&&f.compare(this.statics.blotName,this.parent.statics.blotName)>0){var a=this.parent.isolate(this.offset(),this.length());this.moveChildren(a),a.wrap(this)}}}],[{key:"compare",value:function(u,a){var b=f.order.indexOf(u),O=f.order.indexOf(a);return b>=0||O>=0?b-O:u===a?0:u<a?-1:1}}]),f}(d.default.Inline);m.allowedChildren=[m,d.default.Embed,p.default],m.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=m},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var y=o(0),v=g(y);function g(s){return s&&s.__esModule?s:{default:s}}function p(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}function w(s,l){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:s}function d(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);s.prototype=Object.create(l&&l.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(s,l):s.__proto__=l)}var c=function(s){d(l,s);function l(){return p(this,l),w(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return l}(v.default.Text);n.default=c},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var y=function(){function i(u,a){for(var b=0;b<a.length;b++){var O=a[b];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(u,O.key,O)}}return function(u,a,b){return a&&i(u.prototype,a),b&&i(u,b),u}}(),v=function i(u,a,b){u===null&&(u=Function.prototype);var O=Object.getOwnPropertyDescriptor(u,a);if(O===void 0){var E=Object.getPrototypeOf(u);return E===null?void 0:i(E,a,b)}else{if("value"in O)return O.value;var A=O.get;return A===void 0?void 0:A.call(b)}},g=o(54),p=c(g),w=o(10),d=c(w);function c(i){return i&&i.__esModule?i:{default:i}}function s(i,u){if(!(i instanceof u))throw new TypeError("Cannot call a class as a function")}function l(i,u){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:i}function h(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(i,u):i.__proto__=u)}var m=(0,d.default)("quill:events"),_=["selectionchange","mousedown","mouseup","click"];_.forEach(function(i){document.addEventListener(i,function(){for(var u=arguments.length,a=Array(u),b=0;b<u;b++)a[b]=arguments[b];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(O){if(O.__quill&&O.__quill.emitter){var E;(E=O.__quill.emitter).handleDOM.apply(E,a)}})})});var f=function(i){h(u,i);function u(){s(this,u);var a=l(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return a.listeners={},a.on("error",m.error),a}return y(u,[{key:"emit",value:function(){m.log.apply(m,arguments),v(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(b){for(var O=arguments.length,E=Array(O>1?O-1:0),A=1;A<O;A++)E[A-1]=arguments[A];(this.listeners[b.type]||[]).forEach(function(N){var S=N.node,k=N.handler;(b.target===S||S.contains(b.target))&&k.apply(void 0,[b].concat(E))})}},{key:"listenDOM",value:function(b,O,E){this.listeners[b]||(this.listeners[b]=[]),this.listeners[b].push({node:O,handler:E})}}]),u}(p.default);f.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},f.sources={API:"api",SILENT:"silent",USER:"user"},n.default=f},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});function y(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}var v=function g(p){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};y(this,g),this.quill=p,this.options=w};v.DEFAULTS={},n.default=v},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var y=["error","warn","log","info"],v="warn";function g(w){if(y.indexOf(w)<=y.indexOf(v)){for(var d,c=arguments.length,s=Array(c>1?c-1:0),l=1;l<c;l++)s[l-1]=arguments[l];(d=console)[w].apply(d,s)}}function p(w){return y.reduce(function(d,c){return d[c]=g.bind(console,c,w),d},{})}g.level=p.level=function(w){v=w},n.default=p},function(e,n,o){var y=Array.prototype.slice,v=o(52),g=o(53),p=e.exports=function(s,l,h){return h||(h={}),s===l?!0:s instanceof Date&&l instanceof Date?s.getTime()===l.getTime():!s||!l||typeof s!="object"&&typeof l!="object"?h.strict?s===l:s==l:c(s,l,h)};function w(s){return s==null}function d(s){return!(!s||typeof s!="object"||typeof s.length!="number"||typeof s.copy!="function"||typeof s.slice!="function"||s.length>0&&typeof s[0]!="number")}function c(s,l,h){var m,_;if(w(s)||w(l)||s.prototype!==l.prototype)return!1;if(g(s))return g(l)?(s=y.call(s),l=y.call(l),p(s,l,h)):!1;if(d(s)){if(!d(l)||s.length!==l.length)return!1;for(m=0;m<s.length;m++)if(s[m]!==l[m])return!1;return!0}try{var f=v(s),i=v(l)}catch{return!1}if(f.length!=i.length)return!1;for(f.sort(),i.sort(),m=f.length-1;m>=0;m--)if(f[m]!=i[m])return!1;for(m=f.length-1;m>=0;m--)if(_=f[m],!p(s[_],l[_],h))return!1;return typeof s==typeof l}},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var y=o(1),v=function(){function g(p,w,d){d===void 0&&(d={}),this.attrName=p,this.keyName=w;var c=y.Scope.TYPE&y.Scope.ATTRIBUTE;d.scope!=null?this.scope=d.scope&y.Scope.LEVEL|c:this.scope=y.Scope.ATTRIBUTE,d.whitelist!=null&&(this.whitelist=d.whitelist)}return g.keys=function(p){return[].map.call(p.attributes,function(w){return w.name})},g.prototype.add=function(p,w){return this.canAdd(p,w)?(p.setAttribute(this.keyName,w),!0):!1},g.prototype.canAdd=function(p,w){var d=y.query(p,y.Scope.BLOT&(this.scope|y.Scope.TYPE));return d==null?!1:this.whitelist==null?!0:typeof w=="string"?this.whitelist.indexOf(w.replace(/["']/g,""))>-1:this.whitelist.indexOf(w)>-1},g.prototype.remove=function(p){p.removeAttribute(this.keyName)},g.prototype.value=function(p){var w=p.getAttribute(this.keyName);return this.canAdd(p,w)&&w?w:""},g}();n.default=v},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var y=function(){function A(N,S){var k=[],T=!0,x=!1,L=void 0;try{for(var D=N[Symbol.iterator](),P;!(T=(P=D.next()).done)&&(k.push(P.value),!(S&&k.length===S));T=!0);}catch(F){x=!0,L=F}finally{try{!T&&D.return&&D.return()}finally{if(x)throw L}}return k}return function(N,S){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return A(N,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(){function A(N,S){for(var k=0;k<S.length;k++){var T=S[k];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(N,T.key,T)}}return function(N,S,k){return S&&A(N.prototype,S),k&&A(N,k),N}}(),g=function A(N,S,k){N===null&&(N=Function.prototype);var T=Object.getOwnPropertyDescriptor(N,S);if(T===void 0){var x=Object.getPrototypeOf(N);return x===null?void 0:A(x,S,k)}else{if("value"in T)return T.value;var L=T.get;return L===void 0?void 0:L.call(k)}},p=o(2),w=i(p),d=o(0),c=i(d),s=o(4),l=i(s),h=o(6),m=i(h),_=o(7),f=i(_);function i(A){return A&&A.__esModule?A:{default:A}}function u(A,N){if(!(A instanceof N))throw new TypeError("Cannot call a class as a function")}function a(A,N){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:A}function b(A,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);A.prototype=Object.create(N&&N.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(A,N):A.__proto__=N)}var O=function(A){b(N,A);function N(){return u(this,N),a(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return N}(m.default);O.blotName="code",O.tagName="CODE";var E=function(A){b(N,A);function N(){return u(this,N),a(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return v(N,[{key:"delta",value:function(){var k=this,T=this.domNode.textContent;return T.endsWith(`
`)&&(T=T.slice(0,-1)),T.split(`
`).reduce(function(x,L){return x.insert(L).insert(`
`,k.formats())},new w.default)}},{key:"format",value:function(k,T){if(!(k===this.statics.blotName&&T)){var x=this.descendant(f.default,this.length()-1),L=y(x,1),D=L[0];D!=null&&D.deleteAt(D.length()-1,1),g(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"format",this).call(this,k,T)}}},{key:"formatAt",value:function(k,T,x,L){if(T!==0&&!(c.default.query(x,c.default.Scope.BLOCK)==null||x===this.statics.blotName&&L===this.statics.formats(this.domNode))){var D=this.newlineIndex(k);if(!(D<0||D>=k+T)){var P=this.newlineIndex(k,!0)+1,F=D-P+1,J=this.isolate(P,F),H=J.next;J.format(x,L),H instanceof N&&H.formatAt(0,k-P+T-F,x,L)}}}},{key:"insertAt",value:function(k,T,x){if(x==null){var L=this.descendant(f.default,k),D=y(L,2),P=D[0],F=D[1];P.insertAt(F,T)}}},{key:"length",value:function(){var k=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?k:k+1}},{key:"newlineIndex",value:function(k){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(T)return this.domNode.textContent.slice(0,k).lastIndexOf(`
`);var x=this.domNode.textContent.slice(k).indexOf(`
`);return x>-1?k+x:-1}},{key:"optimize",value:function(k){this.domNode.textContent.endsWith(`
`)||this.appendChild(c.default.create("text",`
`)),g(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,k);var T=this.next;T!=null&&T.prev===this&&T.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===T.statics.formats(T.domNode)&&(T.optimize(k),T.moveChildren(this),T.remove())}},{key:"replace",value:function(k){g(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replace",this).call(this,k),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(T){var x=c.default.find(T);x==null?T.parentNode.removeChild(T):x instanceof c.default.Embed?x.remove():x.unwrap()})}}],[{key:"create",value:function(k){var T=g(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,k);return T.setAttribute("spellcheck",!1),T}},{key:"formats",value:function(){return!0}}]),N}(l.default);E.blotName="code-block",E.tagName="PRE",E.TAB="  ",n.Code=O,n.default=E},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},v=function(){function H(j,C){var M=[],I=!0,$=!1,z=void 0;try{for(var R=j[Symbol.iterator](),U;!(I=(U=R.next()).done)&&(M.push(U.value),!(C&&M.length===C));I=!0);}catch(K){$=!0,z=K}finally{try{!I&&R.return&&R.return()}finally{if($)throw z}}return M}return function(j,C){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return H(j,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function H(j,C){for(var M=0;M<C.length;M++){var I=C[M];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(j,I.key,I)}}return function(j,C,M){return C&&H(j.prototype,C),M&&H(j,M),j}}(),p=o(2),w=T(p),d=o(20),c=T(d),s=o(0),l=T(s),h=o(13),m=T(h),_=o(24),f=T(_),i=o(4),u=T(i),a=o(16),b=T(a),O=o(21),E=T(O),A=o(11),N=T(A),S=o(3),k=T(S);function T(H){return H&&H.__esModule?H:{default:H}}function x(H,j,C){return j in H?Object.defineProperty(H,j,{value:C,enumerable:!0,configurable:!0,writable:!0}):H[j]=C,H}function L(H,j){if(!(H instanceof j))throw new TypeError("Cannot call a class as a function")}var D=/^[ -~]*$/,P=function(){function H(j){L(this,H),this.scroll=j,this.delta=this.getDelta()}return g(H,[{key:"applyDelta",value:function(C){var M=this,I=!1;this.scroll.update();var $=this.scroll.length();return this.scroll.batchStart(),C=J(C),C.reduce(function(z,R){var U=R.retain||R.delete||R.insert.length||1,K=R.attributes||{};if(R.insert!=null){if(typeof R.insert=="string"){var Y=R.insert;Y.endsWith(`
`)&&I&&(I=!1,Y=Y.slice(0,-1)),z>=$&&!Y.endsWith(`
`)&&(I=!0),M.scroll.insertAt(z,Y);var tt=M.scroll.line(z),st=v(tt,2),dt=st[0],ct=st[1],ht=(0,k.default)({},(0,i.bubbleFormats)(dt));if(dt instanceof u.default){var B=dt.descendant(l.default.Leaf,ct),X=v(B,1),W=X[0];ht=(0,k.default)(ht,(0,i.bubbleFormats)(W))}K=c.default.attributes.diff(ht,K)||{}}else if(y(R.insert)==="object"){var q=Object.keys(R.insert)[0];if(q==null)return z;M.scroll.insertAt(z,q,R.insert[q])}$+=U}return Object.keys(K).forEach(function(G){M.scroll.formatAt(z,U,G,K[G])}),z+U},0),C.reduce(function(z,R){return typeof R.delete=="number"?(M.scroll.deleteAt(z,R.delete),z):z+(R.retain||R.insert.length||1)},0),this.scroll.batchEnd(),this.update(C)}},{key:"deleteText",value:function(C,M){return this.scroll.deleteAt(C,M),this.update(new w.default().retain(C).delete(M))}},{key:"formatLine",value:function(C,M){var I=this,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys($).forEach(function(z){if(!(I.scroll.whitelist!=null&&!I.scroll.whitelist[z])){var R=I.scroll.lines(C,Math.max(M,1)),U=M;R.forEach(function(K){var Y=K.length();if(!(K instanceof m.default))K.format(z,$[z]);else{var tt=C-K.offset(I.scroll),st=K.newlineIndex(tt+U)-tt+1;K.formatAt(tt,st,z,$[z])}U-=Y})}}),this.scroll.optimize(),this.update(new w.default().retain(C).retain(M,(0,E.default)($)))}},{key:"formatText",value:function(C,M){var I=this,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys($).forEach(function(z){I.scroll.formatAt(C,M,z,$[z])}),this.update(new w.default().retain(C).retain(M,(0,E.default)($)))}},{key:"getContents",value:function(C,M){return this.delta.slice(C,C+M)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(C,M){return C.concat(M.delta())},new w.default)}},{key:"getFormat",value:function(C){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,I=[],$=[];M===0?this.scroll.path(C).forEach(function(R){var U=v(R,1),K=U[0];K instanceof u.default?I.push(K):K instanceof l.default.Leaf&&$.push(K)}):(I=this.scroll.lines(C,M),$=this.scroll.descendants(l.default.Leaf,C,M));var z=[I,$].map(function(R){if(R.length===0)return{};for(var U=(0,i.bubbleFormats)(R.shift());Object.keys(U).length>0;){var K=R.shift();if(K==null)return U;U=F((0,i.bubbleFormats)(K),U)}return U});return k.default.apply(k.default,z)}},{key:"getText",value:function(C,M){return this.getContents(C,M).filter(function(I){return typeof I.insert=="string"}).map(function(I){return I.insert}).join("")}},{key:"insertEmbed",value:function(C,M,I){return this.scroll.insertAt(C,M,I),this.update(new w.default().retain(C).insert(x({},M,I)))}},{key:"insertText",value:function(C,M){var I=this,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return M=M.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(C,M),Object.keys($).forEach(function(z){I.scroll.formatAt(C,M.length,z,$[z])}),this.update(new w.default().retain(C).insert(M,(0,E.default)($)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var C=this.scroll.children.head;return C.statics.blotName!==u.default.blotName||C.children.length>1?!1:C.children.head instanceof b.default}},{key:"removeFormat",value:function(C,M){var I=this.getText(C,M),$=this.scroll.line(C+M),z=v($,2),R=z[0],U=z[1],K=0,Y=new w.default;R!=null&&(R instanceof m.default?K=R.newlineIndex(U)-U+1:K=R.length()-U,Y=R.delta().slice(U,U+K-1).insert(`
`));var tt=this.getContents(C,M+K),st=tt.diff(new w.default().insert(I).concat(Y)),dt=new w.default().retain(C).concat(st);return this.applyDelta(dt)}},{key:"update",value:function(C){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,$=this.delta;if(M.length===1&&M[0].type==="characterData"&&M[0].target.data.match(D)&&l.default.find(M[0].target)){var z=l.default.find(M[0].target),R=(0,i.bubbleFormats)(z),U=z.offset(this.scroll),K=M[0].oldValue.replace(f.default.CONTENTS,""),Y=new w.default().insert(K),tt=new w.default().insert(z.value()),st=new w.default().retain(U).concat(Y.diff(tt,I));C=st.reduce(function(dt,ct){return ct.insert?dt.insert(ct.insert,R):dt.push(ct)},new w.default),this.delta=$.compose(C)}else this.delta=this.getDelta(),(!C||!(0,N.default)($.compose(C),this.delta))&&(C=$.diff(this.delta,I));return C}}]),H}();function F(H,j){return Object.keys(j).reduce(function(C,M){return H[M]==null||(j[M]===H[M]?C[M]=j[M]:Array.isArray(j[M])?j[M].indexOf(H[M])<0&&(C[M]=j[M].concat([H[M]])):C[M]=[j[M],H[M]]),C},{})}function J(H){return H.reduce(function(j,C){if(C.insert===1){var M=(0,E.default)(C.attributes);return delete M.image,j.insert({image:C.attributes.image},M)}if(C.attributes!=null&&(C.attributes.list===!0||C.attributes.bullet===!0)&&(C=(0,E.default)(C),C.attributes.list?C.attributes.list="ordered":(C.attributes.list="bullet",delete C.attributes.bullet)),typeof C.insert=="string"){var I=C.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return j.insert(I,C.attributes)}return j.push(C)},new w.default)}n.default=P},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var y=function(){function A(N,S){var k=[],T=!0,x=!1,L=void 0;try{for(var D=N[Symbol.iterator](),P;!(T=(P=D.next()).done)&&(k.push(P.value),!(S&&k.length===S));T=!0);}catch(F){x=!0,L=F}finally{try{!T&&D.return&&D.return()}finally{if(x)throw L}}return k}return function(N,S){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return A(N,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(){function A(N,S){for(var k=0;k<S.length;k++){var T=S[k];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(N,T.key,T)}}return function(N,S,k){return S&&A(N.prototype,S),k&&A(N,k),N}}(),g=o(0),p=f(g),w=o(21),d=f(w),c=o(11),s=f(c),l=o(8),h=f(l),m=o(10),_=f(m);function f(A){return A&&A.__esModule?A:{default:A}}function i(A){if(Array.isArray(A)){for(var N=0,S=Array(A.length);N<A.length;N++)S[N]=A[N];return S}else return Array.from(A)}function u(A,N){if(!(A instanceof N))throw new TypeError("Cannot call a class as a function")}var a=(0,_.default)("quill:selection"),b=function A(N){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;u(this,A),this.index=N,this.length=S},O=function(){function A(N,S){var k=this;u(this,A),this.emitter=S,this.scroll=N,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=p.default.create("cursor",this),this.lastRange=this.savedRange=new b(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){k.mouseDown||setTimeout(k.update.bind(k,h.default.sources.USER),1)}),this.emitter.on(h.default.events.EDITOR_CHANGE,function(T,x){T===h.default.events.TEXT_CHANGE&&x.length()>0&&k.update(h.default.sources.SILENT)}),this.emitter.on(h.default.events.SCROLL_BEFORE_UPDATE,function(){if(!!k.hasFocus()){var T=k.getNativeRange();T!=null&&T.start.node!==k.cursor.textNode&&k.emitter.once(h.default.events.SCROLL_UPDATE,function(){try{k.setNativeRange(T.start.node,T.start.offset,T.end.node,T.end.offset)}catch{}})}}),this.emitter.on(h.default.events.SCROLL_OPTIMIZE,function(T,x){if(x.range){var L=x.range,D=L.startNode,P=L.startOffset,F=L.endNode,J=L.endOffset;k.setNativeRange(D,P,F,J)}}),this.update(h.default.sources.SILENT)}return v(A,[{key:"handleComposition",value:function(){var S=this;this.root.addEventListener("compositionstart",function(){S.composing=!0}),this.root.addEventListener("compositionend",function(){if(S.composing=!1,S.cursor.parent){var k=S.cursor.restore();if(!k)return;setTimeout(function(){S.setNativeRange(k.startNode,k.startOffset,k.endNode,k.endOffset)},1)}})}},{key:"handleDragging",value:function(){var S=this;this.emitter.listenDOM("mousedown",document.body,function(){S.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){S.mouseDown=!1,S.update(h.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(S,k){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[S])){this.scroll.update();var T=this.getNativeRange();if(!(T==null||!T.native.collapsed||p.default.query(S,p.default.Scope.BLOCK))){if(T.start.node!==this.cursor.textNode){var x=p.default.find(T.start.node,!1);if(x==null)return;if(x instanceof p.default.Leaf){var L=x.split(T.start.offset);x.parent.insertBefore(this.cursor,L)}else x.insertBefore(this.cursor,T.start.node);this.cursor.attach()}this.cursor.format(S,k),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(S){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,T=this.scroll.length();S=Math.min(S,T-1),k=Math.min(S+k,T-1)-S;var x=void 0,L=this.scroll.leaf(S),D=y(L,2),P=D[0],F=D[1];if(P==null)return null;var J=P.position(F,!0),H=y(J,2);x=H[0],F=H[1];var j=document.createRange();if(k>0){j.setStart(x,F);var C=this.scroll.leaf(S+k),M=y(C,2);if(P=M[0],F=M[1],P==null)return null;var I=P.position(F,!0),$=y(I,2);return x=$[0],F=$[1],j.setEnd(x,F),j.getBoundingClientRect()}else{var z="left",R=void 0;return x instanceof Text?(F<x.data.length?(j.setStart(x,F),j.setEnd(x,F+1)):(j.setStart(x,F-1),j.setEnd(x,F),z="right"),R=j.getBoundingClientRect()):(R=P.domNode.getBoundingClientRect(),F>0&&(z="right")),{bottom:R.top+R.height,height:R.height,left:R[z],right:R[z],top:R.top,width:0}}}},{key:"getNativeRange",value:function(){var S=document.getSelection();if(S==null||S.rangeCount<=0)return null;var k=S.getRangeAt(0);if(k==null)return null;var T=this.normalizeNative(k);return a.info("getNativeRange",T),T}},{key:"getRange",value:function(){var S=this.getNativeRange();if(S==null)return[null,null];var k=this.normalizedToRange(S);return[k,S]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(S){var k=this,T=[[S.start.node,S.start.offset]];S.native.collapsed||T.push([S.end.node,S.end.offset]);var x=T.map(function(P){var F=y(P,2),J=F[0],H=F[1],j=p.default.find(J,!0),C=j.offset(k.scroll);return H===0?C:j instanceof p.default.Container?C+j.length():C+j.index(J,H)}),L=Math.min(Math.max.apply(Math,i(x)),this.scroll.length()-1),D=Math.min.apply(Math,[L].concat(i(x)));return new b(D,L-D)}},{key:"normalizeNative",value:function(S){if(!E(this.root,S.startContainer)||!S.collapsed&&!E(this.root,S.endContainer))return null;var k={start:{node:S.startContainer,offset:S.startOffset},end:{node:S.endContainer,offset:S.endOffset},native:S};return[k.start,k.end].forEach(function(T){for(var x=T.node,L=T.offset;!(x instanceof Text)&&x.childNodes.length>0;)if(x.childNodes.length>L)x=x.childNodes[L],L=0;else if(x.childNodes.length===L)x=x.lastChild,L=x instanceof Text?x.data.length:x.childNodes.length+1;else break;T.node=x,T.offset=L}),k}},{key:"rangeToNative",value:function(S){var k=this,T=S.collapsed?[S.index]:[S.index,S.index+S.length],x=[],L=this.scroll.length();return T.forEach(function(D,P){D=Math.min(L-1,D);var F=void 0,J=k.scroll.leaf(D),H=y(J,2),j=H[0],C=H[1],M=j.position(C,P!==0),I=y(M,2);F=I[0],C=I[1],x.push(F,C)}),x.length<2&&(x=x.concat(x)),x}},{key:"scrollIntoView",value:function(S){var k=this.lastRange;if(k!=null){var T=this.getBounds(k.index,k.length);if(T!=null){var x=this.scroll.length()-1,L=this.scroll.line(Math.min(k.index,x)),D=y(L,1),P=D[0],F=P;if(k.length>0){var J=this.scroll.line(Math.min(k.index+k.length,x)),H=y(J,1);F=H[0]}if(!(P==null||F==null)){var j=S.getBoundingClientRect();T.top<j.top?S.scrollTop-=j.top-T.top:T.bottom>j.bottom&&(S.scrollTop+=T.bottom-j.bottom)}}}}},{key:"setNativeRange",value:function(S,k){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:k,L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(a.info("setNativeRange",S,k,T,x),!(S!=null&&(this.root.parentNode==null||S.parentNode==null||T.parentNode==null))){var D=document.getSelection();if(D!=null)if(S!=null){this.hasFocus()||this.root.focus();var P=(this.getNativeRange()||{}).native;if(P==null||L||S!==P.startContainer||k!==P.startOffset||T!==P.endContainer||x!==P.endOffset){S.tagName=="BR"&&(k=[].indexOf.call(S.parentNode.childNodes,S),S=S.parentNode),T.tagName=="BR"&&(x=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode);var F=document.createRange();F.setStart(S,k),F.setEnd(T,x),D.removeAllRanges(),D.addRange(F)}}else D.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(S){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.default.sources.API;if(typeof k=="string"&&(T=k,k=!1),a.info("setRange",S),S!=null){var x=this.rangeToNative(S);this.setNativeRange.apply(this,i(x).concat([k]))}else this.setNativeRange(null);this.update(T)}},{key:"update",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.default.sources.USER,k=this.lastRange,T=this.getRange(),x=y(T,2),L=x[0],D=x[1];if(this.lastRange=L,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,s.default)(k,this.lastRange)){var P;!this.composing&&D!=null&&D.native.collapsed&&D.start.node!==this.cursor.textNode&&this.cursor.restore();var F=[h.default.events.SELECTION_CHANGE,(0,d.default)(this.lastRange),(0,d.default)(k),S];if((P=this.emitter).emit.apply(P,[h.default.events.EDITOR_CHANGE].concat(F)),S!==h.default.sources.SILENT){var J;(J=this.emitter).emit.apply(J,F)}}}}]),A}();function E(A,N){try{N.parentNode}catch{return!1}return N instanceof Text&&(N=N.parentNode),A.contains(N)}n.Range=b,n.default=O},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var y=function(){function h(m,_){for(var f=0;f<_.length;f++){var i=_[f];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(m,i.key,i)}}return function(m,_,f){return _&&h(m.prototype,_),f&&h(m,f),m}}(),v=function h(m,_,f){m===null&&(m=Function.prototype);var i=Object.getOwnPropertyDescriptor(m,_);if(i===void 0){var u=Object.getPrototypeOf(m);return u===null?void 0:h(u,_,f)}else{if("value"in i)return i.value;var a=i.get;return a===void 0?void 0:a.call(f)}},g=o(0),p=w(g);function w(h){return h&&h.__esModule?h:{default:h}}function d(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function c(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function s(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var l=function(h){s(m,h);function m(){return d(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return y(m,[{key:"insertInto",value:function(f,i){f.children.length===0?v(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"insertInto",this).call(this,f,i):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),m}(p.default.Embed);l.blotName="break",l.tagName="BR",n.default=l},function(e,n,o){var y=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var h in l)l.hasOwnProperty(h)&&(s[h]=l[h])};return function(s,l){c(s,l);function h(){this.constructor=s}s.prototype=l===null?Object.create(l):(h.prototype=l.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var v=o(44),g=o(30),p=o(1),w=function(c){y(s,c);function s(l){var h=c.call(this,l)||this;return h.build(),h}return s.prototype.appendChild=function(l){this.insertBefore(l)},s.prototype.attach=function(){c.prototype.attach.call(this),this.children.forEach(function(l){l.attach()})},s.prototype.build=function(){var l=this;this.children=new v.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(h){try{var m=d(h);l.insertBefore(m,l.children.head||void 0)}catch(_){if(_ instanceof p.ParchmentError)return;throw _}})},s.prototype.deleteAt=function(l,h){if(l===0&&h===this.length())return this.remove();this.children.forEachAt(l,h,function(m,_,f){m.deleteAt(_,f)})},s.prototype.descendant=function(l,h){var m=this.children.find(h),_=m[0],f=m[1];return l.blotName==null&&l(_)||l.blotName!=null&&_ instanceof l?[_,f]:_ instanceof s?_.descendant(l,f):[null,-1]},s.prototype.descendants=function(l,h,m){h===void 0&&(h=0),m===void 0&&(m=Number.MAX_VALUE);var _=[],f=m;return this.children.forEachAt(h,m,function(i,u,a){(l.blotName==null&&l(i)||l.blotName!=null&&i instanceof l)&&_.push(i),i instanceof s&&(_=_.concat(i.descendants(l,u,f))),f-=a}),_},s.prototype.detach=function(){this.children.forEach(function(l){l.detach()}),c.prototype.detach.call(this)},s.prototype.formatAt=function(l,h,m,_){this.children.forEachAt(l,h,function(f,i,u){f.formatAt(i,u,m,_)})},s.prototype.insertAt=function(l,h,m){var _=this.children.find(l),f=_[0],i=_[1];if(f)f.insertAt(i,h,m);else{var u=m==null?p.create("text",h):p.create(h,m);this.appendChild(u)}},s.prototype.insertBefore=function(l,h){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(m){return l instanceof m}))throw new p.ParchmentError("Cannot insert "+l.statics.blotName+" into "+this.statics.blotName);l.insertInto(this,h)},s.prototype.length=function(){return this.children.reduce(function(l,h){return l+h.length()},0)},s.prototype.moveChildren=function(l,h){this.children.forEach(function(m){l.insertBefore(m,h)})},s.prototype.optimize=function(l){if(c.prototype.optimize.call(this,l),this.children.length===0)if(this.statics.defaultChild!=null){var h=p.create(this.statics.defaultChild);this.appendChild(h),h.optimize(l)}else this.remove()},s.prototype.path=function(l,h){h===void 0&&(h=!1);var m=this.children.find(l,h),_=m[0],f=m[1],i=[[this,l]];return _ instanceof s?i.concat(_.path(f,h)):(_!=null&&i.push([_,f]),i)},s.prototype.removeChild=function(l){this.children.remove(l)},s.prototype.replace=function(l){l instanceof s&&l.moveChildren(this),c.prototype.replace.call(this,l)},s.prototype.split=function(l,h){if(h===void 0&&(h=!1),!h){if(l===0)return this;if(l===this.length())return this.next}var m=this.clone();return this.parent.insertBefore(m,this.next),this.children.forEachAt(l,this.length(),function(_,f,i){_=_.split(f,h),m.appendChild(_)}),m},s.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},s.prototype.update=function(l,h){var m=this,_=[],f=[];l.forEach(function(i){i.target===m.domNode&&i.type==="childList"&&(_.push.apply(_,i.addedNodes),f.push.apply(f,i.removedNodes))}),f.forEach(function(i){if(!(i.parentNode!=null&&i.tagName!=="IFRAME"&&document.body.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var u=p.find(i);u!=null&&(u.domNode.parentNode==null||u.domNode.parentNode===m.domNode)&&u.detach()}}),_.filter(function(i){return i.parentNode==m.domNode}).sort(function(i,u){return i===u?0:i.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(i){var u=null;i.nextSibling!=null&&(u=p.find(i.nextSibling));var a=d(i);(a.next!=u||a.next==null)&&(a.parent!=null&&a.parent.removeChild(m),m.insertBefore(a,u||void 0))})},s}(g.default);function d(c){var s=p.find(c);if(s==null)try{s=p.create(c)}catch{s=p.create(p.Scope.INLINE),[].slice.call(c.childNodes).forEach(function(h){s.domNode.appendChild(h)}),c.parentNode&&c.parentNode.replaceChild(s.domNode,c),s.attach()}return s}n.default=w},function(e,n,o){var y=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var h in l)l.hasOwnProperty(h)&&(s[h]=l[h])};return function(s,l){c(s,l);function h(){this.constructor=s}s.prototype=l===null?Object.create(l):(h.prototype=l.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var v=o(12),g=o(31),p=o(17),w=o(1),d=function(c){y(s,c);function s(l){var h=c.call(this,l)||this;return h.attributes=new g.default(h.domNode),h}return s.formats=function(l){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return l.tagName.toLowerCase()},s.prototype.format=function(l,h){var m=w.query(l);m instanceof v.default?this.attributes.attribute(m,h):h&&m!=null&&(l!==this.statics.blotName||this.formats()[l]!==h)&&this.replaceWith(l,h)},s.prototype.formats=function(){var l=this.attributes.values(),h=this.statics.formats(this.domNode);return h!=null&&(l[this.statics.blotName]=h),l},s.prototype.replaceWith=function(l,h){var m=c.prototype.replaceWith.call(this,l,h);return this.attributes.copy(m),m},s.prototype.update=function(l,h){var m=this;c.prototype.update.call(this,l,h),l.some(function(_){return _.target===m.domNode&&_.type==="attributes"})&&this.attributes.build()},s.prototype.wrap=function(l,h){var m=c.prototype.wrap.call(this,l,h);return m instanceof s&&m.statics.scope===this.statics.scope&&this.attributes.move(m),m},s}(p.default);n.default=d},function(e,n,o){var y=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var s in c)c.hasOwnProperty(s)&&(d[s]=c[s])};return function(d,c){w(d,c);function s(){this.constructor=d}d.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}}();Object.defineProperty(n,"__esModule",{value:!0});var v=o(30),g=o(1),p=function(w){y(d,w);function d(){return w!==null&&w.apply(this,arguments)||this}return d.value=function(c){return!0},d.prototype.index=function(c,s){return this.domNode===c||this.domNode.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(s,1):-1},d.prototype.position=function(c,s){var l=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return c>0&&(l+=1),[this.parent.domNode,l]},d.prototype.value=function(){var c;return c={},c[this.statics.blotName]=this.statics.value(this.domNode)||!0,c},d.scope=g.Scope.INLINE_BLOT,d}(v.default);n.default=p},function(e,n,o){var y=o(11),v=o(3),g={attributes:{compose:function(w,d,c){typeof w!="object"&&(w={}),typeof d!="object"&&(d={});var s=v(!0,{},d);c||(s=Object.keys(s).reduce(function(h,m){return s[m]!=null&&(h[m]=s[m]),h},{}));for(var l in w)w[l]!==void 0&&d[l]===void 0&&(s[l]=w[l]);return Object.keys(s).length>0?s:void 0},diff:function(w,d){typeof w!="object"&&(w={}),typeof d!="object"&&(d={});var c=Object.keys(w).concat(Object.keys(d)).reduce(function(s,l){return y(w[l],d[l])||(s[l]=d[l]===void 0?null:d[l]),s},{});return Object.keys(c).length>0?c:void 0},transform:function(w,d,c){if(typeof w!="object")return d;if(typeof d=="object"){if(!c)return d;var s=Object.keys(d).reduce(function(l,h){return w[h]===void 0&&(l[h]=d[h]),l},{});return Object.keys(s).length>0?s:void 0}}},iterator:function(w){return new p(w)},length:function(w){return typeof w.delete=="number"?w.delete:typeof w.retain=="number"?w.retain:typeof w.insert=="string"?w.insert.length:1}};function p(w){this.ops=w,this.index=0,this.offset=0}p.prototype.hasNext=function(){return this.peekLength()<1/0},p.prototype.next=function(w){w||(w=1/0);var d=this.ops[this.index];if(d){var c=this.offset,s=g.length(d);if(w>=s-c?(w=s-c,this.index+=1,this.offset=0):this.offset+=w,typeof d.delete=="number")return{delete:w};var l={};return d.attributes&&(l.attributes=d.attributes),typeof d.retain=="number"?l.retain=w:typeof d.insert=="string"?l.insert=d.insert.substr(c,w):l.insert=d.insert,l}else return{retain:1/0}},p.prototype.peek=function(){return this.ops[this.index]},p.prototype.peekLength=function(){return this.ops[this.index]?g.length(this.ops[this.index])-this.offset:1/0},p.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},p.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var w=this.offset,d=this.index,c=this.next(),s=this.ops.slice(this.index);return this.offset=w,this.index=d,[c].concat(s)}else return[]},e.exports=g},function(e,n){var o=function(){function y(m,_){return _!=null&&m instanceof _}var v;try{v=Map}catch{v=function(){}}var g;try{g=Set}catch{g=function(){}}var p;try{p=Promise}catch{p=function(){}}function w(m,_,f,i,u){typeof _=="object"&&(f=_.depth,i=_.prototype,u=_.includeNonEnumerable,_=_.circular);var a=[],b=[],O=typeof Buffer<"u";typeof _>"u"&&(_=!0),typeof f>"u"&&(f=1/0);function E(A,N){if(A===null)return null;if(N===0)return A;var S,k;if(typeof A!="object")return A;if(y(A,v))S=new v;else if(y(A,g))S=new g;else if(y(A,p))S=new p(function(j,C){A.then(function(M){j(E(M,N-1))},function(M){C(E(M,N-1))})});else if(w.__isArray(A))S=[];else if(w.__isRegExp(A))S=new RegExp(A.source,h(A)),A.lastIndex&&(S.lastIndex=A.lastIndex);else if(w.__isDate(A))S=new Date(A.getTime());else{if(O&&Buffer.isBuffer(A))return Buffer.allocUnsafe?S=Buffer.allocUnsafe(A.length):S=new Buffer(A.length),A.copy(S),S;y(A,Error)?S=Object.create(A):typeof i>"u"?(k=Object.getPrototypeOf(A),S=Object.create(k)):(S=Object.create(i),k=i)}if(_){var T=a.indexOf(A);if(T!=-1)return b[T];a.push(A),b.push(S)}y(A,v)&&A.forEach(function(j,C){var M=E(C,N-1),I=E(j,N-1);S.set(M,I)}),y(A,g)&&A.forEach(function(j){var C=E(j,N-1);S.add(C)});for(var x in A){var L;k&&(L=Object.getOwnPropertyDescriptor(k,x)),!(L&&L.set==null)&&(S[x]=E(A[x],N-1))}if(Object.getOwnPropertySymbols)for(var D=Object.getOwnPropertySymbols(A),x=0;x<D.length;x++){var P=D[x],F=Object.getOwnPropertyDescriptor(A,P);F&&!F.enumerable&&!u||(S[P]=E(A[P],N-1),F.enumerable||Object.defineProperty(S,P,{enumerable:!1}))}if(u)for(var J=Object.getOwnPropertyNames(A),x=0;x<J.length;x++){var H=J[x],F=Object.getOwnPropertyDescriptor(A,H);F&&F.enumerable||(S[H]=E(A[H],N-1),Object.defineProperty(S,H,{enumerable:!1}))}return S}return E(m,f)}w.clonePrototype=function(_){if(_===null)return null;var f=function(){};return f.prototype=_,new f};function d(m){return Object.prototype.toString.call(m)}w.__objToStr=d;function c(m){return typeof m=="object"&&d(m)==="[object Date]"}w.__isDate=c;function s(m){return typeof m=="object"&&d(m)==="[object Array]"}w.__isArray=s;function l(m){return typeof m=="object"&&d(m)==="[object RegExp]"}w.__isRegExp=l;function h(m){var _="";return m.global&&(_+="g"),m.ignoreCase&&(_+="i"),m.multiline&&(_+="m"),_}return w.__getRegExpFlags=h,w}();typeof e=="object"&&e.exports&&(e.exports=o)},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var y=function(){function S(k,T){var x=[],L=!0,D=!1,P=void 0;try{for(var F=k[Symbol.iterator](),J;!(L=(J=F.next()).done)&&(x.push(J.value),!(T&&x.length===T));L=!0);}catch(H){D=!0,P=H}finally{try{!L&&F.return&&F.return()}finally{if(D)throw P}}return x}return function(k,T){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return S(k,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(){function S(k,T){for(var x=0;x<T.length;x++){var L=T[x];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(k,L.key,L)}}return function(k,T,x){return T&&S(k.prototype,T),x&&S(k,x),k}}(),g=function S(k,T,x){k===null&&(k=Function.prototype);var L=Object.getOwnPropertyDescriptor(k,T);if(L===void 0){var D=Object.getPrototypeOf(k);return D===null?void 0:S(D,T,x)}else{if("value"in L)return L.value;var P=L.get;return P===void 0?void 0:P.call(x)}},p=o(0),w=a(p),d=o(8),c=a(d),s=o(4),l=a(s),h=o(16),m=a(h),_=o(13),f=a(_),i=o(25),u=a(i);function a(S){return S&&S.__esModule?S:{default:S}}function b(S,k){if(!(S instanceof k))throw new TypeError("Cannot call a class as a function")}function O(S,k){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:S}function E(S,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);S.prototype=Object.create(k&&k.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(S,k):S.__proto__=k)}function A(S){return S instanceof l.default||S instanceof s.BlockEmbed}var N=function(S){E(k,S);function k(T,x){b(this,k);var L=O(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,T));return L.emitter=x.emitter,Array.isArray(x.whitelist)&&(L.whitelist=x.whitelist.reduce(function(D,P){return D[P]=!0,D},{})),L.domNode.addEventListener("DOMNodeInserted",function(){}),L.optimize(),L.enable(),L}return v(k,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(x,L){var D=this.line(x),P=y(D,2),F=P[0],J=P[1],H=this.line(x+L),j=y(H,1),C=j[0];if(g(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"deleteAt",this).call(this,x,L),C!=null&&F!==C&&J>0){if(F instanceof s.BlockEmbed||C instanceof s.BlockEmbed){this.optimize();return}if(F instanceof f.default){var M=F.newlineIndex(F.length(),!0);if(M>-1&&(F=F.split(M+1),F===C)){this.optimize();return}}else if(C instanceof f.default){var I=C.newlineIndex(0);I>-1&&C.split(I+1)}var $=C.children.head instanceof m.default?null:C.children.head;F.moveChildren(C,$),F.remove()}this.optimize()}},{key:"enable",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",x)}},{key:"formatAt",value:function(x,L,D,P){this.whitelist!=null&&!this.whitelist[D]||(g(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"formatAt",this).call(this,x,L,D,P),this.optimize())}},{key:"insertAt",value:function(x,L,D){if(!(D!=null&&this.whitelist!=null&&!this.whitelist[L])){if(x>=this.length())if(D==null||w.default.query(L,w.default.Scope.BLOCK)==null){var P=w.default.create(this.statics.defaultChild);this.appendChild(P),D==null&&L.endsWith(`
`)&&(L=L.slice(0,-1)),P.insertAt(0,L,D)}else{var F=w.default.create(L,D);this.appendChild(F)}else g(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,x,L,D);this.optimize()}}},{key:"insertBefore",value:function(x,L){if(x.statics.scope===w.default.Scope.INLINE_BLOT){var D=w.default.create(this.statics.defaultChild);D.appendChild(x),x=D}g(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,x,L)}},{key:"leaf",value:function(x){return this.path(x).pop()||[null,-1]}},{key:"line",value:function(x){return x===this.length()?this.line(x-1):this.descendant(A,x)}},{key:"lines",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,D=function P(F,J,H){var j=[],C=H;return F.children.forEachAt(J,H,function(M,I,$){A(M)?j.push(M):M instanceof w.default.Container&&(j=j.concat(P(M,I,C))),C-=$}),j};return D(this,x,L)}},{key:"optimize",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(g(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,x,L),x.length>0&&this.emitter.emit(c.default.events.SCROLL_OPTIMIZE,x,L))}},{key:"path",value:function(x){return g(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"path",this).call(this,x).slice(1)}},{key:"update",value:function(x){if(this.batch!==!0){var L=c.default.sources.USER;typeof x=="string"&&(L=x),Array.isArray(x)||(x=this.observer.takeRecords()),x.length>0&&this.emitter.emit(c.default.events.SCROLL_BEFORE_UPDATE,L,x),g(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"update",this).call(this,x.concat([])),x.length>0&&this.emitter.emit(c.default.events.SCROLL_UPDATE,L,x)}}}]),k}(w.default.Scroll);N.blotName="scroll",N.className="ql-editor",N.tagName="DIV",N.defaultChild="block",N.allowedChildren=[l.default,s.BlockEmbed,u.default],n.default=N},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},v=function(){function R(U,K){var Y=[],tt=!0,st=!1,dt=void 0;try{for(var ct=U[Symbol.iterator](),ht;!(tt=(ht=ct.next()).done)&&(Y.push(ht.value),!(K&&Y.length===K));tt=!0);}catch(B){st=!0,dt=B}finally{try{!tt&&ct.return&&ct.return()}finally{if(st)throw dt}}return Y}return function(U,K){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return R(U,K);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function R(U,K){for(var Y=0;Y<K.length;Y++){var tt=K[Y];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(U,tt.key,tt)}}return function(U,K,Y){return K&&R(U.prototype,K),Y&&R(U,Y),U}}(),p=o(21),w=S(p),d=o(11),c=S(d),s=o(3),l=S(s),h=o(2),m=S(h),_=o(20),f=S(_),i=o(0),u=S(i),a=o(5),b=S(a),O=o(10),E=S(O),A=o(9),N=S(A);function S(R){return R&&R.__esModule?R:{default:R}}function k(R,U,K){return U in R?Object.defineProperty(R,U,{value:K,enumerable:!0,configurable:!0,writable:!0}):R[U]=K,R}function T(R,U){if(!(R instanceof U))throw new TypeError("Cannot call a class as a function")}function x(R,U){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:R}function L(R,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);R.prototype=Object.create(U&&U.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(R,U):R.__proto__=U)}var D=(0,E.default)("quill:keyboard"),P=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",F=function(R){L(U,R),g(U,null,[{key:"match",value:function(Y,tt){return tt=z(tt),["altKey","ctrlKey","metaKey","shiftKey"].some(function(st){return!!tt[st]!==Y[st]&&tt[st]!==null})?!1:tt.key===(Y.which||Y.keyCode)}}]);function U(K,Y){T(this,U);var tt=x(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,K,Y));return tt.bindings={},Object.keys(tt.options.bindings).forEach(function(st){st==="list autofill"&&K.scroll.whitelist!=null&&!K.scroll.whitelist.list||tt.options.bindings[st]&&tt.addBinding(tt.options.bindings[st])}),tt.addBinding({key:U.keys.ENTER,shiftKey:null},M),tt.addBinding({key:U.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(tt.addBinding({key:U.keys.BACKSPACE},{collapsed:!0},H),tt.addBinding({key:U.keys.DELETE},{collapsed:!0},j)):(tt.addBinding({key:U.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},H),tt.addBinding({key:U.keys.DELETE},{collapsed:!0,suffix:/^.?$/},j)),tt.addBinding({key:U.keys.BACKSPACE},{collapsed:!1},C),tt.addBinding({key:U.keys.DELETE},{collapsed:!1},C),tt.addBinding({key:U.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},H),tt.listen(),tt}return g(U,[{key:"addBinding",value:function(Y){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},st=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},dt=z(Y);if(dt==null||dt.key==null)return D.warn("Attempted to add invalid keyboard binding",dt);typeof tt=="function"&&(tt={handler:tt}),typeof st=="function"&&(st={handler:st}),dt=(0,l.default)(dt,tt,st),this.bindings[dt.key]=this.bindings[dt.key]||[],this.bindings[dt.key].push(dt)}},{key:"listen",value:function(){var Y=this;this.quill.root.addEventListener("keydown",function(tt){if(!tt.defaultPrevented){var st=tt.which||tt.keyCode,dt=(Y.bindings[st]||[]).filter(function(ot){return U.match(tt,ot)});if(dt.length!==0){var ct=Y.quill.getSelection();if(!(ct==null||!Y.quill.hasFocus())){var ht=Y.quill.getLine(ct.index),B=v(ht,2),X=B[0],W=B[1],q=Y.quill.getLeaf(ct.index),G=v(q,2),nt=G[0],it=G[1],Q=ct.length===0?[nt,it]:Y.quill.getLeaf(ct.index+ct.length),ut=v(Q,2),ft=ut[0],yt=ut[1],Tt=nt instanceof u.default.Text?nt.value().slice(0,it):"",Nt=ft instanceof u.default.Text?ft.value().slice(yt):"",mt={collapsed:ct.length===0,empty:ct.length===0&&X.length()<=1,format:Y.quill.getFormat(ct),offset:W,prefix:Tt,suffix:Nt},_t=dt.some(function(ot){if(ot.collapsed!=null&&ot.collapsed!==mt.collapsed||ot.empty!=null&&ot.empty!==mt.empty||ot.offset!=null&&ot.offset!==mt.offset)return!1;if(Array.isArray(ot.format)){if(ot.format.every(function(Ot){return mt.format[Ot]==null}))return!1}else if(y(ot.format)==="object"&&!Object.keys(ot.format).every(function(Ot){return ot.format[Ot]===!0?mt.format[Ot]!=null:ot.format[Ot]===!1?mt.format[Ot]==null:(0,c.default)(ot.format[Ot],mt.format[Ot])}))return!1;return ot.prefix!=null&&!ot.prefix.test(mt.prefix)||ot.suffix!=null&&!ot.suffix.test(mt.suffix)?!1:ot.handler.call(Y,ct,mt)!==!0});_t&&tt.preventDefault()}}}})}}]),U}(N.default);F.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},F.DEFAULTS={bindings:{bold:$("bold"),italic:$("italic"),underline:$("underline"),indent:{key:F.keys.TAB,format:["blockquote","indent","list"],handler:function(U,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","+1",b.default.sources.USER)}},outdent:{key:F.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(U,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","-1",b.default.sources.USER)}},"outdent backspace":{key:F.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(U,K){K.format.indent!=null?this.quill.format("indent","-1",b.default.sources.USER):K.format.list!=null&&this.quill.format("list",!1,b.default.sources.USER)}},"indent code-block":I(!0),"outdent code-block":I(!1),"remove tab":{key:F.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(U){this.quill.deleteText(U.index-1,1,b.default.sources.USER)}},tab:{key:F.keys.TAB,handler:function(U){this.quill.history.cutoff();var K=new m.default().retain(U.index).delete(U.length).insert("	");this.quill.updateContents(K,b.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index+1,b.default.sources.SILENT)}},"list empty enter":{key:F.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(U,K){this.quill.format("list",!1,b.default.sources.USER),K.format.indent&&this.quill.format("indent",!1,b.default.sources.USER)}},"checklist enter":{key:F.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(U){var K=this.quill.getLine(U.index),Y=v(K,2),tt=Y[0],st=Y[1],dt=(0,l.default)({},tt.formats(),{list:"checked"}),ct=new m.default().retain(U.index).insert(`
`,dt).retain(tt.length()-st-1).retain(1,{list:"unchecked"});this.quill.updateContents(ct,b.default.sources.USER),this.quill.setSelection(U.index+1,b.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:F.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(U,K){var Y=this.quill.getLine(U.index),tt=v(Y,2),st=tt[0],dt=tt[1],ct=new m.default().retain(U.index).insert(`
`,K.format).retain(st.length()-dt-1).retain(1,{header:null});this.quill.updateContents(ct,b.default.sources.USER),this.quill.setSelection(U.index+1,b.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(U,K){var Y=K.prefix.length,tt=this.quill.getLine(U.index),st=v(tt,2),dt=st[0],ct=st[1];if(ct>Y)return!0;var ht=void 0;switch(K.prefix.trim()){case"[]":case"[ ]":ht="unchecked";break;case"[x]":ht="checked";break;case"-":case"*":ht="bullet";break;default:ht="ordered"}this.quill.insertText(U.index," ",b.default.sources.USER),this.quill.history.cutoff();var B=new m.default().retain(U.index-ct).delete(Y+1).retain(dt.length()-2-ct).retain(1,{list:ht});this.quill.updateContents(B,b.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index-Y,b.default.sources.SILENT)}},"code exit":{key:F.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(U){var K=this.quill.getLine(U.index),Y=v(K,2),tt=Y[0],st=Y[1],dt=new m.default().retain(U.index+tt.length()-st-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(dt,b.default.sources.USER)}},"embed left":J(F.keys.LEFT,!1),"embed left shift":J(F.keys.LEFT,!0),"embed right":J(F.keys.RIGHT,!1),"embed right shift":J(F.keys.RIGHT,!0)}};function J(R,U){var K,Y=R===F.keys.LEFT?"prefix":"suffix";return K={key:R,shiftKey:U,altKey:null},k(K,Y,/^$/),k(K,"handler",function(st){var dt=st.index;R===F.keys.RIGHT&&(dt+=st.length+1);var ct=this.quill.getLeaf(dt),ht=v(ct,1),B=ht[0];return B instanceof u.default.Embed?(R===F.keys.LEFT?U?this.quill.setSelection(st.index-1,st.length+1,b.default.sources.USER):this.quill.setSelection(st.index-1,b.default.sources.USER):U?this.quill.setSelection(st.index,st.length+1,b.default.sources.USER):this.quill.setSelection(st.index+st.length+1,b.default.sources.USER),!1):!0}),K}function H(R,U){if(!(R.index===0||this.quill.getLength()<=1)){var K=this.quill.getLine(R.index),Y=v(K,1),tt=Y[0],st={};if(U.offset===0){var dt=this.quill.getLine(R.index-1),ct=v(dt,1),ht=ct[0];if(ht!=null&&ht.length()>1){var B=tt.formats(),X=this.quill.getFormat(R.index-1,1);st=f.default.attributes.diff(B,X)||{}}}var W=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(U.prefix)?2:1;this.quill.deleteText(R.index-W,W,b.default.sources.USER),Object.keys(st).length>0&&this.quill.formatLine(R.index-W,W,st,b.default.sources.USER),this.quill.focus()}}function j(R,U){var K=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(U.suffix)?2:1;if(!(R.index>=this.quill.getLength()-K)){var Y={},tt=0,st=this.quill.getLine(R.index),dt=v(st,1),ct=dt[0];if(U.offset>=ct.length()-1){var ht=this.quill.getLine(R.index+1),B=v(ht,1),X=B[0];if(X){var W=ct.formats(),q=this.quill.getFormat(R.index,1);Y=f.default.attributes.diff(W,q)||{},tt=X.length()}}this.quill.deleteText(R.index,K,b.default.sources.USER),Object.keys(Y).length>0&&this.quill.formatLine(R.index+tt-1,K,Y,b.default.sources.USER)}}function C(R){var U=this.quill.getLines(R),K={};if(U.length>1){var Y=U[0].formats(),tt=U[U.length-1].formats();K=f.default.attributes.diff(tt,Y)||{}}this.quill.deleteText(R,b.default.sources.USER),Object.keys(K).length>0&&this.quill.formatLine(R.index,1,K,b.default.sources.USER),this.quill.setSelection(R.index,b.default.sources.SILENT),this.quill.focus()}function M(R,U){var K=this;R.length>0&&this.quill.scroll.deleteAt(R.index,R.length);var Y=Object.keys(U.format).reduce(function(tt,st){return u.default.query(st,u.default.Scope.BLOCK)&&!Array.isArray(U.format[st])&&(tt[st]=U.format[st]),tt},{});this.quill.insertText(R.index,`
`,Y,b.default.sources.USER),this.quill.setSelection(R.index+1,b.default.sources.SILENT),this.quill.focus(),Object.keys(U.format).forEach(function(tt){Y[tt]==null&&(Array.isArray(U.format[tt])||tt!=="link"&&K.quill.format(tt,U.format[tt],b.default.sources.USER))})}function I(R){return{key:F.keys.TAB,shiftKey:!R,format:{"code-block":!0},handler:function(K){var Y=u.default.query("code-block"),tt=K.index,st=K.length,dt=this.quill.scroll.descendant(Y,tt),ct=v(dt,2),ht=ct[0],B=ct[1];if(ht!=null){var X=this.quill.getIndex(ht),W=ht.newlineIndex(B,!0)+1,q=ht.newlineIndex(X+B+st),G=ht.domNode.textContent.slice(W,q).split(`
`);B=0,G.forEach(function(nt,it){R?(ht.insertAt(W+B,Y.TAB),B+=Y.TAB.length,it===0?tt+=Y.TAB.length:st+=Y.TAB.length):nt.startsWith(Y.TAB)&&(ht.deleteAt(W+B,Y.TAB.length),B-=Y.TAB.length,it===0?tt-=Y.TAB.length:st-=Y.TAB.length),B+=nt.length+1}),this.quill.update(b.default.sources.USER),this.quill.setSelection(tt,st,b.default.sources.SILENT)}}}}function $(R){return{key:R[0].toUpperCase(),shortKey:!0,handler:function(K,Y){this.quill.format(R,!Y.format[R],b.default.sources.USER)}}}function z(R){if(typeof R=="string"||typeof R=="number")return z({key:R});if((typeof R>"u"?"undefined":y(R))==="object"&&(R=(0,w.default)(R,!1)),typeof R.key=="string")if(F.keys[R.key.toUpperCase()]!=null)R.key=F.keys[R.key.toUpperCase()];else if(R.key.length===1)R.key=R.key.toUpperCase().charCodeAt(0);else return null;return R.shortKey&&(R[P]=R.shortKey,delete R.shortKey),R}n.default=F,n.SHORTKEY=P},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var y=function(){function f(i,u){var a=[],b=!0,O=!1,E=void 0;try{for(var A=i[Symbol.iterator](),N;!(b=(N=A.next()).done)&&(a.push(N.value),!(u&&a.length===u));b=!0);}catch(S){O=!0,E=S}finally{try{!b&&A.return&&A.return()}finally{if(O)throw E}}return a}return function(i,u){if(Array.isArray(i))return i;if(Symbol.iterator in Object(i))return f(i,u);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function f(i,u,a){i===null&&(i=Function.prototype);var b=Object.getOwnPropertyDescriptor(i,u);if(b===void 0){var O=Object.getPrototypeOf(i);return O===null?void 0:f(O,u,a)}else{if("value"in b)return b.value;var E=b.get;return E===void 0?void 0:E.call(a)}},g=function(){function f(i,u){for(var a=0;a<u.length;a++){var b=u[a];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(i,b.key,b)}}return function(i,u,a){return u&&f(i.prototype,u),a&&f(i,a),i}}(),p=o(0),w=s(p),d=o(7),c=s(d);function s(f){return f&&f.__esModule?f:{default:f}}function l(f,i){if(!(f instanceof i))throw new TypeError("Cannot call a class as a function")}function h(f,i){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:f}function m(f,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);f.prototype=Object.create(i&&i.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(f,i):f.__proto__=i)}var _=function(f){m(i,f),g(i,null,[{key:"value",value:function(){}}]);function i(u,a){l(this,i);var b=h(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,u));return b.selection=a,b.textNode=document.createTextNode(i.CONTENTS),b.domNode.appendChild(b.textNode),b._length=0,b}return g(i,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(a,b){if(this._length!==0)return v(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"format",this).call(this,a,b);for(var O=this,E=0;O!=null&&O.statics.scope!==w.default.Scope.BLOCK_BLOT;)E+=O.offset(O.parent),O=O.parent;O!=null&&(this._length=i.CONTENTS.length,O.optimize(),O.formatAt(E,i.CONTENTS.length,a,b),this._length=0)}},{key:"index",value:function(a,b){return a===this.textNode?0:v(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"index",this).call(this,a,b)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){v(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var a=this.textNode,b=this.selection.getNativeRange(),O=void 0,E=void 0,A=void 0;if(b!=null&&b.start.node===a&&b.end.node===a){var N=[a,b.start.offset,b.end.offset];O=N[0],E=N[1],A=N[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==i.CONTENTS){var S=this.textNode.data.split(i.CONTENTS).join("");this.next instanceof c.default?(O=this.next.domNode,this.next.insertAt(0,S),this.textNode.data=i.CONTENTS):(this.textNode.data=S,this.parent.insertBefore(w.default.create(this.textNode),this),this.textNode=document.createTextNode(i.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),E!=null){var k=[E,A].map(function(x){return Math.max(0,Math.min(O.data.length,x-1))}),T=y(k,2);return E=T[0],A=T[1],{startNode:O,startOffset:E,endNode:O,endOffset:A}}}}},{key:"update",value:function(a,b){var O=this;if(a.some(function(A){return A.type==="characterData"&&A.target===O.textNode})){var E=this.restore();E&&(b.range=E)}}},{key:"value",value:function(){return""}}]),i}(w.default.Embed);_.blotName="cursor",_.className="ql-cursor",_.tagName="span",_.CONTENTS="\uFEFF",n.default=_},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var y=o(0),v=w(y),g=o(4),p=w(g);function w(h){return h&&h.__esModule?h:{default:h}}function d(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function c(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function s(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var l=function(h){s(m,h);function m(){return d(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(v.default.Container);l.allowedChildren=[p.default,g.BlockEmbed,l],n.default=l},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var y=function(){function _(f,i){for(var u=0;u<i.length;u++){var a=i[u];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(f,a.key,a)}}return function(f,i,u){return i&&_(f.prototype,i),u&&_(f,u),f}}(),v=function _(f,i,u){f===null&&(f=Function.prototype);var a=Object.getOwnPropertyDescriptor(f,i);if(a===void 0){var b=Object.getPrototypeOf(f);return b===null?void 0:_(b,i,u)}else{if("value"in a)return a.value;var O=a.get;return O===void 0?void 0:O.call(u)}},g=o(0),p=w(g);function w(_){return _&&_.__esModule?_:{default:_}}function d(_,f){if(!(_ instanceof f))throw new TypeError("Cannot call a class as a function")}function c(_,f){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:_}function s(_,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);_.prototype=Object.create(f&&f.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(_,f):_.__proto__=f)}var l=function(_){s(f,_);function f(){return d(this,f),c(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return y(f,[{key:"value",value:function(u){var a=v(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"value",this).call(this,u);return a.startsWith("rgb(")?(a=a.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+a.split(",").map(function(b){return("00"+parseInt(b).toString(16)).slice(-2)}).join("")):a}}]),f}(p.default.Attributor.Style),h=new p.default.Attributor.Class("color","ql-color",{scope:p.default.Scope.INLINE}),m=new l("color","color",{scope:p.default.Scope.INLINE});n.ColorAttributor=l,n.ColorClass=h,n.ColorStyle=m},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var y=function(){function m(_,f){for(var i=0;i<f.length;i++){var u=f[i];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(_,u.key,u)}}return function(_,f,i){return f&&m(_.prototype,f),i&&m(_,i),_}}(),v=function m(_,f,i){_===null&&(_=Function.prototype);var u=Object.getOwnPropertyDescriptor(_,f);if(u===void 0){var a=Object.getPrototypeOf(_);return a===null?void 0:m(a,f,i)}else{if("value"in u)return u.value;var b=u.get;return b===void 0?void 0:b.call(i)}},g=o(6),p=w(g);function w(m){return m&&m.__esModule?m:{default:m}}function d(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function c(m,_){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:m}function s(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(m,_):m.__proto__=_)}var l=function(m){s(_,m);function _(){return d(this,_),c(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return y(_,[{key:"format",value:function(i,u){if(i!==this.statics.blotName||!u)return v(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,i,u);u=this.constructor.sanitize(u),this.domNode.setAttribute("href",u)}}],[{key:"create",value:function(i){var u=v(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,i);return i=this.sanitize(i),u.setAttribute("href",i),u.setAttribute("rel","noopener noreferrer"),u.setAttribute("target","_blank"),u}},{key:"formats",value:function(i){return i.getAttribute("href")}},{key:"sanitize",value:function(i){return h(i,this.PROTOCOL_WHITELIST)?i:this.SANITIZED_URL}}]),_}(p.default);l.blotName="link",l.tagName="A",l.SANITIZED_URL="about:blank",l.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function h(m,_){var f=document.createElement("a");f.href=m;var i=f.href.slice(0,f.href.indexOf(":"));return _.indexOf(i)>-1}n.default=l,n.sanitize=h},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},v=function(){function _(f,i){for(var u=0;u<i.length;u++){var a=i[u];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(f,a.key,a)}}return function(f,i,u){return i&&_(f.prototype,i),u&&_(f,u),f}}(),g=o(23),p=c(g),w=o(107),d=c(w);function c(_){return _&&_.__esModule?_:{default:_}}function s(_,f){if(!(_ instanceof f))throw new TypeError("Cannot call a class as a function")}var l=0;function h(_,f){_.setAttribute(f,_.getAttribute(f)!=="true")}var m=function(){function _(f){var i=this;s(this,_),this.select=f,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){i.togglePicker()}),this.label.addEventListener("keydown",function(u){switch(u.keyCode){case p.default.keys.ENTER:i.togglePicker();break;case p.default.keys.ESCAPE:i.escape(),u.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return v(_,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),h(this.label,"aria-expanded"),h(this.options,"aria-hidden")}},{key:"buildItem",value:function(i){var u=this,a=document.createElement("span");return a.tabIndex="0",a.setAttribute("role","button"),a.classList.add("ql-picker-item"),i.hasAttribute("value")&&a.setAttribute("data-value",i.getAttribute("value")),i.textContent&&a.setAttribute("data-label",i.textContent),a.addEventListener("click",function(){u.selectItem(a,!0)}),a.addEventListener("keydown",function(b){switch(b.keyCode){case p.default.keys.ENTER:u.selectItem(a,!0),b.preventDefault();break;case p.default.keys.ESCAPE:u.escape(),b.preventDefault();break}}),a}},{key:"buildLabel",value:function(){var i=document.createElement("span");return i.classList.add("ql-picker-label"),i.innerHTML=d.default,i.tabIndex="0",i.setAttribute("role","button"),i.setAttribute("aria-expanded","false"),this.container.appendChild(i),i}},{key:"buildOptions",value:function(){var i=this,u=document.createElement("span");u.classList.add("ql-picker-options"),u.setAttribute("aria-hidden","true"),u.tabIndex="-1",u.id="ql-picker-options-"+l,l+=1,this.label.setAttribute("aria-controls",u.id),this.options=u,[].slice.call(this.select.options).forEach(function(a){var b=i.buildItem(a);u.appendChild(b),a.selected===!0&&i.selectItem(b)}),this.container.appendChild(u)}},{key:"buildPicker",value:function(){var i=this;[].slice.call(this.select.attributes).forEach(function(u){i.container.setAttribute(u.name,u.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var i=this;this.close(),setTimeout(function(){return i.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(i){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.container.querySelector(".ql-selected");if(i!==a&&(a!=null&&a.classList.remove("ql-selected"),i!=null&&(i.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(i.parentNode.children,i),i.hasAttribute("data-value")?this.label.setAttribute("data-value",i.getAttribute("data-value")):this.label.removeAttribute("data-value"),i.hasAttribute("data-label")?this.label.setAttribute("data-label",i.getAttribute("data-label")):this.label.removeAttribute("data-label"),u))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":y(Event))==="object"){var b=document.createEvent("Event");b.initEvent("change",!0,!0),this.select.dispatchEvent(b)}this.close()}}},{key:"update",value:function(){var i=void 0;if(this.select.selectedIndex>-1){var u=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];i=this.select.options[this.select.selectedIndex],this.selectItem(u)}else this.selectItem(null);var a=i!=null&&i!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",a)}}]),_}();n.default=m},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var y=o(0),v=D(y),g=o(5),p=D(g),w=o(4),d=D(w),c=o(16),s=D(c),l=o(25),h=D(l),m=o(24),_=D(m),f=o(35),i=D(f),u=o(6),a=D(u),b=o(22),O=D(b),E=o(7),A=D(E),N=o(55),S=D(N),k=o(42),T=D(k),x=o(23),L=D(x);function D(P){return P&&P.__esModule?P:{default:P}}p.default.register({"blots/block":d.default,"blots/block/embed":w.BlockEmbed,"blots/break":s.default,"blots/container":h.default,"blots/cursor":_.default,"blots/embed":i.default,"blots/inline":a.default,"blots/scroll":O.default,"blots/text":A.default,"modules/clipboard":S.default,"modules/history":T.default,"modules/keyboard":L.default}),v.default.register(d.default,s.default,_.default,a.default,O.default,A.default),n.default=p.default},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var y=o(1),v=function(){function g(p){this.domNode=p,this.domNode[y.DATA_KEY]={blot:this}}return Object.defineProperty(g.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),g.create=function(p){if(this.tagName==null)throw new y.ParchmentError("Blot definition missing tagName");var w;return Array.isArray(this.tagName)?(typeof p=="string"&&(p=p.toUpperCase(),parseInt(p).toString()===p&&(p=parseInt(p))),typeof p=="number"?w=document.createElement(this.tagName[p-1]):this.tagName.indexOf(p)>-1?w=document.createElement(p):w=document.createElement(this.tagName[0])):w=document.createElement(this.tagName),this.className&&w.classList.add(this.className),w},g.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},g.prototype.clone=function(){var p=this.domNode.cloneNode(!1);return y.create(p)},g.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[y.DATA_KEY]},g.prototype.deleteAt=function(p,w){var d=this.isolate(p,w);d.remove()},g.prototype.formatAt=function(p,w,d,c){var s=this.isolate(p,w);if(y.query(d,y.Scope.BLOT)!=null&&c)s.wrap(d,c);else if(y.query(d,y.Scope.ATTRIBUTE)!=null){var l=y.create(this.statics.scope);s.wrap(l),l.format(d,c)}},g.prototype.insertAt=function(p,w,d){var c=d==null?y.create("text",w):y.create(w,d),s=this.split(p);this.parent.insertBefore(c,s)},g.prototype.insertInto=function(p,w){w===void 0&&(w=null),this.parent!=null&&this.parent.children.remove(this);var d=null;p.children.insertBefore(this,w),w!=null&&(d=w.domNode),(this.domNode.parentNode!=p.domNode||this.domNode.nextSibling!=d)&&p.domNode.insertBefore(this.domNode,d),this.parent=p,this.attach()},g.prototype.isolate=function(p,w){var d=this.split(p);return d.split(w),d},g.prototype.length=function(){return 1},g.prototype.offset=function(p){return p===void 0&&(p=this.parent),this.parent==null||this==p?0:this.parent.children.offset(this)+this.parent.offset(p)},g.prototype.optimize=function(p){this.domNode[y.DATA_KEY]!=null&&delete this.domNode[y.DATA_KEY].mutations},g.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},g.prototype.replace=function(p){p.parent!=null&&(p.parent.insertBefore(this,p.next),p.remove())},g.prototype.replaceWith=function(p,w){var d=typeof p=="string"?y.create(p,w):p;return d.replace(this),d},g.prototype.split=function(p,w){return p===0?this:this.next},g.prototype.update=function(p,w){},g.prototype.wrap=function(p,w){var d=typeof p=="string"?y.create(p,w):p;return this.parent!=null&&this.parent.insertBefore(d,this.next),d.appendChild(this),d},g.blotName="abstract",g}();n.default=v},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var y=o(12),v=o(32),g=o(33),p=o(1),w=function(){function d(c){this.attributes={},this.domNode=c,this.build()}return d.prototype.attribute=function(c,s){s?c.add(this.domNode,s)&&(c.value(this.domNode)!=null?this.attributes[c.attrName]=c:delete this.attributes[c.attrName]):(c.remove(this.domNode),delete this.attributes[c.attrName])},d.prototype.build=function(){var c=this;this.attributes={};var s=y.default.keys(this.domNode),l=v.default.keys(this.domNode),h=g.default.keys(this.domNode);s.concat(l).concat(h).forEach(function(m){var _=p.query(m,p.Scope.ATTRIBUTE);_ instanceof y.default&&(c.attributes[_.attrName]=_)})},d.prototype.copy=function(c){var s=this;Object.keys(this.attributes).forEach(function(l){var h=s.attributes[l].value(s.domNode);c.format(l,h)})},d.prototype.move=function(c){var s=this;this.copy(c),Object.keys(this.attributes).forEach(function(l){s.attributes[l].remove(s.domNode)}),this.attributes={}},d.prototype.values=function(){var c=this;return Object.keys(this.attributes).reduce(function(s,l){return s[l]=c.attributes[l].value(c.domNode),s},{})},d}();n.default=w},function(e,n,o){var y=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var s in c)c.hasOwnProperty(s)&&(d[s]=c[s])};return function(d,c){w(d,c);function s(){this.constructor=d}d.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}}();Object.defineProperty(n,"__esModule",{value:!0});var v=o(12);function g(w,d){var c=w.getAttribute("class")||"";return c.split(/\s+/).filter(function(s){return s.indexOf(d+"-")===0})}var p=function(w){y(d,w);function d(){return w!==null&&w.apply(this,arguments)||this}return d.keys=function(c){return(c.getAttribute("class")||"").split(/\s+/).map(function(s){return s.split("-").slice(0,-1).join("-")})},d.prototype.add=function(c,s){return this.canAdd(c,s)?(this.remove(c),c.classList.add(this.keyName+"-"+s),!0):!1},d.prototype.remove=function(c){var s=g(c,this.keyName);s.forEach(function(l){c.classList.remove(l)}),c.classList.length===0&&c.removeAttribute("class")},d.prototype.value=function(c){var s=g(c,this.keyName)[0]||"",l=s.slice(this.keyName.length+1);return this.canAdd(c,l)?l:""},d}(v.default);n.default=p},function(e,n,o){var y=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var s in c)c.hasOwnProperty(s)&&(d[s]=c[s])};return function(d,c){w(d,c);function s(){this.constructor=d}d.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}}();Object.defineProperty(n,"__esModule",{value:!0});var v=o(12);function g(w){var d=w.split("-"),c=d.slice(1).map(function(s){return s[0].toUpperCase()+s.slice(1)}).join("");return d[0]+c}var p=function(w){y(d,w);function d(){return w!==null&&w.apply(this,arguments)||this}return d.keys=function(c){return(c.getAttribute("style")||"").split(";").map(function(s){var l=s.split(":");return l[0].trim()})},d.prototype.add=function(c,s){return this.canAdd(c,s)?(c.style[g(this.keyName)]=s,!0):!1},d.prototype.remove=function(c){c.style[g(this.keyName)]="",c.getAttribute("style")||c.removeAttribute("style")},d.prototype.value=function(c){var s=c.style[g(this.keyName)];return this.canAdd(c,s)?s:""},d}(v.default);n.default=p},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var y=function(){function p(w,d){for(var c=0;c<d.length;c++){var s=d[c];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(w,s.key,s)}}return function(w,d,c){return d&&p(w.prototype,d),c&&p(w,c),w}}();function v(p,w){if(!(p instanceof w))throw new TypeError("Cannot call a class as a function")}var g=function(){function p(w,d){v(this,p),this.quill=w,this.options=d,this.modules={}}return y(p,[{key:"init",value:function(){var d=this;Object.keys(this.options.modules).forEach(function(c){d.modules[c]==null&&d.addModule(c)})}},{key:"addModule",value:function(d){var c=this.quill.constructor.import("modules/"+d);return this.modules[d]=new c(this.quill,this.options.modules[d]||{}),this.modules[d]}}]),p}();g.DEFAULTS={modules:{}},g.themes={default:g},n.default=g},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var y=function(){function f(i,u){for(var a=0;a<u.length;a++){var b=u[a];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(i,b.key,b)}}return function(i,u,a){return u&&f(i.prototype,u),a&&f(i,a),i}}(),v=function f(i,u,a){i===null&&(i=Function.prototype);var b=Object.getOwnPropertyDescriptor(i,u);if(b===void 0){var O=Object.getPrototypeOf(i);return O===null?void 0:f(O,u,a)}else{if("value"in b)return b.value;var E=b.get;return E===void 0?void 0:E.call(a)}},g=o(0),p=c(g),w=o(7),d=c(w);function c(f){return f&&f.__esModule?f:{default:f}}function s(f,i){if(!(f instanceof i))throw new TypeError("Cannot call a class as a function")}function l(f,i){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:f}function h(f,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);f.prototype=Object.create(i&&i.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(f,i):f.__proto__=i)}var m="\uFEFF",_=function(f){h(i,f);function i(u){s(this,i);var a=l(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,u));return a.contentNode=document.createElement("span"),a.contentNode.setAttribute("contenteditable",!1),[].slice.call(a.domNode.childNodes).forEach(function(b){a.contentNode.appendChild(b)}),a.leftGuard=document.createTextNode(m),a.rightGuard=document.createTextNode(m),a.domNode.appendChild(a.leftGuard),a.domNode.appendChild(a.contentNode),a.domNode.appendChild(a.rightGuard),a}return y(i,[{key:"index",value:function(a,b){return a===this.leftGuard?0:a===this.rightGuard?1:v(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"index",this).call(this,a,b)}},{key:"restore",value:function(a){var b=void 0,O=void 0,E=a.data.split(m).join("");if(a===this.leftGuard)if(this.prev instanceof d.default){var A=this.prev.length();this.prev.insertAt(A,E),b={startNode:this.prev.domNode,startOffset:A+E.length}}else O=document.createTextNode(E),this.parent.insertBefore(p.default.create(O),this),b={startNode:O,startOffset:E.length};else a===this.rightGuard&&(this.next instanceof d.default?(this.next.insertAt(0,E),b={startNode:this.next.domNode,startOffset:E.length}):(O=document.createTextNode(E),this.parent.insertBefore(p.default.create(O),this.next),b={startNode:O,startOffset:E.length}));return a.data=m,b}},{key:"update",value:function(a,b){var O=this;a.forEach(function(E){if(E.type==="characterData"&&(E.target===O.leftGuard||E.target===O.rightGuard)){var A=O.restore(E.target);A&&(b.range=A)}})}}]),i}(p.default.Embed);n.default=_},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var y=o(0),v=g(y);function g(s){return s&&s.__esModule?s:{default:s}}var p={scope:v.default.Scope.BLOCK,whitelist:["right","center","justify"]},w=new v.default.Attributor.Attribute("align","align",p),d=new v.default.Attributor.Class("align","ql-align",p),c=new v.default.Attributor.Style("align","text-align",p);n.AlignAttribute=w,n.AlignClass=d,n.AlignStyle=c},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var y=o(0),v=p(y),g=o(26);function p(c){return c&&c.__esModule?c:{default:c}}var w=new v.default.Attributor.Class("background","ql-bg",{scope:v.default.Scope.INLINE}),d=new g.ColorAttributor("background","background-color",{scope:v.default.Scope.INLINE});n.BackgroundClass=w,n.BackgroundStyle=d},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var y=o(0),v=g(y);function g(s){return s&&s.__esModule?s:{default:s}}var p={scope:v.default.Scope.BLOCK,whitelist:["rtl"]},w=new v.default.Attributor.Attribute("direction","dir",p),d=new v.default.Attributor.Class("direction","ql-direction",p),c=new v.default.Attributor.Style("direction","direction",p);n.DirectionAttribute=w,n.DirectionClass=d,n.DirectionStyle=c},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var y=function(){function f(i,u){for(var a=0;a<u.length;a++){var b=u[a];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(i,b.key,b)}}return function(i,u,a){return u&&f(i.prototype,u),a&&f(i,a),i}}(),v=function f(i,u,a){i===null&&(i=Function.prototype);var b=Object.getOwnPropertyDescriptor(i,u);if(b===void 0){var O=Object.getPrototypeOf(i);return O===null?void 0:f(O,u,a)}else{if("value"in b)return b.value;var E=b.get;return E===void 0?void 0:E.call(a)}},g=o(0),p=w(g);function w(f){return f&&f.__esModule?f:{default:f}}function d(f,i){if(!(f instanceof i))throw new TypeError("Cannot call a class as a function")}function c(f,i){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:f}function s(f,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);f.prototype=Object.create(i&&i.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(f,i):f.__proto__=i)}var l={scope:p.default.Scope.INLINE,whitelist:["serif","monospace"]},h=new p.default.Attributor.Class("font","ql-font",l),m=function(f){s(i,f);function i(){return d(this,i),c(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return y(i,[{key:"value",value:function(a){return v(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"value",this).call(this,a).replace(/["']/g,"")}}]),i}(p.default.Attributor.Style),_=new m("font","font-family",l);n.FontStyle=_,n.FontClass=h},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var y=o(0),v=g(y);function g(d){return d&&d.__esModule?d:{default:d}}var p=new v.default.Attributor.Class("size","ql-size",{scope:v.default.Scope.INLINE,whitelist:["small","large","huge"]}),w=new v.default.Attributor.Style("size","font-size",{scope:v.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=p,n.SizeStyle=w},function(e,n,o){e.exports={align:{"":o(76),center:o(77),right:o(78),justify:o(79)},background:o(80),blockquote:o(81),bold:o(82),clean:o(83),code:o(58),"code-block":o(58),color:o(84),direction:{"":o(85),rtl:o(86)},float:{center:o(87),full:o(88),left:o(89),right:o(90)},formula:o(91),header:{1:o(92),2:o(93)},italic:o(94),image:o(95),indent:{"+1":o(96),"-1":o(97)},link:o(98),list:{ordered:o(99),bullet:o(100),check:o(101)},script:{sub:o(102),super:o(103)},strike:o(104),underline:o(105),video:o(106)}},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var y=function(){function u(a,b){for(var O=0;O<b.length;O++){var E=b[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(a,E.key,E)}}return function(a,b,O){return b&&u(a.prototype,b),O&&u(a,O),a}}(),v=o(0),g=s(v),p=o(5),w=s(p),d=o(9),c=s(d);function s(u){return u&&u.__esModule?u:{default:u}}function l(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")}function h(u,a){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:u}function m(u,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);u.prototype=Object.create(a&&a.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(u,a):u.__proto__=a)}var _=function(u){m(a,u);function a(b,O){l(this,a);var E=h(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,b,O));return E.lastRecorded=0,E.ignoreChange=!1,E.clear(),E.quill.on(w.default.events.EDITOR_CHANGE,function(A,N,S,k){A!==w.default.events.TEXT_CHANGE||E.ignoreChange||(!E.options.userOnly||k===w.default.sources.USER?E.record(N,S):E.transform(N))}),E.quill.keyboard.addBinding({key:"Z",shortKey:!0},E.undo.bind(E)),E.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},E.redo.bind(E)),/Win/i.test(navigator.platform)&&E.quill.keyboard.addBinding({key:"Y",shortKey:!0},E.redo.bind(E)),E}return y(a,[{key:"change",value:function(O,E){if(this.stack[O].length!==0){var A=this.stack[O].pop();this.stack[E].push(A),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(A[O],w.default.sources.USER),this.ignoreChange=!1;var N=i(A[O]);this.quill.setSelection(N)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(O,E){if(O.ops.length!==0){this.stack.redo=[];var A=this.quill.getContents().diff(E),N=Date.now();if(this.lastRecorded+this.options.delay>N&&this.stack.undo.length>0){var S=this.stack.undo.pop();A=A.compose(S.undo),O=S.redo.compose(O)}else this.lastRecorded=N;this.stack.undo.push({redo:O,undo:A}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(O){this.stack.undo.forEach(function(E){E.undo=O.transform(E.undo,!0),E.redo=O.transform(E.redo,!0)}),this.stack.redo.forEach(function(E){E.undo=O.transform(E.undo,!0),E.redo=O.transform(E.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),a}(c.default);_.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function f(u){var a=u.ops[u.ops.length-1];return a==null?!1:a.insert!=null?typeof a.insert=="string"&&a.insert.endsWith(`
`):a.attributes!=null?Object.keys(a.attributes).some(function(b){return g.default.query(b,g.default.Scope.BLOCK)!=null}):!1}function i(u){var a=u.reduce(function(O,E){return O+=E.delete||0,O},0),b=u.length()-a;return f(u)&&(b-=1),b}n.default=_,n.getLastChangeIndex=i},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var y=function(){function M(I,$){for(var z=0;z<$.length;z++){var R=$[z];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(I,R.key,R)}}return function(I,$,z){return $&&M(I.prototype,$),z&&M(I,z),I}}(),v=function M(I,$,z){I===null&&(I=Function.prototype);var R=Object.getOwnPropertyDescriptor(I,$);if(R===void 0){var U=Object.getPrototypeOf(I);return U===null?void 0:M(U,$,z)}else{if("value"in R)return R.value;var K=R.get;return K===void 0?void 0:K.call(z)}},g=o(3),p=N(g),w=o(2),d=N(w),c=o(8),s=N(c),l=o(23),h=N(l),m=o(34),_=N(m),f=o(59),i=N(f),u=o(60),a=N(u),b=o(28),O=N(b),E=o(61),A=N(E);function N(M){return M&&M.__esModule?M:{default:M}}function S(M,I){if(!(M instanceof I))throw new TypeError("Cannot call a class as a function")}function k(M,I){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:M}function T(M,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);M.prototype=Object.create(I&&I.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(M,I):M.__proto__=I)}var x=[!1,"center","right","justify"],L=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],D=[!1,"serif","monospace"],P=["1","2","3",!1],F=["small",!1,"large","huge"],J=function(M){T(I,M);function I($,z){S(this,I);var R=k(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,$,z)),U=function K(Y){if(!document.body.contains($.root))return document.body.removeEventListener("click",K);R.tooltip!=null&&!R.tooltip.root.contains(Y.target)&&document.activeElement!==R.tooltip.textbox&&!R.quill.hasFocus()&&R.tooltip.hide(),R.pickers!=null&&R.pickers.forEach(function(tt){tt.container.contains(Y.target)||tt.close()})};return $.emitter.listenDOM("click",document.body,U),R}return y(I,[{key:"addModule",value:function(z){var R=v(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"addModule",this).call(this,z);return z==="toolbar"&&this.extendToolbar(R),R}},{key:"buildButtons",value:function(z,R){z.forEach(function(U){var K=U.getAttribute("class")||"";K.split(/\s+/).forEach(function(Y){if(!!Y.startsWith("ql-")&&(Y=Y.slice(3),R[Y]!=null))if(Y==="direction")U.innerHTML=R[Y][""]+R[Y].rtl;else if(typeof R[Y]=="string")U.innerHTML=R[Y];else{var tt=U.value||"";tt!=null&&R[Y][tt]&&(U.innerHTML=R[Y][tt])}})})}},{key:"buildPickers",value:function(z,R){var U=this;this.pickers=z.map(function(Y){if(Y.classList.contains("ql-align"))return Y.querySelector("option")==null&&C(Y,x),new a.default(Y,R.align);if(Y.classList.contains("ql-background")||Y.classList.contains("ql-color")){var tt=Y.classList.contains("ql-background")?"background":"color";return Y.querySelector("option")==null&&C(Y,L,tt==="background"?"#ffffff":"#000000"),new i.default(Y,R[tt])}else return Y.querySelector("option")==null&&(Y.classList.contains("ql-font")?C(Y,D):Y.classList.contains("ql-header")?C(Y,P):Y.classList.contains("ql-size")&&C(Y,F)),new O.default(Y)});var K=function(){U.pickers.forEach(function(tt){tt.update()})};this.quill.on(s.default.events.EDITOR_CHANGE,K)}}]),I}(_.default);J.DEFAULTS=(0,p.default)(!0,{},_.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var I=this,$=this.container.querySelector("input.ql-image[type=file]");$==null&&($=document.createElement("input"),$.setAttribute("type","file"),$.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),$.classList.add("ql-image"),$.addEventListener("change",function(){if($.files!=null&&$.files[0]!=null){var z=new FileReader;z.onload=function(R){var U=I.quill.getSelection(!0);I.quill.updateContents(new d.default().retain(U.index).delete(U.length).insert({image:R.target.result}),s.default.sources.USER),I.quill.setSelection(U.index+1,s.default.sources.SILENT),$.value=""},z.readAsDataURL($.files[0])}}),this.container.appendChild($)),$.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var H=function(M){T(I,M);function I($,z){S(this,I);var R=k(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,$,z));return R.textbox=R.root.querySelector('input[type="text"]'),R.listen(),R}return y(I,[{key:"listen",value:function(){var z=this;this.textbox.addEventListener("keydown",function(R){h.default.match(R,"enter")?(z.save(),R.preventDefault()):h.default.match(R,"escape")&&(z.cancel(),R.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),R!=null?this.textbox.value=R:z!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+z)||""),this.root.setAttribute("data-mode",z)}},{key:"restoreFocus",value:function(){var z=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=z}},{key:"save",value:function(){var z=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var R=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",z,s.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",z,s.default.sources.USER)),this.quill.root.scrollTop=R;break}case"video":z=j(z);case"formula":{if(!z)break;var U=this.quill.getSelection(!0);if(U!=null){var K=U.index+U.length;this.quill.insertEmbed(K,this.root.getAttribute("data-mode"),z,s.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(K+1," ",s.default.sources.USER),this.quill.setSelection(K+2,s.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),I}(A.default);function j(M){var I=M.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||M.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return I?(I[1]||"https")+"://www.youtube.com/embed/"+I[2]+"?showinfo=0":(I=M.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(I[1]||"https")+"://player.vimeo.com/video/"+I[2]+"/":M}function C(M,I){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;I.forEach(function(z){var R=document.createElement("option");z===$?R.setAttribute("selected","selected"):R.setAttribute("value",z),M.appendChild(R)})}n.BaseTooltip=H,n.default=J},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var y=function(){function v(){this.head=this.tail=null,this.length=0}return v.prototype.append=function(){for(var g=[],p=0;p<arguments.length;p++)g[p]=arguments[p];this.insertBefore(g[0],null),g.length>1&&this.append.apply(this,g.slice(1))},v.prototype.contains=function(g){for(var p,w=this.iterator();p=w();)if(p===g)return!0;return!1},v.prototype.insertBefore=function(g,p){!g||(g.next=p,p!=null?(g.prev=p.prev,p.prev!=null&&(p.prev.next=g),p.prev=g,p===this.head&&(this.head=g)):this.tail!=null?(this.tail.next=g,g.prev=this.tail,this.tail=g):(g.prev=null,this.head=this.tail=g),this.length+=1)},v.prototype.offset=function(g){for(var p=0,w=this.head;w!=null;){if(w===g)return p;p+=w.length(),w=w.next}return-1},v.prototype.remove=function(g){!this.contains(g)||(g.prev!=null&&(g.prev.next=g.next),g.next!=null&&(g.next.prev=g.prev),g===this.head&&(this.head=g.next),g===this.tail&&(this.tail=g.prev),this.length-=1)},v.prototype.iterator=function(g){return g===void 0&&(g=this.head),function(){var p=g;return g!=null&&(g=g.next),p}},v.prototype.find=function(g,p){p===void 0&&(p=!1);for(var w,d=this.iterator();w=d();){var c=w.length();if(g<c||p&&g===c&&(w.next==null||w.next.length()!==0))return[w,g];g-=c}return[null,0]},v.prototype.forEach=function(g){for(var p,w=this.iterator();p=w();)g(p)},v.prototype.forEachAt=function(g,p,w){if(!(p<=0))for(var d=this.find(g),c=d[0],s=d[1],l,h=g-s,m=this.iterator(c);(l=m())&&h<g+p;){var _=l.length();g>h?w(l,g-h,Math.min(p,h+_-g)):w(l,0,Math.min(_,g+p-h)),h+=_}},v.prototype.map=function(g){return this.reduce(function(p,w){return p.push(g(w)),p},[])},v.prototype.reduce=function(g,p){for(var w,d=this.iterator();w=d();)p=g(p,w);return p},v}();n.default=y},function(e,n,o){var y=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var h in l)l.hasOwnProperty(h)&&(s[h]=l[h])};return function(s,l){c(s,l);function h(){this.constructor=s}s.prototype=l===null?Object.create(l):(h.prototype=l.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var v=o(17),g=o(1),p={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},w=100,d=function(c){y(s,c);function s(l){var h=c.call(this,l)||this;return h.scroll=h,h.observer=new MutationObserver(function(m){h.update(m)}),h.observer.observe(h.domNode,p),h.attach(),h}return s.prototype.detach=function(){c.prototype.detach.call(this),this.observer.disconnect()},s.prototype.deleteAt=function(l,h){this.update(),l===0&&h===this.length()?this.children.forEach(function(m){m.remove()}):c.prototype.deleteAt.call(this,l,h)},s.prototype.formatAt=function(l,h,m,_){this.update(),c.prototype.formatAt.call(this,l,h,m,_)},s.prototype.insertAt=function(l,h,m){this.update(),c.prototype.insertAt.call(this,l,h,m)},s.prototype.optimize=function(l,h){var m=this;l===void 0&&(l=[]),h===void 0&&(h={}),c.prototype.optimize.call(this,h);for(var _=[].slice.call(this.observer.takeRecords());_.length>0;)l.push(_.pop());for(var f=function(b,O){O===void 0&&(O=!0),!(b==null||b===m)&&b.domNode.parentNode!=null&&(b.domNode[g.DATA_KEY].mutations==null&&(b.domNode[g.DATA_KEY].mutations=[]),O&&f(b.parent))},i=function(b){b.domNode[g.DATA_KEY]==null||b.domNode[g.DATA_KEY].mutations==null||(b instanceof v.default&&b.children.forEach(i),b.optimize(h))},u=l,a=0;u.length>0;a+=1){if(a>=w)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach(function(b){var O=g.find(b.target,!0);O!=null&&(O.domNode===b.target&&(b.type==="childList"?(f(g.find(b.previousSibling,!1)),[].forEach.call(b.addedNodes,function(E){var A=g.find(E,!1);f(A,!1),A instanceof v.default&&A.children.forEach(function(N){f(N,!1)})})):b.type==="attributes"&&f(O.prev)),f(O))}),this.children.forEach(i),u=[].slice.call(this.observer.takeRecords()),_=u.slice();_.length>0;)l.push(_.pop())}},s.prototype.update=function(l,h){var m=this;h===void 0&&(h={}),l=l||this.observer.takeRecords(),l.map(function(_){var f=g.find(_.target,!0);return f==null?null:f.domNode[g.DATA_KEY].mutations==null?(f.domNode[g.DATA_KEY].mutations=[_],f):(f.domNode[g.DATA_KEY].mutations.push(_),null)}).forEach(function(_){_==null||_===m||_.domNode[g.DATA_KEY]==null||_.update(_.domNode[g.DATA_KEY].mutations||[],h)}),this.domNode[g.DATA_KEY].mutations!=null&&c.prototype.update.call(this,this.domNode[g.DATA_KEY].mutations,h),this.optimize(l,h)},s.blotName="scroll",s.defaultChild="block",s.scope=g.Scope.BLOCK_BLOT,s.tagName="DIV",s}(v.default);n.default=d},function(e,n,o){var y=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,s){c.__proto__=s}||function(c,s){for(var l in s)s.hasOwnProperty(l)&&(c[l]=s[l])};return function(c,s){d(c,s);function l(){this.constructor=c}c.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}();Object.defineProperty(n,"__esModule",{value:!0});var v=o(18),g=o(1);function p(d,c){if(Object.keys(d).length!==Object.keys(c).length)return!1;for(var s in d)if(d[s]!==c[s])return!1;return!0}var w=function(d){y(c,d);function c(){return d!==null&&d.apply(this,arguments)||this}return c.formats=function(s){if(s.tagName!==c.tagName)return d.formats.call(this,s)},c.prototype.format=function(s,l){var h=this;s===this.statics.blotName&&!l?(this.children.forEach(function(m){m instanceof v.default||(m=m.wrap(c.blotName,!0)),h.attributes.copy(m)}),this.unwrap()):d.prototype.format.call(this,s,l)},c.prototype.formatAt=function(s,l,h,m){if(this.formats()[h]!=null||g.query(h,g.Scope.ATTRIBUTE)){var _=this.isolate(s,l);_.format(h,m)}else d.prototype.formatAt.call(this,s,l,h,m)},c.prototype.optimize=function(s){d.prototype.optimize.call(this,s);var l=this.formats();if(Object.keys(l).length===0)return this.unwrap();var h=this.next;h instanceof c&&h.prev===this&&p(l,h.formats())&&(h.moveChildren(this),h.remove())},c.blotName="inline",c.scope=g.Scope.INLINE_BLOT,c.tagName="SPAN",c}(v.default);n.default=w},function(e,n,o){var y=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var s in c)c.hasOwnProperty(s)&&(d[s]=c[s])};return function(d,c){w(d,c);function s(){this.constructor=d}d.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}}();Object.defineProperty(n,"__esModule",{value:!0});var v=o(18),g=o(1),p=function(w){y(d,w);function d(){return w!==null&&w.apply(this,arguments)||this}return d.formats=function(c){var s=g.query(d.blotName).tagName;if(c.tagName!==s)return w.formats.call(this,c)},d.prototype.format=function(c,s){g.query(c,g.Scope.BLOCK)!=null&&(c===this.statics.blotName&&!s?this.replaceWith(d.blotName):w.prototype.format.call(this,c,s))},d.prototype.formatAt=function(c,s,l,h){g.query(l,g.Scope.BLOCK)!=null?this.format(l,h):w.prototype.formatAt.call(this,c,s,l,h)},d.prototype.insertAt=function(c,s,l){if(l==null||g.query(s,g.Scope.INLINE)!=null)w.prototype.insertAt.call(this,c,s,l);else{var h=this.split(c),m=g.create(s,l);h.parent.insertBefore(m,h)}},d.prototype.update=function(c,s){navigator.userAgent.match(/Trident/)?this.build():w.prototype.update.call(this,c,s)},d.blotName="block",d.scope=g.Scope.BLOCK_BLOT,d.tagName="P",d}(v.default);n.default=p},function(e,n,o){var y=this&&this.__extends||function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,d){w.__proto__=d}||function(w,d){for(var c in d)d.hasOwnProperty(c)&&(w[c]=d[c])};return function(w,d){p(w,d);function c(){this.constructor=w}w.prototype=d===null?Object.create(d):(c.prototype=d.prototype,new c)}}();Object.defineProperty(n,"__esModule",{value:!0});var v=o(19),g=function(p){y(w,p);function w(){return p!==null&&p.apply(this,arguments)||this}return w.formats=function(d){},w.prototype.format=function(d,c){p.prototype.formatAt.call(this,0,this.length(),d,c)},w.prototype.formatAt=function(d,c,s,l){d===0&&c===this.length()?this.format(s,l):p.prototype.formatAt.call(this,d,c,s,l)},w.prototype.formats=function(){return this.statics.formats(this.domNode)},w}(v.default);n.default=g},function(e,n,o){var y=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var s in c)c.hasOwnProperty(s)&&(d[s]=c[s])};return function(d,c){w(d,c);function s(){this.constructor=d}d.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}}();Object.defineProperty(n,"__esModule",{value:!0});var v=o(19),g=o(1),p=function(w){y(d,w);function d(c){var s=w.call(this,c)||this;return s.text=s.statics.value(s.domNode),s}return d.create=function(c){return document.createTextNode(c)},d.value=function(c){var s=c.data;return s.normalize&&(s=s.normalize()),s},d.prototype.deleteAt=function(c,s){this.domNode.data=this.text=this.text.slice(0,c)+this.text.slice(c+s)},d.prototype.index=function(c,s){return this.domNode===c?s:-1},d.prototype.insertAt=function(c,s,l){l==null?(this.text=this.text.slice(0,c)+s+this.text.slice(c),this.domNode.data=this.text):w.prototype.insertAt.call(this,c,s,l)},d.prototype.length=function(){return this.text.length},d.prototype.optimize=function(c){w.prototype.optimize.call(this,c),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof d&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},d.prototype.position=function(c,s){return[this.domNode,c]},d.prototype.split=function(c,s){if(s===void 0&&(s=!1),!s){if(c===0)return this;if(c===this.length())return this.next}var l=g.create(this.domNode.splitText(c));return this.parent.insertBefore(l,this.next),this.text=this.statics.value(this.domNode),l},d.prototype.update=function(c,s){var l=this;c.some(function(h){return h.type==="characterData"&&h.target===l.domNode})&&(this.text=this.statics.value(this.domNode))},d.prototype.value=function(){return this.text},d.blotName="text",d.scope=g.Scope.INLINE_BLOT,d}(v.default);n.default=p},function(e,n,o){var y=document.createElement("div");if(y.classList.toggle("test-class",!1),y.classList.contains("test-class")){var v=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(g,p){return arguments.length>1&&!this.contains(g)==!p?p:v.call(this,g)}}String.prototype.startsWith||(String.prototype.startsWith=function(g,p){return p=p||0,this.substr(p,g.length)===g}),String.prototype.endsWith||(String.prototype.endsWith=function(g,p){var w=this.toString();(typeof p!="number"||!isFinite(p)||Math.floor(p)!==p||p>w.length)&&(p=w.length),p-=g.length;var d=w.indexOf(g,p);return d!==-1&&d===p}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(p){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof p!="function")throw new TypeError("predicate must be a function");for(var w=Object(this),d=w.length>>>0,c=arguments[1],s,l=0;l<d;l++)if(s=w[l],p.call(c,s,l,w))return s}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(e,n){var o=-1,y=1,v=0;function g(a,b,O){if(a==b)return a?[[v,a]]:[];(O<0||a.length<O)&&(O=null);var E=c(a,b),A=a.substring(0,E);a=a.substring(E),b=b.substring(E),E=s(a,b);var N=a.substring(a.length-E);a=a.substring(0,a.length-E),b=b.substring(0,b.length-E);var S=p(a,b);return A&&S.unshift([v,A]),N&&S.push([v,N]),h(S),O!=null&&(S=f(S,O)),S=i(S),S}function p(a,b){var O;if(!a)return[[y,b]];if(!b)return[[o,a]];var E=a.length>b.length?a:b,A=a.length>b.length?b:a,N=E.indexOf(A);if(N!=-1)return O=[[y,E.substring(0,N)],[v,A],[y,E.substring(N+A.length)]],a.length>b.length&&(O[0][0]=O[2][0]=o),O;if(A.length==1)return[[o,a],[y,b]];var S=l(a,b);if(S){var k=S[0],T=S[1],x=S[2],L=S[3],D=S[4],P=g(k,x),F=g(T,L);return P.concat([[v,D]],F)}return w(a,b)}function w(a,b){for(var O=a.length,E=b.length,A=Math.ceil((O+E)/2),N=A,S=2*A,k=new Array(S),T=new Array(S),x=0;x<S;x++)k[x]=-1,T[x]=-1;k[N+1]=0,T[N+1]=0;for(var L=O-E,D=L%2!=0,P=0,F=0,J=0,H=0,j=0;j<A;j++){for(var C=-j+P;C<=j-F;C+=2){var M=N+C,I;C==-j||C!=j&&k[M-1]<k[M+1]?I=k[M+1]:I=k[M-1]+1;for(var $=I-C;I<O&&$<E&&a.charAt(I)==b.charAt($);)I++,$++;if(k[M]=I,I>O)F+=2;else if($>E)P+=2;else if(D){var z=N+L-C;if(z>=0&&z<S&&T[z]!=-1){var R=O-T[z];if(I>=R)return d(a,b,I,$)}}}for(var U=-j+J;U<=j-H;U+=2){var z=N+U,R;U==-j||U!=j&&T[z-1]<T[z+1]?R=T[z+1]:R=T[z-1]+1;for(var K=R-U;R<O&&K<E&&a.charAt(O-R-1)==b.charAt(E-K-1);)R++,K++;if(T[z]=R,R>O)H+=2;else if(K>E)J+=2;else if(!D){var M=N+L-U;if(M>=0&&M<S&&k[M]!=-1){var I=k[M],$=N+I-M;if(R=O-R,I>=R)return d(a,b,I,$)}}}}return[[o,a],[y,b]]}function d(a,b,O,E){var A=a.substring(0,O),N=b.substring(0,E),S=a.substring(O),k=b.substring(E),T=g(A,N),x=g(S,k);return T.concat(x)}function c(a,b){if(!a||!b||a.charAt(0)!=b.charAt(0))return 0;for(var O=0,E=Math.min(a.length,b.length),A=E,N=0;O<A;)a.substring(N,A)==b.substring(N,A)?(O=A,N=O):E=A,A=Math.floor((E-O)/2+O);return A}function s(a,b){if(!a||!b||a.charAt(a.length-1)!=b.charAt(b.length-1))return 0;for(var O=0,E=Math.min(a.length,b.length),A=E,N=0;O<A;)a.substring(a.length-A,a.length-N)==b.substring(b.length-A,b.length-N)?(O=A,N=O):E=A,A=Math.floor((E-O)/2+O);return A}function l(a,b){var O=a.length>b.length?a:b,E=a.length>b.length?b:a;if(O.length<4||E.length*2<O.length)return null;function A(F,J,H){for(var j=F.substring(H,H+Math.floor(F.length/4)),C=-1,M="",I,$,z,R;(C=J.indexOf(j,C+1))!=-1;){var U=c(F.substring(H),J.substring(C)),K=s(F.substring(0,H),J.substring(0,C));M.length<K+U&&(M=J.substring(C-K,C)+J.substring(C,C+U),I=F.substring(0,H-K),$=F.substring(H+U),z=J.substring(0,C-K),R=J.substring(C+U))}return M.length*2>=F.length?[I,$,z,R,M]:null}var N=A(O,E,Math.ceil(O.length/4)),S=A(O,E,Math.ceil(O.length/2)),k;if(!N&&!S)return null;S?N?k=N[4].length>S[4].length?N:S:k=S:k=N;var T,x,L,D;a.length>b.length?(T=k[0],x=k[1],L=k[2],D=k[3]):(L=k[0],D=k[1],T=k[2],x=k[3]);var P=k[4];return[T,x,L,D,P]}function h(a){a.push([v,""]);for(var b=0,O=0,E=0,A="",N="",S;b<a.length;)switch(a[b][0]){case y:E++,N+=a[b][1],b++;break;case o:O++,A+=a[b][1],b++;break;case v:O+E>1?(O!==0&&E!==0&&(S=c(N,A),S!==0&&(b-O-E>0&&a[b-O-E-1][0]==v?a[b-O-E-1][1]+=N.substring(0,S):(a.splice(0,0,[v,N.substring(0,S)]),b++),N=N.substring(S),A=A.substring(S)),S=s(N,A),S!==0&&(a[b][1]=N.substring(N.length-S)+a[b][1],N=N.substring(0,N.length-S),A=A.substring(0,A.length-S))),O===0?a.splice(b-E,O+E,[y,N]):E===0?a.splice(b-O,O+E,[o,A]):a.splice(b-O-E,O+E,[o,A],[y,N]),b=b-O-E+(O?1:0)+(E?1:0)+1):b!==0&&a[b-1][0]==v?(a[b-1][1]+=a[b][1],a.splice(b,1)):b++,E=0,O=0,A="",N="";break}a[a.length-1][1]===""&&a.pop();var k=!1;for(b=1;b<a.length-1;)a[b-1][0]==v&&a[b+1][0]==v&&(a[b][1].substring(a[b][1].length-a[b-1][1].length)==a[b-1][1]?(a[b][1]=a[b-1][1]+a[b][1].substring(0,a[b][1].length-a[b-1][1].length),a[b+1][1]=a[b-1][1]+a[b+1][1],a.splice(b-1,1),k=!0):a[b][1].substring(0,a[b+1][1].length)==a[b+1][1]&&(a[b-1][1]+=a[b+1][1],a[b][1]=a[b][1].substring(a[b+1][1].length)+a[b+1][1],a.splice(b+1,1),k=!0)),b++;k&&h(a)}var m=g;m.INSERT=y,m.DELETE=o,m.EQUAL=v,e.exports=m;function _(a,b){if(b===0)return[v,a];for(var O=0,E=0;E<a.length;E++){var A=a[E];if(A[0]===o||A[0]===v){var N=O+A[1].length;if(b===N)return[E+1,a];if(b<N){a=a.slice();var S=b-O,k=[A[0],A[1].slice(0,S)],T=[A[0],A[1].slice(S)];return a.splice(E,1,k,T),[E+1,a]}else O=N}}throw new Error("cursor_pos is out of bounds!")}function f(a,b){var O=_(a,b),E=O[1],A=O[0],N=E[A],S=E[A+1];if(N==null)return a;if(N[0]!==v)return a;if(S!=null&&N[1]+S[1]===S[1]+N[1])return E.splice(A,2,S,N),u(E,A,2);if(S!=null&&S[1].indexOf(N[1])===0){E.splice(A,2,[S[0],N[1]],[0,N[1]]);var k=S[1].slice(N[1].length);return k.length>0&&E.splice(A+2,0,[S[0],k]),u(E,A,3)}else return a}function i(a){for(var b=!1,O=function(S){return S.charCodeAt(0)>=56320&&S.charCodeAt(0)<=57343},E=function(S){return S.charCodeAt(S.length-1)>=55296&&S.charCodeAt(S.length-1)<=56319},A=2;A<a.length;A+=1)a[A-2][0]===v&&E(a[A-2][1])&&a[A-1][0]===o&&O(a[A-1][1])&&a[A][0]===y&&O(a[A][1])&&(b=!0,a[A-1][1]=a[A-2][1].slice(-1)+a[A-1][1],a[A][1]=a[A-2][1].slice(-1)+a[A][1],a[A-2][1]=a[A-2][1].slice(0,-1));if(!b)return a;for(var N=[],A=0;A<a.length;A+=1)a[A][1].length>0&&N.push(a[A]);return N}function u(a,b,O){for(var E=b+O-1;E>=0&&E>=b-1;E--)if(E+1<a.length){var A=a[E],N=a[E+1];A[0]===N[1]&&a.splice(E,2,[A[0],A[1]+N[1]])}return a}},function(e,n){n=e.exports=typeof Object.keys=="function"?Object.keys:o,n.shim=o;function o(y){var v=[];for(var g in y)v.push(g);return v}},function(e,n){var o=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=e.exports=o?y:v,n.supported=y;function y(g){return Object.prototype.toString.call(g)=="[object Arguments]"}n.unsupported=v;function v(g){return g&&typeof g=="object"&&typeof g.length=="number"&&Object.prototype.hasOwnProperty.call(g,"callee")&&!Object.prototype.propertyIsEnumerable.call(g,"callee")||!1}},function(e,n){var o=Object.prototype.hasOwnProperty,y="~";function v(){}Object.create&&(v.prototype=Object.create(null),new v().__proto__||(y=!1));function g(w,d,c){this.fn=w,this.context=d,this.once=c||!1}function p(){this._events=new v,this._eventsCount=0}p.prototype.eventNames=function(){var d=[],c,s;if(this._eventsCount===0)return d;for(s in c=this._events)o.call(c,s)&&d.push(y?s.slice(1):s);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(c)):d},p.prototype.listeners=function(d,c){var s=y?y+d:d,l=this._events[s];if(c)return!!l;if(!l)return[];if(l.fn)return[l.fn];for(var h=0,m=l.length,_=new Array(m);h<m;h++)_[h]=l[h].fn;return _},p.prototype.emit=function(d,c,s,l,h,m){var _=y?y+d:d;if(!this._events[_])return!1;var f=this._events[_],i=arguments.length,u,a;if(f.fn){switch(f.once&&this.removeListener(d,f.fn,void 0,!0),i){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,c),!0;case 3:return f.fn.call(f.context,c,s),!0;case 4:return f.fn.call(f.context,c,s,l),!0;case 5:return f.fn.call(f.context,c,s,l,h),!0;case 6:return f.fn.call(f.context,c,s,l,h,m),!0}for(a=1,u=new Array(i-1);a<i;a++)u[a-1]=arguments[a];f.fn.apply(f.context,u)}else{var b=f.length,O;for(a=0;a<b;a++)switch(f[a].once&&this.removeListener(d,f[a].fn,void 0,!0),i){case 1:f[a].fn.call(f[a].context);break;case 2:f[a].fn.call(f[a].context,c);break;case 3:f[a].fn.call(f[a].context,c,s);break;case 4:f[a].fn.call(f[a].context,c,s,l);break;default:if(!u)for(O=1,u=new Array(i-1);O<i;O++)u[O-1]=arguments[O];f[a].fn.apply(f[a].context,u)}}return!0},p.prototype.on=function(d,c,s){var l=new g(c,s||this),h=y?y+d:d;return this._events[h]?this._events[h].fn?this._events[h]=[this._events[h],l]:this._events[h].push(l):(this._events[h]=l,this._eventsCount++),this},p.prototype.once=function(d,c,s){var l=new g(c,s||this,!0),h=y?y+d:d;return this._events[h]?this._events[h].fn?this._events[h]=[this._events[h],l]:this._events[h].push(l):(this._events[h]=l,this._eventsCount++),this},p.prototype.removeListener=function(d,c,s,l){var h=y?y+d:d;if(!this._events[h])return this;if(!c)return--this._eventsCount===0?this._events=new v:delete this._events[h],this;var m=this._events[h];if(m.fn)m.fn===c&&(!l||m.once)&&(!s||m.context===s)&&(--this._eventsCount===0?this._events=new v:delete this._events[h]);else{for(var _=0,f=[],i=m.length;_<i;_++)(m[_].fn!==c||l&&!m[_].once||s&&m[_].context!==s)&&f.push(m[_]);f.length?this._events[h]=f.length===1?f[0]:f:--this._eventsCount===0?this._events=new v:delete this._events[h]}return this},p.prototype.removeAllListeners=function(d){var c;return d?(c=y?y+d:d,this._events[c]&&(--this._eventsCount===0?this._events=new v:delete this._events[c])):(this._events=new v,this._eventsCount=0),this},p.prototype.off=p.prototype.removeListener,p.prototype.addListener=p.prototype.on,p.prototype.setMaxListeners=function(){return this},p.prefixed=y,p.EventEmitter=p,typeof e<"u"&&(e.exports=p)},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},v=function(){function q(G,nt){var it=[],Q=!0,ut=!1,ft=void 0;try{for(var yt=G[Symbol.iterator](),Tt;!(Q=(Tt=yt.next()).done)&&(it.push(Tt.value),!(nt&&it.length===nt));Q=!0);}catch(Nt){ut=!0,ft=Nt}finally{try{!Q&&yt.return&&yt.return()}finally{if(ut)throw ft}}return it}return function(G,nt){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return q(G,nt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function q(G,nt){for(var it=0;it<nt.length;it++){var Q=nt[it];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(G,Q.key,Q)}}return function(G,nt,it){return nt&&q(G.prototype,nt),it&&q(G,it),G}}(),p=o(3),w=T(p),d=o(2),c=T(d),s=o(0),l=T(s),h=o(5),m=T(h),_=o(10),f=T(_),i=o(9),u=T(i),a=o(36),b=o(37),O=o(13),E=T(O),A=o(26),N=o(38),S=o(39),k=o(40);function T(q){return q&&q.__esModule?q:{default:q}}function x(q,G,nt){return G in q?Object.defineProperty(q,G,{value:nt,enumerable:!0,configurable:!0,writable:!0}):q[G]=nt,q}function L(q,G){if(!(q instanceof G))throw new TypeError("Cannot call a class as a function")}function D(q,G){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G&&(typeof G=="object"||typeof G=="function")?G:q}function P(q,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);q.prototype=Object.create(G&&G.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(q,G):q.__proto__=G)}var F=(0,f.default)("quill:clipboard"),J="__ql-matcher",H=[[Node.TEXT_NODE,W],[Node.TEXT_NODE,ht],["br",st],[Node.ELEMENT_NODE,ht],[Node.ELEMENT_NODE,tt],[Node.ELEMENT_NODE,B],[Node.ELEMENT_NODE,Y],[Node.ELEMENT_NODE,X],["li",ct],["b",K.bind(K,"bold")],["i",K.bind(K,"italic")],["style",dt]],j=[a.AlignAttribute,N.DirectionAttribute].reduce(function(q,G){return q[G.keyName]=G,q},{}),C=[a.AlignStyle,b.BackgroundStyle,A.ColorStyle,N.DirectionStyle,S.FontStyle,k.SizeStyle].reduce(function(q,G){return q[G.keyName]=G,q},{}),M=function(q){P(G,q);function G(nt,it){L(this,G);var Q=D(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,nt,it));return Q.quill.root.addEventListener("paste",Q.onPaste.bind(Q)),Q.container=Q.quill.addContainer("ql-clipboard"),Q.container.setAttribute("contenteditable",!0),Q.container.setAttribute("tabindex",-1),Q.matchers=[],H.concat(Q.options.matchers).forEach(function(ut){var ft=v(ut,2),yt=ft[0],Tt=ft[1];!it.matchVisual&&Tt===B||Q.addMatcher(yt,Tt)}),Q}return g(G,[{key:"addMatcher",value:function(it,Q){this.matchers.push([it,Q])}},{key:"convert",value:function(it){if(typeof it=="string")return this.container.innerHTML=it.replace(/\>\r?\n +\</g,"><"),this.convert();var Q=this.quill.getFormat(this.quill.selection.savedRange.index);if(Q[E.default.blotName]){var ut=this.container.innerText;return this.container.innerHTML="",new c.default().insert(ut,x({},E.default.blotName,Q[E.default.blotName]))}var ft=this.prepareMatching(),yt=v(ft,2),Tt=yt[0],Nt=yt[1],mt=U(this.container,Tt,Nt);return z(mt,`
`)&&mt.ops[mt.ops.length-1].attributes==null&&(mt=mt.compose(new c.default().retain(mt.length()-1).delete(1))),F.log("convert",this.container.innerHTML,mt),this.container.innerHTML="",mt}},{key:"dangerouslyPasteHTML",value:function(it,Q){var ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;if(typeof it=="string")this.quill.setContents(this.convert(it),Q),this.quill.setSelection(0,m.default.sources.SILENT);else{var ft=this.convert(Q);this.quill.updateContents(new c.default().retain(it).concat(ft),ut),this.quill.setSelection(it+ft.length(),m.default.sources.SILENT)}}},{key:"onPaste",value:function(it){var Q=this;if(!(it.defaultPrevented||!this.quill.isEnabled())){var ut=this.quill.getSelection(),ft=new c.default().retain(ut.index),yt=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(m.default.sources.SILENT),setTimeout(function(){ft=ft.concat(Q.convert()).delete(ut.length),Q.quill.updateContents(ft,m.default.sources.USER),Q.quill.setSelection(ft.length()-ut.length,m.default.sources.SILENT),Q.quill.scrollingContainer.scrollTop=yt,Q.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var it=this,Q=[],ut=[];return this.matchers.forEach(function(ft){var yt=v(ft,2),Tt=yt[0],Nt=yt[1];switch(Tt){case Node.TEXT_NODE:ut.push(Nt);break;case Node.ELEMENT_NODE:Q.push(Nt);break;default:[].forEach.call(it.container.querySelectorAll(Tt),function(mt){mt[J]=mt[J]||[],mt[J].push(Nt)});break}}),[Q,ut]}}]),G}(u.default);M.DEFAULTS={matchers:[],matchVisual:!0};function I(q,G,nt){return(typeof G>"u"?"undefined":y(G))==="object"?Object.keys(G).reduce(function(it,Q){return I(it,Q,G[Q])},q):q.reduce(function(it,Q){return Q.attributes&&Q.attributes[G]?it.push(Q):it.insert(Q.insert,(0,w.default)({},x({},G,nt),Q.attributes))},new c.default)}function $(q){if(q.nodeType!==Node.ELEMENT_NODE)return{};var G="__ql-computed-style";return q[G]||(q[G]=window.getComputedStyle(q))}function z(q,G){for(var nt="",it=q.ops.length-1;it>=0&&nt.length<G.length;--it){var Q=q.ops[it];if(typeof Q.insert!="string")break;nt=Q.insert+nt}return nt.slice(-1*G.length)===G}function R(q){if(q.childNodes.length===0)return!1;var G=$(q);return["block","list-item"].indexOf(G.display)>-1}function U(q,G,nt){return q.nodeType===q.TEXT_NODE?nt.reduce(function(it,Q){return Q(q,it)},new c.default):q.nodeType===q.ELEMENT_NODE?[].reduce.call(q.childNodes||[],function(it,Q){var ut=U(Q,G,nt);return Q.nodeType===q.ELEMENT_NODE&&(ut=G.reduce(function(ft,yt){return yt(Q,ft)},ut),ut=(Q[J]||[]).reduce(function(ft,yt){return yt(Q,ft)},ut)),it.concat(ut)},new c.default):new c.default}function K(q,G,nt){return I(nt,q,!0)}function Y(q,G){var nt=l.default.Attributor.Attribute.keys(q),it=l.default.Attributor.Class.keys(q),Q=l.default.Attributor.Style.keys(q),ut={};return nt.concat(it).concat(Q).forEach(function(ft){var yt=l.default.query(ft,l.default.Scope.ATTRIBUTE);yt!=null&&(ut[yt.attrName]=yt.value(q),ut[yt.attrName])||(yt=j[ft],yt!=null&&(yt.attrName===ft||yt.keyName===ft)&&(ut[yt.attrName]=yt.value(q)||void 0),yt=C[ft],yt!=null&&(yt.attrName===ft||yt.keyName===ft)&&(yt=C[ft],ut[yt.attrName]=yt.value(q)||void 0))}),Object.keys(ut).length>0&&(G=I(G,ut)),G}function tt(q,G){var nt=l.default.query(q);if(nt==null)return G;if(nt.prototype instanceof l.default.Embed){var it={},Q=nt.value(q);Q!=null&&(it[nt.blotName]=Q,G=new c.default().insert(it,nt.formats(q)))}else typeof nt.formats=="function"&&(G=I(G,nt.blotName,nt.formats(q)));return G}function st(q,G){return z(G,`
`)||G.insert(`
`),G}function dt(){return new c.default}function ct(q,G){var nt=l.default.query(q);if(nt==null||nt.blotName!=="list-item"||!z(G,`
`))return G;for(var it=-1,Q=q.parentNode;!Q.classList.contains("ql-clipboard");)(l.default.query(Q)||{}).blotName==="list"&&(it+=1),Q=Q.parentNode;return it<=0?G:G.compose(new c.default().retain(G.length()-1).retain(1,{indent:it}))}function ht(q,G){return z(G,`
`)||(R(q)||G.length()>0&&q.nextSibling&&R(q.nextSibling))&&G.insert(`
`),G}function B(q,G){if(R(q)&&q.nextElementSibling!=null&&!z(G,`

`)){var nt=q.offsetHeight+parseFloat($(q).marginTop)+parseFloat($(q).marginBottom);q.nextElementSibling.offsetTop>q.offsetTop+nt*1.5&&G.insert(`
`)}return G}function X(q,G){var nt={},it=q.style||{};return it.fontStyle&&$(q).fontStyle==="italic"&&(nt.italic=!0),it.fontWeight&&($(q).fontWeight.startsWith("bold")||parseInt($(q).fontWeight)>=700)&&(nt.bold=!0),Object.keys(nt).length>0&&(G=I(G,nt)),parseFloat(it.textIndent||0)>0&&(G=new c.default().insert("	").concat(G)),G}function W(q,G){var nt=q.data;if(q.parentNode.tagName==="O:P")return G.insert(nt.trim());if(nt.trim().length===0&&q.parentNode.classList.contains("ql-clipboard"))return G;if(!$(q.parentNode).whiteSpace.startsWith("pre")){var it=function(ut,ft){return ft=ft.replace(/[^\u00a0]/g,""),ft.length<1&&ut?" ":ft};nt=nt.replace(/\r\n/g," ").replace(/\n/g," "),nt=nt.replace(/\s\s+/g,it.bind(it,!0)),(q.previousSibling==null&&R(q.parentNode)||q.previousSibling!=null&&R(q.previousSibling))&&(nt=nt.replace(/^\s+/,it.bind(it,!1))),(q.nextSibling==null&&R(q.parentNode)||q.nextSibling!=null&&R(q.nextSibling))&&(nt=nt.replace(/\s+$/,it.bind(it,!1)))}return G.insert(nt)}n.default=M,n.matchAttributor=Y,n.matchBlot=tt,n.matchNewline=ht,n.matchSpacing=B,n.matchText=W},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var y=function(){function h(m,_){for(var f=0;f<_.length;f++){var i=_[f];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(m,i.key,i)}}return function(m,_,f){return _&&h(m.prototype,_),f&&h(m,f),m}}(),v=function h(m,_,f){m===null&&(m=Function.prototype);var i=Object.getOwnPropertyDescriptor(m,_);if(i===void 0){var u=Object.getPrototypeOf(m);return u===null?void 0:h(u,_,f)}else{if("value"in i)return i.value;var a=i.get;return a===void 0?void 0:a.call(f)}},g=o(6),p=w(g);function w(h){return h&&h.__esModule?h:{default:h}}function d(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function c(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function s(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var l=function(h){s(m,h);function m(){return d(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return y(m,[{key:"optimize",value:function(f){v(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,f),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return v(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),m}(p.default);l.blotName="bold",l.tagName=["STRONG","B"],n.default=l},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var y=function(){function k(T,x){var L=[],D=!0,P=!1,F=void 0;try{for(var J=T[Symbol.iterator](),H;!(D=(H=J.next()).done)&&(L.push(H.value),!(x&&L.length===x));D=!0);}catch(j){P=!0,F=j}finally{try{!D&&J.return&&J.return()}finally{if(P)throw F}}return L}return function(T,x){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return k(T,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(){function k(T,x){for(var L=0;L<x.length;L++){var D=x[L];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(T,D.key,D)}}return function(T,x,L){return x&&k(T.prototype,x),L&&k(T,L),T}}(),g=o(2),p=f(g),w=o(0),d=f(w),c=o(5),s=f(c),l=o(10),h=f(l),m=o(9),_=f(m);function f(k){return k&&k.__esModule?k:{default:k}}function i(k,T,x){return T in k?Object.defineProperty(k,T,{value:x,enumerable:!0,configurable:!0,writable:!0}):k[T]=x,k}function u(k,T){if(!(k instanceof T))throw new TypeError("Cannot call a class as a function")}function a(k,T){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:k}function b(k,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);k.prototype=Object.create(T&&T.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(k,T):k.__proto__=T)}var O=(0,h.default)("quill:toolbar"),E=function(k){b(T,k);function T(x,L){u(this,T);var D=a(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,x,L));if(Array.isArray(D.options.container)){var P=document.createElement("div");N(P,D.options.container),x.container.parentNode.insertBefore(P,x.container),D.container=P}else typeof D.options.container=="string"?D.container=document.querySelector(D.options.container):D.container=D.options.container;if(!(D.container instanceof HTMLElement)){var F;return F=O.error("Container required for toolbar",D.options),a(D,F)}return D.container.classList.add("ql-toolbar"),D.controls=[],D.handlers={},Object.keys(D.options.handlers).forEach(function(J){D.addHandler(J,D.options.handlers[J])}),[].forEach.call(D.container.querySelectorAll("button, select"),function(J){D.attach(J)}),D.quill.on(s.default.events.EDITOR_CHANGE,function(J,H){J===s.default.events.SELECTION_CHANGE&&D.update(H)}),D.quill.on(s.default.events.SCROLL_OPTIMIZE,function(){var J=D.quill.selection.getRange(),H=y(J,1),j=H[0];D.update(j)}),D}return v(T,[{key:"addHandler",value:function(L,D){this.handlers[L]=D}},{key:"attach",value:function(L){var D=this,P=[].find.call(L.classList,function(J){return J.indexOf("ql-")===0});if(!!P){if(P=P.slice(3),L.tagName==="BUTTON"&&L.setAttribute("type","button"),this.handlers[P]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[P]==null){O.warn("ignoring attaching to disabled format",P,L);return}if(d.default.query(P)==null){O.warn("ignoring attaching to nonexistent format",P,L);return}}var F=L.tagName==="SELECT"?"change":"click";L.addEventListener(F,function(J){var H=void 0;if(L.tagName==="SELECT"){if(L.selectedIndex<0)return;var j=L.options[L.selectedIndex];j.hasAttribute("selected")?H=!1:H=j.value||!1}else L.classList.contains("ql-active")?H=!1:H=L.value||!L.hasAttribute("value"),J.preventDefault();D.quill.focus();var C=D.quill.selection.getRange(),M=y(C,1),I=M[0];if(D.handlers[P]!=null)D.handlers[P].call(D,H);else if(d.default.query(P).prototype instanceof d.default.Embed){if(H=prompt("Enter "+P),!H)return;D.quill.updateContents(new p.default().retain(I.index).delete(I.length).insert(i({},P,H)),s.default.sources.USER)}else D.quill.format(P,H,s.default.sources.USER);D.update(I)}),this.controls.push([P,L])}}},{key:"update",value:function(L){var D=L==null?{}:this.quill.getFormat(L);this.controls.forEach(function(P){var F=y(P,2),J=F[0],H=F[1];if(H.tagName==="SELECT"){var j=void 0;if(L==null)j=null;else if(D[J]==null)j=H.querySelector("option[selected]");else if(!Array.isArray(D[J])){var C=D[J];typeof C=="string"&&(C=C.replace(/\"/g,'\\"')),j=H.querySelector('option[value="'+C+'"]')}j==null?(H.value="",H.selectedIndex=-1):j.selected=!0}else if(L==null)H.classList.remove("ql-active");else if(H.hasAttribute("value")){var M=D[J]===H.getAttribute("value")||D[J]!=null&&D[J].toString()===H.getAttribute("value")||D[J]==null&&!H.getAttribute("value");H.classList.toggle("ql-active",M)}else H.classList.toggle("ql-active",D[J]!=null)})}}]),T}(_.default);E.DEFAULTS={};function A(k,T,x){var L=document.createElement("button");L.setAttribute("type","button"),L.classList.add("ql-"+T),x!=null&&(L.value=x),k.appendChild(L)}function N(k,T){Array.isArray(T[0])||(T=[T]),T.forEach(function(x){var L=document.createElement("span");L.classList.add("ql-formats"),x.forEach(function(D){if(typeof D=="string")A(L,D);else{var P=Object.keys(D)[0],F=D[P];Array.isArray(F)?S(L,P,F):A(L,P,F)}}),k.appendChild(L)})}function S(k,T,x){var L=document.createElement("select");L.classList.add("ql-"+T),x.forEach(function(D){var P=document.createElement("option");D!==!1?P.setAttribute("value",D):P.setAttribute("selected","selected"),L.appendChild(P)}),k.appendChild(L)}E.DEFAULTS={container:null,handlers:{clean:function(){var T=this,x=this.quill.getSelection();if(x!=null)if(x.length==0){var L=this.quill.getFormat();Object.keys(L).forEach(function(D){d.default.query(D,d.default.Scope.INLINE)!=null&&T.quill.format(D,!1)})}else this.quill.removeFormat(x,s.default.sources.USER)},direction:function(T){var x=this.quill.getFormat().align;T==="rtl"&&x==null?this.quill.format("align","right",s.default.sources.USER):!T&&x==="right"&&this.quill.format("align",!1,s.default.sources.USER),this.quill.format("direction",T,s.default.sources.USER)},indent:function(T){var x=this.quill.getSelection(),L=this.quill.getFormat(x),D=parseInt(L.indent||0);if(T==="+1"||T==="-1"){var P=T==="+1"?1:-1;L.direction==="rtl"&&(P*=-1),this.quill.format("indent",D+P,s.default.sources.USER)}},link:function(T){T===!0&&(T=prompt("Enter link URL:")),this.quill.format("link",T,s.default.sources.USER)},list:function(T){var x=this.quill.getSelection(),L=this.quill.getFormat(x);T==="check"?L.list==="checked"||L.list==="unchecked"?this.quill.format("list",!1,s.default.sources.USER):this.quill.format("list","unchecked",s.default.sources.USER):this.quill.format("list",T,s.default.sources.USER)}}},n.default=E,n.addControls=N},function(e,n){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var y=function(){function h(m,_){for(var f=0;f<_.length;f++){var i=_[f];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(m,i.key,i)}}return function(m,_,f){return _&&h(m.prototype,_),f&&h(m,f),m}}(),v=function h(m,_,f){m===null&&(m=Function.prototype);var i=Object.getOwnPropertyDescriptor(m,_);if(i===void 0){var u=Object.getPrototypeOf(m);return u===null?void 0:h(u,_,f)}else{if("value"in i)return i.value;var a=i.get;return a===void 0?void 0:a.call(f)}},g=o(28),p=w(g);function w(h){return h&&h.__esModule?h:{default:h}}function d(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function c(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function s(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var l=function(h){s(m,h);function m(_,f){d(this,m);var i=c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,_));return i.label.innerHTML=f,i.container.classList.add("ql-color-picker"),[].slice.call(i.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(u){u.classList.add("ql-primary")}),i}return y(m,[{key:"buildItem",value:function(f){var i=v(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"buildItem",this).call(this,f);return i.style.backgroundColor=f.getAttribute("value")||"",i}},{key:"selectItem",value:function(f,i){v(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,f,i);var u=this.label.querySelector(".ql-color-label"),a=f&&f.getAttribute("data-value")||"";u&&(u.tagName==="line"?u.style.stroke=a:u.style.fill=a)}}]),m}(p.default);n.default=l},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var y=function(){function h(m,_){for(var f=0;f<_.length;f++){var i=_[f];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(m,i.key,i)}}return function(m,_,f){return _&&h(m.prototype,_),f&&h(m,f),m}}(),v=function h(m,_,f){m===null&&(m=Function.prototype);var i=Object.getOwnPropertyDescriptor(m,_);if(i===void 0){var u=Object.getPrototypeOf(m);return u===null?void 0:h(u,_,f)}else{if("value"in i)return i.value;var a=i.get;return a===void 0?void 0:a.call(f)}},g=o(28),p=w(g);function w(h){return h&&h.__esModule?h:{default:h}}function d(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function c(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function s(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var l=function(h){s(m,h);function m(_,f){d(this,m);var i=c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,_));return i.container.classList.add("ql-icon-picker"),[].forEach.call(i.container.querySelectorAll(".ql-picker-item"),function(u){u.innerHTML=f[u.getAttribute("data-value")||""]}),i.defaultItem=i.container.querySelector(".ql-selected"),i.selectItem(i.defaultItem),i}return y(m,[{key:"selectItem",value:function(f,i){v(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,f,i),f=f||this.defaultItem,this.label.innerHTML=f.innerHTML}}]),m}(p.default);n.default=l},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var y=function(){function p(w,d){for(var c=0;c<d.length;c++){var s=d[c];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(w,s.key,s)}}return function(w,d,c){return d&&p(w.prototype,d),c&&p(w,c),w}}();function v(p,w){if(!(p instanceof w))throw new TypeError("Cannot call a class as a function")}var g=function(){function p(w,d){var c=this;v(this,p),this.quill=w,this.boundsContainer=d||document.body,this.root=w.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){c.root.style.marginTop=-1*c.quill.root.scrollTop+"px"}),this.hide()}return y(p,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(d){var c=d.left+d.width/2-this.root.offsetWidth/2,s=d.bottom+this.quill.root.scrollTop;this.root.style.left=c+"px",this.root.style.top=s+"px",this.root.classList.remove("ql-flip");var l=this.boundsContainer.getBoundingClientRect(),h=this.root.getBoundingClientRect(),m=0;if(h.right>l.right&&(m=l.right-h.right,this.root.style.left=c+m+"px"),h.left<l.left&&(m=l.left-h.left,this.root.style.left=c+m+"px"),h.bottom>l.bottom){var _=h.bottom-h.top,f=d.bottom-d.top+_;this.root.style.top=s-f+"px",this.root.classList.add("ql-flip")}return m}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),p}();n.default=g},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var y=function(){function S(k,T){var x=[],L=!0,D=!1,P=void 0;try{for(var F=k[Symbol.iterator](),J;!(L=(J=F.next()).done)&&(x.push(J.value),!(T&&x.length===T));L=!0);}catch(H){D=!0,P=H}finally{try{!L&&F.return&&F.return()}finally{if(D)throw P}}return x}return function(k,T){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return S(k,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function S(k,T,x){k===null&&(k=Function.prototype);var L=Object.getOwnPropertyDescriptor(k,T);if(L===void 0){var D=Object.getPrototypeOf(k);return D===null?void 0:S(D,T,x)}else{if("value"in L)return L.value;var P=L.get;return P===void 0?void 0:P.call(x)}},g=function(){function S(k,T){for(var x=0;x<T.length;x++){var L=T[x];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(k,L.key,L)}}return function(k,T,x){return T&&S(k.prototype,T),x&&S(k,x),k}}(),p=o(3),w=u(p),d=o(8),c=u(d),s=o(43),l=u(s),h=o(27),m=u(h),_=o(15),f=o(41),i=u(f);function u(S){return S&&S.__esModule?S:{default:S}}function a(S,k){if(!(S instanceof k))throw new TypeError("Cannot call a class as a function")}function b(S,k){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:S}function O(S,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);S.prototype=Object.create(k&&k.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(S,k):S.__proto__=k)}var E=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],A=function(S){O(k,S);function k(T,x){a(this,k),x.modules.toolbar!=null&&x.modules.toolbar.container==null&&(x.modules.toolbar.container=E);var L=b(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,T,x));return L.quill.container.classList.add("ql-snow"),L}return g(k,[{key:"extendToolbar",value:function(x){x.container.classList.add("ql-snow"),this.buildButtons([].slice.call(x.container.querySelectorAll("button")),i.default),this.buildPickers([].slice.call(x.container.querySelectorAll("select")),i.default),this.tooltip=new N(this.quill,this.options.bounds),x.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(L,D){x.handlers.link.call(x,!D.format.link)})}}]),k}(l.default);A.DEFAULTS=(0,w.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){if(k){var T=this.quill.getSelection();if(T==null||T.length==0)return;var x=this.quill.getText(T);/^\S+@\S+\.\S+$/.test(x)&&x.indexOf("mailto:")!==0&&(x="mailto:"+x);var L=this.quill.theme.tooltip;L.edit("link",x)}else this.quill.format("link",!1)}}}}});var N=function(S){O(k,S);function k(T,x){a(this,k);var L=b(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,T,x));return L.preview=L.root.querySelector("a.ql-preview"),L}return g(k,[{key:"listen",value:function(){var x=this;v(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(L){x.root.classList.contains("ql-editing")?x.save():x.edit("link",x.preview.textContent),L.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(L){if(x.linkRange!=null){var D=x.linkRange;x.restoreFocus(),x.quill.formatText(D,"link",!1,c.default.sources.USER),delete x.linkRange}L.preventDefault(),x.hide()}),this.quill.on(c.default.events.SELECTION_CHANGE,function(L,D,P){if(L!=null){if(L.length===0&&P===c.default.sources.USER){var F=x.quill.scroll.descendant(m.default,L.index),J=y(F,2),H=J[0],j=J[1];if(H!=null){x.linkRange=new _.Range(L.index-j,H.length());var C=m.default.formats(H.domNode);x.preview.textContent=C,x.preview.setAttribute("href",C),x.show(),x.position(x.quill.getBounds(x.linkRange));return}}else delete x.linkRange;x.hide()}})}},{key:"show",value:function(){v(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),k}(s.BaseTooltip);N.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=A},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var y=o(29),v=Q(y),g=o(36),p=o(38),w=o(64),d=o(65),c=Q(d),s=o(66),l=Q(s),h=o(67),m=Q(h),_=o(37),f=o(26),i=o(39),u=o(40),a=o(56),b=Q(a),O=o(68),E=Q(O),A=o(27),N=Q(A),S=o(69),k=Q(S),T=o(70),x=Q(T),L=o(71),D=Q(L),P=o(72),F=Q(P),J=o(73),H=Q(J),j=o(13),C=Q(j),M=o(74),I=Q(M),$=o(75),z=Q($),R=o(57),U=Q(R),K=o(41),Y=Q(K),tt=o(28),st=Q(tt),dt=o(59),ct=Q(dt),ht=o(60),B=Q(ht),X=o(61),W=Q(X),q=o(108),G=Q(q),nt=o(62),it=Q(nt);function Q(ut){return ut&&ut.__esModule?ut:{default:ut}}v.default.register({"attributors/attribute/direction":p.DirectionAttribute,"attributors/class/align":g.AlignClass,"attributors/class/background":_.BackgroundClass,"attributors/class/color":f.ColorClass,"attributors/class/direction":p.DirectionClass,"attributors/class/font":i.FontClass,"attributors/class/size":u.SizeClass,"attributors/style/align":g.AlignStyle,"attributors/style/background":_.BackgroundStyle,"attributors/style/color":f.ColorStyle,"attributors/style/direction":p.DirectionStyle,"attributors/style/font":i.FontStyle,"attributors/style/size":u.SizeStyle},!0),v.default.register({"formats/align":g.AlignClass,"formats/direction":p.DirectionClass,"formats/indent":w.IndentClass,"formats/background":_.BackgroundStyle,"formats/color":f.ColorStyle,"formats/font":i.FontClass,"formats/size":u.SizeClass,"formats/blockquote":c.default,"formats/code-block":C.default,"formats/header":l.default,"formats/list":m.default,"formats/bold":b.default,"formats/code":j.Code,"formats/italic":E.default,"formats/link":N.default,"formats/script":k.default,"formats/strike":x.default,"formats/underline":D.default,"formats/image":F.default,"formats/video":H.default,"formats/list/item":h.ListItem,"modules/formula":I.default,"modules/syntax":z.default,"modules/toolbar":U.default,"themes/bubble":G.default,"themes/snow":it.default,"ui/icons":Y.default,"ui/picker":st.default,"ui/icon-picker":B.default,"ui/color-picker":ct.default,"ui/tooltip":W.default},!0),n.default=v.default},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var y=function(){function m(_,f){for(var i=0;i<f.length;i++){var u=f[i];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(_,u.key,u)}}return function(_,f,i){return f&&m(_.prototype,f),i&&m(_,i),_}}(),v=function m(_,f,i){_===null&&(_=Function.prototype);var u=Object.getOwnPropertyDescriptor(_,f);if(u===void 0){var a=Object.getPrototypeOf(_);return a===null?void 0:m(a,f,i)}else{if("value"in u)return u.value;var b=u.get;return b===void 0?void 0:b.call(i)}},g=o(0),p=w(g);function w(m){return m&&m.__esModule?m:{default:m}}function d(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function c(m,_){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:m}function s(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(m,_):m.__proto__=_)}var l=function(m){s(_,m);function _(){return d(this,_),c(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return y(_,[{key:"add",value:function(i,u){if(u==="+1"||u==="-1"){var a=this.value(i)||0;u=u==="+1"?a+1:a-1}return u===0?(this.remove(i),!0):v(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"add",this).call(this,i,u)}},{key:"canAdd",value:function(i,u){return v(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,i,u)||v(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,i,parseInt(u))}},{key:"value",value:function(i){return parseInt(v(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,i))||void 0}}]),_}(p.default.Attributor.Class),h=new l("indent","ql-indent",{scope:p.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=h},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var y=o(4),v=g(y);function g(s){return s&&s.__esModule?s:{default:s}}function p(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}function w(s,l){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:s}function d(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);s.prototype=Object.create(l&&l.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(s,l):s.__proto__=l)}var c=function(s){d(l,s);function l(){return p(this,l),w(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return l}(v.default);c.blotName="blockquote",c.tagName="blockquote",n.default=c},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var y=function(){function l(h,m){for(var _=0;_<m.length;_++){var f=m[_];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}return function(h,m,_){return m&&l(h.prototype,m),_&&l(h,_),h}}(),v=o(4),g=p(v);function p(l){return l&&l.__esModule?l:{default:l}}function w(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")}function d(l,h){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:l}function c(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(l,h):l.__proto__=h)}var s=function(l){c(h,l);function h(){return w(this,h),d(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return y(h,null,[{key:"formats",value:function(_){return this.tagName.indexOf(_.tagName)+1}}]),h}(g.default);s.blotName="header",s.tagName=["H1","H2","H3","H4","H5","H6"],n.default=s},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var y=function(){function a(b,O){for(var E=0;E<O.length;E++){var A=O[E];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(b,A.key,A)}}return function(b,O,E){return O&&a(b.prototype,O),E&&a(b,E),b}}(),v=function a(b,O,E){b===null&&(b=Function.prototype);var A=Object.getOwnPropertyDescriptor(b,O);if(A===void 0){var N=Object.getPrototypeOf(b);return N===null?void 0:a(N,O,E)}else{if("value"in A)return A.value;var S=A.get;return S===void 0?void 0:S.call(E)}},g=o(0),p=l(g),w=o(4),d=l(w),c=o(25),s=l(c);function l(a){return a&&a.__esModule?a:{default:a}}function h(a,b,O){return b in a?Object.defineProperty(a,b,{value:O,enumerable:!0,configurable:!0,writable:!0}):a[b]=O,a}function m(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:a}function f(a,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var i=function(a){f(b,a);function b(){return m(this,b),_(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return y(b,[{key:"format",value:function(E,A){E===u.blotName&&!A?this.replaceWith(p.default.create(this.statics.scope)):v(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,E,A)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():v(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(E,A){return this.parent.isolate(this.offset(this.parent),this.length()),E===this.parent.statics.blotName?(this.parent.replaceWith(E,A),this):(this.parent.unwrap(),v(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"replaceWith",this).call(this,E,A))}}],[{key:"formats",value:function(E){return E.tagName===this.tagName?void 0:v(b.__proto__||Object.getPrototypeOf(b),"formats",this).call(this,E)}}]),b}(d.default);i.blotName="list-item",i.tagName="LI";var u=function(a){f(b,a),y(b,null,[{key:"create",value:function(E){var A=E==="ordered"?"OL":"UL",N=v(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,A);return(E==="checked"||E==="unchecked")&&N.setAttribute("data-checked",E==="checked"),N}},{key:"formats",value:function(E){if(E.tagName==="OL")return"ordered";if(E.tagName==="UL")return E.hasAttribute("data-checked")?E.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function b(O){m(this,b);var E=_(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,O)),A=function(S){if(S.target.parentNode===O){var k=E.statics.formats(O),T=p.default.find(S.target);k==="checked"?T.format("list","unchecked"):k==="unchecked"&&T.format("list","checked")}};return O.addEventListener("touchstart",A),O.addEventListener("mousedown",A),E}return y(b,[{key:"format",value:function(E,A){this.children.length>0&&this.children.tail.format(E,A)}},{key:"formats",value:function(){return h({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(E,A){if(E instanceof i)v(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertBefore",this).call(this,E,A);else{var N=A==null?this.length():A.offset(this),S=this.split(N);S.parent.insertBefore(E,S)}}},{key:"optimize",value:function(E){v(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,E);var A=this.next;A!=null&&A.prev===this&&A.statics.blotName===this.statics.blotName&&A.domNode.tagName===this.domNode.tagName&&A.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(A.moveChildren(this),A.remove())}},{key:"replace",value:function(E){if(E.statics.blotName!==this.statics.blotName){var A=p.default.create(this.statics.defaultChild);E.moveChildren(A),this.appendChild(A)}v(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"replace",this).call(this,E)}}]),b}(s.default);u.blotName="list",u.scope=p.default.Scope.BLOCK_BLOT,u.tagName=["OL","UL"],u.defaultChild="list-item",u.allowedChildren=[i],n.ListItem=i,n.default=u},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var y=o(56),v=g(y);function g(s){return s&&s.__esModule?s:{default:s}}function p(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}function w(s,l){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:s}function d(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);s.prototype=Object.create(l&&l.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(s,l):s.__proto__=l)}var c=function(s){d(l,s);function l(){return p(this,l),w(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return l}(v.default);c.blotName="italic",c.tagName=["EM","I"],n.default=c},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var y=function(){function h(m,_){for(var f=0;f<_.length;f++){var i=_[f];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(m,i.key,i)}}return function(m,_,f){return _&&h(m.prototype,_),f&&h(m,f),m}}(),v=function h(m,_,f){m===null&&(m=Function.prototype);var i=Object.getOwnPropertyDescriptor(m,_);if(i===void 0){var u=Object.getPrototypeOf(m);return u===null?void 0:h(u,_,f)}else{if("value"in i)return i.value;var a=i.get;return a===void 0?void 0:a.call(f)}},g=o(6),p=w(g);function w(h){return h&&h.__esModule?h:{default:h}}function d(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function c(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function s(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var l=function(h){s(m,h);function m(){return d(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return y(m,null,[{key:"create",value:function(f){return f==="super"?document.createElement("sup"):f==="sub"?document.createElement("sub"):v(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,f)}},{key:"formats",value:function(f){if(f.tagName==="SUB")return"sub";if(f.tagName==="SUP")return"super"}}]),m}(p.default);l.blotName="script",l.tagName=["SUB","SUP"],n.default=l},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var y=o(6),v=g(y);function g(s){return s&&s.__esModule?s:{default:s}}function p(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}function w(s,l){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:s}function d(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);s.prototype=Object.create(l&&l.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(s,l):s.__proto__=l)}var c=function(s){d(l,s);function l(){return p(this,l),w(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return l}(v.default);c.blotName="strike",c.tagName="S",n.default=c},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var y=o(6),v=g(y);function g(s){return s&&s.__esModule?s:{default:s}}function p(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}function w(s,l){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:s}function d(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);s.prototype=Object.create(l&&l.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(s,l):s.__proto__=l)}var c=function(s){d(l,s);function l(){return p(this,l),w(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return l}(v.default);c.blotName="underline",c.tagName="U",n.default=c},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var y=function(){function _(f,i){for(var u=0;u<i.length;u++){var a=i[u];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(f,a.key,a)}}return function(f,i,u){return i&&_(f.prototype,i),u&&_(f,u),f}}(),v=function _(f,i,u){f===null&&(f=Function.prototype);var a=Object.getOwnPropertyDescriptor(f,i);if(a===void 0){var b=Object.getPrototypeOf(f);return b===null?void 0:_(b,i,u)}else{if("value"in a)return a.value;var O=a.get;return O===void 0?void 0:O.call(u)}},g=o(0),p=d(g),w=o(27);function d(_){return _&&_.__esModule?_:{default:_}}function c(_,f){if(!(_ instanceof f))throw new TypeError("Cannot call a class as a function")}function s(_,f){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:_}function l(_,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);_.prototype=Object.create(f&&f.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(_,f):_.__proto__=f)}var h=["alt","height","width"],m=function(_){l(f,_);function f(){return c(this,f),s(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return y(f,[{key:"format",value:function(u,a){h.indexOf(u)>-1?a?this.domNode.setAttribute(u,a):this.domNode.removeAttribute(u):v(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"format",this).call(this,u,a)}}],[{key:"create",value:function(u){var a=v(f.__proto__||Object.getPrototypeOf(f),"create",this).call(this,u);return typeof u=="string"&&a.setAttribute("src",this.sanitize(u)),a}},{key:"formats",value:function(u){return h.reduce(function(a,b){return u.hasAttribute(b)&&(a[b]=u.getAttribute(b)),a},{})}},{key:"match",value:function(u){return/\.(jpe?g|gif|png)$/.test(u)||/^data:image\/.+;base64/.test(u)}},{key:"sanitize",value:function(u){return(0,w.sanitize)(u,["http","https","data"])?u:"//:0"}},{key:"value",value:function(u){return u.getAttribute("src")}}]),f}(p.default.Embed);m.blotName="image",m.tagName="IMG",n.default=m},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0});var y=function(){function _(f,i){for(var u=0;u<i.length;u++){var a=i[u];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(f,a.key,a)}}return function(f,i,u){return i&&_(f.prototype,i),u&&_(f,u),f}}(),v=function _(f,i,u){f===null&&(f=Function.prototype);var a=Object.getOwnPropertyDescriptor(f,i);if(a===void 0){var b=Object.getPrototypeOf(f);return b===null?void 0:_(b,i,u)}else{if("value"in a)return a.value;var O=a.get;return O===void 0?void 0:O.call(u)}},g=o(4),p=o(27),w=d(p);function d(_){return _&&_.__esModule?_:{default:_}}function c(_,f){if(!(_ instanceof f))throw new TypeError("Cannot call a class as a function")}function s(_,f){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:_}function l(_,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);_.prototype=Object.create(f&&f.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(_,f):_.__proto__=f)}var h=["height","width"],m=function(_){l(f,_);function f(){return c(this,f),s(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return y(f,[{key:"format",value:function(u,a){h.indexOf(u)>-1?a?this.domNode.setAttribute(u,a):this.domNode.removeAttribute(u):v(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"format",this).call(this,u,a)}}],[{key:"create",value:function(u){var a=v(f.__proto__||Object.getPrototypeOf(f),"create",this).call(this,u);return a.setAttribute("frameborder","0"),a.setAttribute("allowfullscreen",!0),a.setAttribute("src",this.sanitize(u)),a}},{key:"formats",value:function(u){return h.reduce(function(a,b){return u.hasAttribute(b)&&(a[b]=u.getAttribute(b)),a},{})}},{key:"sanitize",value:function(u){return w.default.sanitize(u)}},{key:"value",value:function(u){return u.getAttribute("src")}}]),f}(g.BlockEmbed);m.blotName="video",m.className="ql-video",m.tagName="IFRAME",n.default=m},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var y=function(){function u(a,b){for(var O=0;O<b.length;O++){var E=b[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(a,E.key,E)}}return function(a,b,O){return b&&u(a.prototype,b),O&&u(a,O),a}}(),v=function u(a,b,O){a===null&&(a=Function.prototype);var E=Object.getOwnPropertyDescriptor(a,b);if(E===void 0){var A=Object.getPrototypeOf(a);return A===null?void 0:u(A,b,O)}else{if("value"in E)return E.value;var N=E.get;return N===void 0?void 0:N.call(O)}},g=o(35),p=l(g),w=o(5),d=l(w),c=o(9),s=l(c);function l(u){return u&&u.__esModule?u:{default:u}}function h(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")}function m(u,a){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:u}function _(u,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);u.prototype=Object.create(a&&a.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(u,a):u.__proto__=a)}var f=function(u){_(a,u);function a(){return h(this,a),m(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return y(a,null,[{key:"create",value:function(O){var E=v(a.__proto__||Object.getPrototypeOf(a),"create",this).call(this,O);return typeof O=="string"&&(window.katex.render(O,E,{throwOnError:!1,errorColor:"#f00"}),E.setAttribute("data-value",O)),E}},{key:"value",value:function(O){return O.getAttribute("data-value")}}]),a}(p.default);f.blotName="formula",f.className="ql-formula",f.tagName="SPAN";var i=function(u){_(a,u),y(a,null,[{key:"register",value:function(){d.default.register(f,!0)}}]);function a(){h(this,a);var b=m(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return b}return a}(s.default);n.FormulaBlot=f,n.default=i},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var y=function(){function O(E,A){for(var N=0;N<A.length;N++){var S=A[N];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(E,S.key,S)}}return function(E,A,N){return A&&O(E.prototype,A),N&&O(E,N),E}}(),v=function O(E,A,N){E===null&&(E=Function.prototype);var S=Object.getOwnPropertyDescriptor(E,A);if(S===void 0){var k=Object.getPrototypeOf(E);return k===null?void 0:O(k,A,N)}else{if("value"in S)return S.value;var T=S.get;return T===void 0?void 0:T.call(N)}},g=o(0),p=m(g),w=o(5),d=m(w),c=o(9),s=m(c),l=o(13),h=m(l);function m(O){return O&&O.__esModule?O:{default:O}}function _(O,E){if(!(O instanceof E))throw new TypeError("Cannot call a class as a function")}function f(O,E){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:O}function i(O,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);O.prototype=Object.create(E&&E.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(O,E):O.__proto__=E)}var u=function(O){i(E,O);function E(){return _(this,E),f(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return y(E,[{key:"replaceWith",value:function(N){this.domNode.textContent=this.domNode.textContent,this.attach(),v(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replaceWith",this).call(this,N)}},{key:"highlight",value:function(N){var S=this.domNode.textContent;this.cachedText!==S&&((S.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=N(S),this.domNode.normalize(),this.attach()),this.cachedText=S)}}]),E}(h.default);u.className="ql-syntax";var a=new p.default.Attributor.Class("token","hljs",{scope:p.default.Scope.INLINE}),b=function(O){i(E,O),y(E,null,[{key:"register",value:function(){d.default.register(a,!0),d.default.register(u,!0)}}]);function E(A,N){_(this,E);var S=f(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,A,N));if(typeof S.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var k=null;return S.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(k),k=setTimeout(function(){S.highlight(),k=null},S.options.interval)}),S.highlight(),S}return y(E,[{key:"highlight",value:function(){var N=this;if(!this.quill.selection.composing){this.quill.update(d.default.sources.USER);var S=this.quill.getSelection();this.quill.scroll.descendants(u).forEach(function(k){k.highlight(N.options.highlight)}),this.quill.update(d.default.sources.SILENT),S!=null&&this.quill.setSelection(S,d.default.sources.SILENT)}}}]),E}(s.default);b.DEFAULTS={highlight:function(){return window.hljs==null?null:function(O){var E=window.hljs.highlightAuto(O);return E.value}}(),interval:1e3},n.CodeBlock=u,n.CodeToken=a,n.default=b},function(e,n){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,n){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,n){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,n){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,n){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,n){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,n){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,n){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,n){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,n){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,n){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,n){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,n){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,n){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,n){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,n){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,n){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,n){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,n){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,n){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,n){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,n){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,n){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,n){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,n){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,n){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,n){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,n){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,n){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,n){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,n){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,n){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var y=function E(A,N,S){A===null&&(A=Function.prototype);var k=Object.getOwnPropertyDescriptor(A,N);if(k===void 0){var T=Object.getPrototypeOf(A);return T===null?void 0:E(T,N,S)}else{if("value"in k)return k.value;var x=k.get;return x===void 0?void 0:x.call(S)}},v=function(){function E(A,N){for(var S=0;S<N.length;S++){var k=N[S];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(A,k.key,k)}}return function(A,N,S){return N&&E(A.prototype,N),S&&E(A,S),A}}(),g=o(3),p=_(g),w=o(8),d=_(w),c=o(43),s=_(c),l=o(15),h=o(41),m=_(h);function _(E){return E&&E.__esModule?E:{default:E}}function f(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")}function i(E,A){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:E}function u(E,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);E.prototype=Object.create(A&&A.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(E,A):E.__proto__=A)}var a=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],b=function(E){u(A,E);function A(N,S){f(this,A),S.modules.toolbar!=null&&S.modules.toolbar.container==null&&(S.modules.toolbar.container=a);var k=i(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,N,S));return k.quill.container.classList.add("ql-bubble"),k}return v(A,[{key:"extendToolbar",value:function(S){this.tooltip=new O(this.quill,this.options.bounds),this.tooltip.root.appendChild(S.container),this.buildButtons([].slice.call(S.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(S.container.querySelectorAll("select")),m.default)}}]),A}(s.default);b.DEFAULTS=(0,p.default)(!0,{},s.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(A){A?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var O=function(E){u(A,E);function A(N,S){f(this,A);var k=i(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,N,S));return k.quill.on(d.default.events.EDITOR_CHANGE,function(T,x,L,D){if(T===d.default.events.SELECTION_CHANGE)if(x!=null&&x.length>0&&D===d.default.sources.USER){k.show(),k.root.style.left="0px",k.root.style.width="",k.root.style.width=k.root.offsetWidth+"px";var P=k.quill.getLines(x.index,x.length);if(P.length===1)k.position(k.quill.getBounds(x));else{var F=P[P.length-1],J=k.quill.getIndex(F),H=Math.min(F.length()-1,x.index+x.length-J),j=k.quill.getBounds(new l.Range(J,H));k.position(j)}}else document.activeElement!==k.textbox&&k.quill.hasFocus()&&k.hide()}),k}return v(A,[{key:"listen",value:function(){var S=this;y(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){S.root.classList.remove("ql-editing")}),this.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!S.root.classList.contains("ql-hidden")){var k=S.quill.getSelection();k!=null&&S.position(S.quill.getBounds(k))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(S){var k=y(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"position",this).call(this,S),T=this.root.querySelector(".ql-tooltip-arrow");if(T.style.marginLeft="",k===0)return k;T.style.marginLeft=-1*k-T.offsetWidth/2+"px"}}]),A}(c.BaseTooltip);O.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=O,n.default=b},function(e,n,o){e.exports=o(63)}]).default})})(ys);const eo=no(ys.exports);var vs={exports:{}};/*! For license information please see quill-cursors.js.LICENSE.txt */(function(r,t){(function(e,n){r.exports=n()})(self,()=>(()=>{var e={582:(v,g,p)=>{p.d(g,{Z:()=>l});var w=p(81),d=p.n(w),c=p(645),s=p.n(c)()(d());s.push([v.id,".ql-container{position:relative;overflow:hidden}@media(pointer: coarse){.ql-cursor-caret-container{z-index:-1}}.ql-cursor.hidden{display:none}.ql-cursor .ql-cursor-caret-container,.ql-cursor .ql-cursor-flag{position:absolute}.ql-cursor .ql-cursor-flag{z-index:1;transform:translate3d(-1px, -100%, 0);opacity:0;visibility:hidden;color:#fff;padding-bottom:2px;border-radius:0 3px 3px 0}.ql-cursor .ql-cursor-flag.flag-flipped{border-radius:3px 0 0 3px;transform:translate3d(calc(-100% + 1px ), -100%, 0)}@media screen{.ql-cursor .ql-cursor-flag{transition:opacity 0ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0ms,visibility 0ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0ms}}.ql-cursor .ql-cursor-flag .ql-cursor-name{margin-left:5px;margin-right:5px;display:inline-block;margin-top:-2px;white-space:nowrap}.ql-cursor .ql-cursor-flag.no-delay[style]{transition-delay:unset !important}.ql-cursor .ql-cursor-caret-container{cursor:text;margin-left:-9px;padding:0 9px}.ql-cursor .ql-cursor-caret-container.hover+.ql-cursor-flag{opacity:1;visibility:visible;transition:none}.ql-cursor .ql-cursor-caret-container.no-pointer{pointer-events:none}.ql-cursor .ql-cursor-caret-container .ql-cursor-caret{position:absolute;top:0;bottom:0;width:2px;margin-left:-1px;background-color:attr(data-color)}.ql-cursor .ql-cursor-selection-block{position:absolute;pointer-events:none}",""]);const l=s},645:v=>{v.exports=function(g){var p=[];return p.toString=function(){return this.map(function(w){var d="",c=w[5]!==void 0;return w[4]&&(d+="@supports (".concat(w[4],") {")),w[2]&&(d+="@media ".concat(w[2]," {")),c&&(d+="@layer".concat(w[5].length>0?" ".concat(w[5]):""," {")),d+=g(w),c&&(d+="}"),w[2]&&(d+="}"),w[4]&&(d+="}"),d}).join("")},p.i=function(w,d,c,s,l){typeof w=="string"&&(w=[[null,w,void 0]]);var h={};if(c)for(var m=0;m<this.length;m++){var _=this[m][0];_!=null&&(h[_]=!0)}for(var f=0;f<w.length;f++){var i=[].concat(w[f]);c&&h[i[0]]||(l!==void 0&&(i[5]===void 0||(i[1]="@layer".concat(i[5].length>0?" ".concat(i[5]):""," {").concat(i[1],"}")),i[5]=l),d&&(i[2]&&(i[1]="@media ".concat(i[2]," {").concat(i[1],"}")),i[2]=d),s&&(i[4]?(i[1]="@supports (".concat(i[4],") {").concat(i[1],"}"),i[4]=s):i[4]="".concat(s)),p.push(i))}},p}},81:v=>{v.exports=function(g){return g[1]}},465:(v,g,p)=>{v=p.nmd(v);var w="__lodash_hash_undefined__",d=9007199254740991,c="[object Arguments]",s="[object Boolean]",l="[object Date]",h="[object Function]",m="[object GeneratorFunction]",_="[object Map]",f="[object Number]",i="[object Object]",u="[object Promise]",a="[object RegExp]",b="[object Set]",O="[object String]",E="[object Symbol]",A="[object WeakMap]",N="[object ArrayBuffer]",S="[object DataView]",k="[object Float32Array]",T="[object Float64Array]",x="[object Int8Array]",L="[object Int16Array]",D="[object Int32Array]",P="[object Uint8Array]",F="[object Uint8ClampedArray]",J="[object Uint16Array]",H="[object Uint32Array]",j=/\w*$/,C=/^\[object .+?Constructor\]$/,M=/^(?:0|[1-9]\d*)$/,I={};I[c]=I["[object Array]"]=I[N]=I[S]=I[s]=I[l]=I[k]=I[T]=I[x]=I[L]=I[D]=I[_]=I[f]=I[i]=I[a]=I[b]=I[O]=I[E]=I[P]=I[F]=I[J]=I[H]=!0,I["[object Error]"]=I[h]=I[A]=!1;var $=typeof p.g=="object"&&p.g&&p.g.Object===Object&&p.g,z=typeof self=="object"&&self&&self.Object===Object&&self,R=$||z||Function("return this")(),U=g&&!g.nodeType&&g,K=U&&v&&!v.nodeType&&v,Y=K&&K.exports===U;function tt(V,et){return V.set(et[0],et[1]),V}function st(V,et){return V.add(et),V}function dt(V,et,at,pt){var Et=-1,Rt=V?V.length:0;for(pt&&Rt&&(at=V[++Et]);++Et<Rt;)at=et(at,V[Et],Et,V);return at}function ct(V){var et=!1;if(V!=null&&typeof V.toString!="function")try{et=!!(V+"")}catch{}return et}function ht(V){var et=-1,at=Array(V.size);return V.forEach(function(pt,Et){at[++et]=[Et,pt]}),at}function B(V,et){return function(at){return V(et(at))}}function X(V){var et=-1,at=Array(V.size);return V.forEach(function(pt){at[++et]=pt}),at}var W,q=Array.prototype,G=Function.prototype,nt=Object.prototype,it=R["__core-js_shared__"],Q=(W=/[^.]+$/.exec(it&&it.keys&&it.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"",ut=G.toString,ft=nt.hasOwnProperty,yt=nt.toString,Tt=RegExp("^"+ut.call(ft).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nt=Y?R.Buffer:void 0,mt=R.Symbol,_t=R.Uint8Array,ot=B(Object.getPrototypeOf,Object),Ot=Object.create,Qt=nt.propertyIsEnumerable,ve=q.splice,Jt=Object.getOwnPropertySymbols,ce=Nt?Nt.isBuffer:void 0,le=B(Object.keys,Object),ne=_e(R,"DataView"),te=_e(R,"Map"),fe=_e(R,"Promise"),Ut=_e(R,"Set"),re=_e(R,"WeakMap"),ie=_e(Object,"create"),ln=Oe(ne),me=Oe(te),an=Oe(fe),Ge=Oe(Ut),Wn=Oe(re),An=mt?mt.prototype:void 0,Sn=An?An.valueOf:void 0;function be(V){var et=-1,at=V?V.length:0;for(this.clear();++et<at;){var pt=V[et];this.set(pt[0],pt[1])}}function ee(V){var et=-1,at=V?V.length:0;for(this.clear();++et<at;){var pt=V[et];this.set(pt[0],pt[1])}}function oe(V){var et=-1,at=V?V.length:0;for(this.clear();++et<at;){var pt=V[et];this.set(pt[0],pt[1])}}function qe(V){this.__data__=new ee(V)}function he(V,et,at){var pt=V[et];ft.call(V,et)&&Xn(pt,at)&&(at!==void 0||et in V)||(V[et]=at)}function un(V,et){for(var at=V.length;at--;)if(Xn(V[at][0],et))return at;return-1}function de(V,et,at,pt,Et,Rt,Mt){var xt;if(pt&&(xt=Rt?pt(V,Et,Rt,Mt):pt(V)),xt!==void 0)return xt;if(!Dt(V))return V;var Ht=Z(V);if(Ht){if(xt=function(bt){var It=bt.length,zt=bt.constructor(It);return It&&typeof bt[0]=="string"&&ft.call(bt,"index")&&(zt.index=bt.index,zt.input=bt.input),zt}(V),!et)return function(bt,It){var zt=-1,St=bt.length;for(It||(It=Array(St));++zt<St;)It[zt]=bt[zt];return It}(V,xt)}else{var jt=we(V),Ee=jt==h||jt==m;if(lt(V))return function(bt,It){if(It)return bt.slice();var zt=new bt.constructor(bt.length);return bt.copy(zt),zt}(V,et);if(jt==i||jt==c||Ee&&!Rt){if(ct(V))return Rt?V:{};if(xt=function(bt){return typeof bt.constructor!="function"||Be(bt)?{}:Dt(It=ot(bt))?Ot(It):{};var It}(Ee?{}:V),!et)return function(bt,It){return Zn(bt,Tn(bt),It)}(V,function(bt,It){return bt&&Zn(It,kt(It),bt)}(xt,V))}else{if(!I[jt])return Rt?V:{};xt=function(bt,It,zt,St){var Ct,pe=bt.constructor;switch(It){case N:return cn(bt);case s:case l:return new pe(+bt);case S:return function(Lt,Gt){var Bt=Gt?cn(Lt.buffer):Lt.buffer;return new Lt.constructor(Bt,Lt.byteOffset,Lt.byteLength)}(bt,St);case k:case T:case x:case L:case D:case P:case F:case J:case H:return function(Lt,Gt){var Bt=Gt?cn(Lt.buffer):Lt.buffer;return new Lt.constructor(Bt,Lt.byteOffset,Lt.length)}(bt,St);case _:return function(Lt,Gt,Bt){return dt(Gt?Bt(ht(Lt),!0):ht(Lt),tt,new Lt.constructor)}(bt,St,zt);case f:case O:return new pe(bt);case a:return function(Lt){var Gt=new Lt.constructor(Lt.source,j.exec(Lt));return Gt.lastIndex=Lt.lastIndex,Gt}(bt);case b:return function(Lt,Gt,Bt){return dt(Gt?Bt(X(Lt),!0):X(Lt),st,new Lt.constructor)}(bt,St,zt);case E:return Ct=bt,Sn?Object(Sn.call(Ct)):{}}}(V,jt,de,et)}}Mt||(Mt=new qe);var Ce=Mt.get(V);if(Ce)return Ce;if(Mt.set(V,xt),!Ht)var Fe=at?function(bt){return function(It,zt,St){var Ct=zt(It);return Z(It)?Ct:function(pe,Lt){for(var Gt=-1,Bt=Lt.length,ge=pe.length;++Gt<Bt;)pe[ge+Gt]=Lt[Gt];return pe}(Ct,St(It))}(bt,kt,Tn)}(V):kt(V);return function(bt,It){for(var zt=-1,St=bt?bt.length:0;++zt<St&&It(bt[zt],zt)!==!1;);}(Fe||V,function(bt,It){Fe&&(bt=V[It=bt]),he(xt,It,de(bt,et,at,pt,It,V,Mt))}),xt}function cn(V){var et=new V.constructor(V.byteLength);return new _t(et).set(new _t(V)),et}function Zn(V,et,at,pt){at||(at={});for(var Et=-1,Rt=et.length;++Et<Rt;){var Mt=et[Et],xt=pt?pt(at[Mt],V[Mt],Mt,at,V):void 0;he(at,Mt,xt===void 0?V[Mt]:xt)}return at}function Le(V,et){var at,pt,Et=V.__data__;return((pt=typeof(at=et))=="string"||pt=="number"||pt=="symbol"||pt=="boolean"?at!=="__proto__":at===null)?Et[typeof et=="string"?"string":"hash"]:Et.map}function _e(V,et){var at=function(pt,Et){return pt==null?void 0:pt[Et]}(V,et);return function(pt){return!(!Dt(pt)||(Et=pt,Q&&Q in Et))&&(gt(pt)||ct(pt)?Tt:C).test(Oe(pt));var Et}(at)?at:void 0}be.prototype.clear=function(){this.__data__=ie?ie(null):{}},be.prototype.delete=function(V){return this.has(V)&&delete this.__data__[V]},be.prototype.get=function(V){var et=this.__data__;if(ie){var at=et[V];return at===w?void 0:at}return ft.call(et,V)?et[V]:void 0},be.prototype.has=function(V){var et=this.__data__;return ie?et[V]!==void 0:ft.call(et,V)},be.prototype.set=function(V,et){return this.__data__[V]=ie&&et===void 0?w:et,this},ee.prototype.clear=function(){this.__data__=[]},ee.prototype.delete=function(V){var et=this.__data__,at=un(et,V);return!(at<0||(at==et.length-1?et.pop():ve.call(et,at,1),0))},ee.prototype.get=function(V){var et=this.__data__,at=un(et,V);return at<0?void 0:et[at][1]},ee.prototype.has=function(V){return un(this.__data__,V)>-1},ee.prototype.set=function(V,et){var at=this.__data__,pt=un(at,V);return pt<0?at.push([V,et]):at[pt][1]=et,this},oe.prototype.clear=function(){this.__data__={hash:new be,map:new(te||ee),string:new be}},oe.prototype.delete=function(V){return Le(this,V).delete(V)},oe.prototype.get=function(V){return Le(this,V).get(V)},oe.prototype.has=function(V){return Le(this,V).has(V)},oe.prototype.set=function(V,et){return Le(this,V).set(V,et),this},qe.prototype.clear=function(){this.__data__=new ee},qe.prototype.delete=function(V){return this.__data__.delete(V)},qe.prototype.get=function(V){return this.__data__.get(V)},qe.prototype.has=function(V){return this.__data__.has(V)},qe.prototype.set=function(V,et){var at=this.__data__;if(at instanceof ee){var pt=at.__data__;if(!te||pt.length<199)return pt.push([V,et]),this;at=this.__data__=new oe(pt)}return at.set(V,et),this};var Tn=Jt?B(Jt,Object):function(){return[]},we=function(V){return yt.call(V)};function Yn(V,et){return!!(et=et==null?d:et)&&(typeof V=="number"||M.test(V))&&V>-1&&V%1==0&&V<et}function Be(V){var et=V&&V.constructor;return V===(typeof et=="function"&&et.prototype||nt)}function Oe(V){if(V!=null){try{return ut.call(V)}catch{}try{return V+""}catch{}}return""}function Xn(V,et){return V===et||V!=V&&et!=et}(ne&&we(new ne(new ArrayBuffer(1)))!=S||te&&we(new te)!=_||fe&&we(fe.resolve())!=u||Ut&&we(new Ut)!=b||re&&we(new re)!=A)&&(we=function(V){var et=yt.call(V),at=et==i?V.constructor:void 0,pt=at?Oe(at):void 0;if(pt)switch(pt){case ln:return S;case me:return _;case an:return u;case Ge:return b;case Wn:return A}return et});var Z=Array.isArray;function rt(V){return V!=null&&function(et){return typeof et=="number"&&et>-1&&et%1==0&&et<=d}(V.length)&&!gt(V)}var lt=ce||function(){return!1};function gt(V){var et=Dt(V)?yt.call(V):"";return et==h||et==m}function Dt(V){var et=typeof V;return!!V&&(et=="object"||et=="function")}function kt(V){return rt(V)?function(et,at){var pt=Z(et)||function(xt){return function(Ht){return function(jt){return!!jt&&typeof jt=="object"}(Ht)&&rt(Ht)}(xt)&&ft.call(xt,"callee")&&(!Qt.call(xt,"callee")||yt.call(xt)==c)}(et)?function(xt,Ht){for(var jt=-1,Ee=Array(xt);++jt<xt;)Ee[jt]=Ht(jt);return Ee}(et.length,String):[],Et=pt.length,Rt=!!Et;for(var Mt in et)!at&&!ft.call(et,Mt)||Rt&&(Mt=="length"||Yn(Mt,Et))||pt.push(Mt);return pt}(V):function(et){if(!Be(et))return le(et);var at=[];for(var pt in Object(et))ft.call(et,pt)&&pt!="constructor"&&at.push(pt);return at}(V)}v.exports=function(V){return de(V,!0,!0)}},307:(v,g,p)=>{v=p.nmd(v);var w="__lodash_hash_undefined__",d=9007199254740991,c="[object Arguments]",s="[object Array]",l="[object Boolean]",h="[object Date]",m="[object Error]",_="[object Function]",f="[object Map]",i="[object Number]",u="[object Object]",a="[object Promise]",b="[object RegExp]",O="[object Set]",E="[object String]",A="[object WeakMap]",N="[object ArrayBuffer]",S="[object DataView]",k=/^\[object .+?Constructor\]$/,T=/^(?:0|[1-9]\d*)$/,x={};x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x[c]=x[s]=x[N]=x[l]=x[S]=x[h]=x[m]=x[_]=x[f]=x[i]=x[u]=x[b]=x[O]=x[E]=x[A]=!1;var L=typeof p.g=="object"&&p.g&&p.g.Object===Object&&p.g,D=typeof self=="object"&&self&&self.Object===Object&&self,P=L||D||Function("return this")(),F=g&&!g.nodeType&&g,J=F&&v&&!v.nodeType&&v,H=J&&J.exports===F,j=H&&L.process,C=function(){try{return j&&j.binding&&j.binding("util")}catch{}}(),M=C&&C.isTypedArray;function I(Z,rt){for(var lt=-1,gt=Z==null?0:Z.length;++lt<gt;)if(rt(Z[lt],lt,Z))return!0;return!1}function $(Z){var rt=-1,lt=Array(Z.size);return Z.forEach(function(gt,Dt){lt[++rt]=[Dt,gt]}),lt}function z(Z){var rt=-1,lt=Array(Z.size);return Z.forEach(function(gt){lt[++rt]=gt}),lt}var R,U,K,Y=Array.prototype,tt=Function.prototype,st=Object.prototype,dt=P["__core-js_shared__"],ct=tt.toString,ht=st.hasOwnProperty,B=(R=/[^.]+$/.exec(dt&&dt.keys&&dt.keys.IE_PROTO||""))?"Symbol(src)_1."+R:"",X=st.toString,W=RegExp("^"+ct.call(ht).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),q=H?P.Buffer:void 0,G=P.Symbol,nt=P.Uint8Array,it=st.propertyIsEnumerable,Q=Y.splice,ut=G?G.toStringTag:void 0,ft=Object.getOwnPropertySymbols,yt=q?q.isBuffer:void 0,Tt=(U=Object.keys,K=Object,function(Z){return U(K(Z))}),Nt=oe(P,"DataView"),mt=oe(P,"Map"),_t=oe(P,"Promise"),ot=oe(P,"Set"),Ot=oe(P,"WeakMap"),Qt=oe(Object,"create"),ve=de(Nt),Jt=de(mt),ce=de(_t),le=de(ot),ne=de(Ot),te=G?G.prototype:void 0,fe=te?te.valueOf:void 0;function Ut(Z){var rt=-1,lt=Z==null?0:Z.length;for(this.clear();++rt<lt;){var gt=Z[rt];this.set(gt[0],gt[1])}}function re(Z){var rt=-1,lt=Z==null?0:Z.length;for(this.clear();++rt<lt;){var gt=Z[rt];this.set(gt[0],gt[1])}}function ie(Z){var rt=-1,lt=Z==null?0:Z.length;for(this.clear();++rt<lt;){var gt=Z[rt];this.set(gt[0],gt[1])}}function ln(Z){var rt=-1,lt=Z==null?0:Z.length;for(this.__data__=new ie;++rt<lt;)this.add(Z[rt])}function me(Z){var rt=this.__data__=new re(Z);this.size=rt.size}function an(Z,rt){for(var lt=Z.length;lt--;)if(cn(Z[lt][0],rt))return lt;return-1}function Ge(Z){return Z==null?Z===void 0?"[object Undefined]":"[object Null]":ut&&ut in Object(Z)?function(rt){var lt=ht.call(rt,ut),gt=rt[ut];try{rt[ut]=void 0;var Dt=!0}catch{}var kt=X.call(rt);return Dt&&(lt?rt[ut]=gt:delete rt[ut]),kt}(Z):function(rt){return X.call(rt)}(Z)}function Wn(Z){return Be(Z)&&Ge(Z)==c}function An(Z,rt,lt,gt,Dt){return Z===rt||(Z==null||rt==null||!Be(Z)&&!Be(rt)?Z!=Z&&rt!=rt:function(kt,V,et,at,pt,Et){var Rt=Le(kt),Mt=Le(V),xt=Rt?s:he(kt),Ht=Mt?s:he(V),jt=(xt=xt==c?u:xt)==u,Ee=(Ht=Ht==c?u:Ht)==u,Ce=xt==Ht;if(Ce&&_e(kt)){if(!_e(V))return!1;Rt=!0,jt=!1}if(Ce&&!jt)return Et||(Et=new me),Rt||Oe(kt)?Sn(kt,V,et,at,pt,Et):function(St,Ct,pe,Lt,Gt,Bt,ge){switch(pe){case S:if(St.byteLength!=Ct.byteLength||St.byteOffset!=Ct.byteOffset)return!1;St=St.buffer,Ct=Ct.buffer;case N:return!(St.byteLength!=Ct.byteLength||!Bt(new nt(St),new nt(Ct)));case l:case h:case i:return cn(+St,+Ct);case m:return St.name==Ct.name&&St.message==Ct.message;case b:case E:return St==Ct+"";case f:var Ue=$;case O:var xn=1&Lt;if(Ue||(Ue=z),St.size!=Ct.size&&!xn)return!1;var We=ge.get(St);if(We)return We==Ct;Lt|=2,ge.set(St,Ct);var De=Sn(Ue(St),Ue(Ct),Lt,Gt,Bt,ge);return ge.delete(St),De;case"[object Symbol]":if(fe)return fe.call(St)==fe.call(Ct)}return!1}(kt,V,xt,et,at,pt,Et);if(!(1&et)){var Fe=jt&&ht.call(kt,"__wrapped__"),bt=Ee&&ht.call(V,"__wrapped__");if(Fe||bt){var It=Fe?kt.value():kt,zt=bt?V.value():V;return Et||(Et=new me),pt(It,zt,et,at,Et)}}return!!Ce&&(Et||(Et=new me),function(St,Ct,pe,Lt,Gt,Bt){var ge=1&pe,Ue=be(St),xn=Ue.length;if(xn!=be(Ct).length&&!ge)return!1;for(var We=xn;We--;){var De=Ue[We];if(!(ge?De in Ct:ht.call(Ct,De)))return!1}var Si=Bt.get(St);if(Si&&Bt.get(Ct))return Si==Ct;var Jn=!0;Bt.set(St,Ct),Bt.set(Ct,St);for(var Ir=ge;++We<xn;){var Qn=St[De=Ue[We]],tr=Ct[De];if(Lt)var Ti=ge?Lt(tr,Qn,De,Ct,St,Bt):Lt(Qn,tr,De,St,Ct,Bt);if(!(Ti===void 0?Qn===tr||Gt(Qn,tr,pe,Lt,Bt):Ti)){Jn=!1;break}Ir||(Ir=De=="constructor")}if(Jn&&!Ir){var er=St.constructor,nr=Ct.constructor;er==nr||!("constructor"in St)||!("constructor"in Ct)||typeof er=="function"&&er instanceof er&&typeof nr=="function"&&nr instanceof nr||(Jn=!1)}return Bt.delete(St),Bt.delete(Ct),Jn}(kt,V,et,at,pt,Et))}(Z,rt,lt,gt,An,Dt))}function Sn(Z,rt,lt,gt,Dt,kt){var V=1&lt,et=Z.length,at=rt.length;if(et!=at&&!(V&&at>et))return!1;var pt=kt.get(Z);if(pt&&kt.get(rt))return pt==rt;var Et=-1,Rt=!0,Mt=2&lt?new ln:void 0;for(kt.set(Z,rt),kt.set(rt,Z);++Et<et;){var xt=Z[Et],Ht=rt[Et];if(gt)var jt=V?gt(Ht,xt,Et,rt,Z,kt):gt(xt,Ht,Et,Z,rt,kt);if(jt!==void 0){if(jt)continue;Rt=!1;break}if(Mt){if(!I(rt,function(Ee,Ce){if(Fe=Ce,!Mt.has(Fe)&&(xt===Ee||Dt(xt,Ee,lt,gt,kt)))return Mt.push(Ce);var Fe})){Rt=!1;break}}else if(xt!==Ht&&!Dt(xt,Ht,lt,gt,kt)){Rt=!1;break}}return kt.delete(Z),kt.delete(rt),Rt}function be(Z){return function(rt,lt,gt){var Dt=lt(rt);return Le(rt)?Dt:function(kt,V){for(var et=-1,at=V.length,pt=kt.length;++et<at;)kt[pt+et]=V[et];return kt}(Dt,gt(rt))}(Z,Xn,qe)}function ee(Z,rt){var lt,gt,Dt=Z.__data__;return((gt=typeof(lt=rt))=="string"||gt=="number"||gt=="symbol"||gt=="boolean"?lt!=="__proto__":lt===null)?Dt[typeof rt=="string"?"string":"hash"]:Dt.map}function oe(Z,rt){var lt=function(gt,Dt){return gt==null?void 0:gt[Dt]}(Z,rt);return function(gt){return!(!Yn(gt)||function(Dt){return!!B&&B in Dt}(gt))&&(Tn(gt)?W:k).test(de(gt))}(lt)?lt:void 0}Ut.prototype.clear=function(){this.__data__=Qt?Qt(null):{},this.size=0},Ut.prototype.delete=function(Z){var rt=this.has(Z)&&delete this.__data__[Z];return this.size-=rt?1:0,rt},Ut.prototype.get=function(Z){var rt=this.__data__;if(Qt){var lt=rt[Z];return lt===w?void 0:lt}return ht.call(rt,Z)?rt[Z]:void 0},Ut.prototype.has=function(Z){var rt=this.__data__;return Qt?rt[Z]!==void 0:ht.call(rt,Z)},Ut.prototype.set=function(Z,rt){var lt=this.__data__;return this.size+=this.has(Z)?0:1,lt[Z]=Qt&&rt===void 0?w:rt,this},re.prototype.clear=function(){this.__data__=[],this.size=0},re.prototype.delete=function(Z){var rt=this.__data__,lt=an(rt,Z);return!(lt<0||(lt==rt.length-1?rt.pop():Q.call(rt,lt,1),--this.size,0))},re.prototype.get=function(Z){var rt=this.__data__,lt=an(rt,Z);return lt<0?void 0:rt[lt][1]},re.prototype.has=function(Z){return an(this.__data__,Z)>-1},re.prototype.set=function(Z,rt){var lt=this.__data__,gt=an(lt,Z);return gt<0?(++this.size,lt.push([Z,rt])):lt[gt][1]=rt,this},ie.prototype.clear=function(){this.size=0,this.__data__={hash:new Ut,map:new(mt||re),string:new Ut}},ie.prototype.delete=function(Z){var rt=ee(this,Z).delete(Z);return this.size-=rt?1:0,rt},ie.prototype.get=function(Z){return ee(this,Z).get(Z)},ie.prototype.has=function(Z){return ee(this,Z).has(Z)},ie.prototype.set=function(Z,rt){var lt=ee(this,Z),gt=lt.size;return lt.set(Z,rt),this.size+=lt.size==gt?0:1,this},ln.prototype.add=ln.prototype.push=function(Z){return this.__data__.set(Z,w),this},ln.prototype.has=function(Z){return this.__data__.has(Z)},me.prototype.clear=function(){this.__data__=new re,this.size=0},me.prototype.delete=function(Z){var rt=this.__data__,lt=rt.delete(Z);return this.size=rt.size,lt},me.prototype.get=function(Z){return this.__data__.get(Z)},me.prototype.has=function(Z){return this.__data__.has(Z)},me.prototype.set=function(Z,rt){var lt=this.__data__;if(lt instanceof re){var gt=lt.__data__;if(!mt||gt.length<199)return gt.push([Z,rt]),this.size=++lt.size,this;lt=this.__data__=new ie(gt)}return lt.set(Z,rt),this.size=lt.size,this};var qe=ft?function(Z){return Z==null?[]:(Z=Object(Z),function(rt,lt){for(var gt=-1,Dt=rt==null?0:rt.length,kt=0,V=[];++gt<Dt;){var et=rt[gt];at=et,it.call(Z,at)&&(V[kt++]=et)}var at;return V}(ft(Z)))}:function(){return[]},he=Ge;function un(Z,rt){return!!(rt=rt==null?d:rt)&&(typeof Z=="number"||T.test(Z))&&Z>-1&&Z%1==0&&Z<rt}function de(Z){if(Z!=null){try{return ct.call(Z)}catch{}try{return Z+""}catch{}}return""}function cn(Z,rt){return Z===rt||Z!=Z&&rt!=rt}(Nt&&he(new Nt(new ArrayBuffer(1)))!=S||mt&&he(new mt)!=f||_t&&he(_t.resolve())!=a||ot&&he(new ot)!=O||Ot&&he(new Ot)!=A)&&(he=function(Z){var rt=Ge(Z),lt=rt==u?Z.constructor:void 0,gt=lt?de(lt):"";if(gt)switch(gt){case ve:return S;case Jt:return f;case ce:return a;case le:return O;case ne:return A}return rt});var Zn=Wn(function(){return arguments}())?Wn:function(Z){return Be(Z)&&ht.call(Z,"callee")&&!it.call(Z,"callee")},Le=Array.isArray,_e=yt||function(){return!1};function Tn(Z){if(!Yn(Z))return!1;var rt=Ge(Z);return rt==_||rt=="[object GeneratorFunction]"||rt=="[object AsyncFunction]"||rt=="[object Proxy]"}function we(Z){return typeof Z=="number"&&Z>-1&&Z%1==0&&Z<=d}function Yn(Z){var rt=typeof Z;return Z!=null&&(rt=="object"||rt=="function")}function Be(Z){return Z!=null&&typeof Z=="object"}var Oe=M?function(Z){return function(rt){return Z(rt)}}(M):function(Z){return Be(Z)&&we(Z.length)&&!!x[Ge(Z)]};function Xn(Z){return(rt=Z)!=null&&we(rt.length)&&!Tn(rt)?function(lt,gt){var Dt=Le(lt),kt=!Dt&&Zn(lt),V=!Dt&&!kt&&_e(lt),et=!Dt&&!kt&&!V&&Oe(lt),at=Dt||kt||V||et,pt=at?function(Mt,xt){for(var Ht=-1,jt=Array(Mt);++Ht<Mt;)jt[Ht]=xt(Ht);return jt}(lt.length,String):[],Et=pt.length;for(var Rt in lt)!gt&&!ht.call(lt,Rt)||at&&(Rt=="length"||V&&(Rt=="offset"||Rt=="parent")||et&&(Rt=="buffer"||Rt=="byteLength"||Rt=="byteOffset")||un(Rt,Et))||pt.push(Rt);return pt}(Z):function(lt){if(Dt=(gt=lt)&&gt.constructor,gt!==(typeof Dt=="function"&&Dt.prototype||st))return Tt(lt);var gt,Dt,kt=[];for(var V in Object(lt))ht.call(lt,V)&&V!="constructor"&&kt.push(V);return kt}(Z);var rt}v.exports=function(Z,rt){return An(Z,rt)}},210:function(v,g,p){var w=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(g,"__esModule",{value:!0});var d,c=w(p(465)),s=w(p(307));(function(l){l.compose=function(h,m,_){h===void 0&&(h={}),m===void 0&&(m={}),typeof h!="object"&&(h={}),typeof m!="object"&&(m={});var f=c.default(m);for(var i in _||(f=Object.keys(f).reduce(function(u,a){return f[a]!=null&&(u[a]=f[a]),u},{})),h)h[i]!==void 0&&m[i]===void 0&&(f[i]=h[i]);return Object.keys(f).length>0?f:void 0},l.diff=function(h,m){h===void 0&&(h={}),m===void 0&&(m={}),typeof h!="object"&&(h={}),typeof m!="object"&&(m={});var _=Object.keys(h).concat(Object.keys(m)).reduce(function(f,i){return s.default(h[i],m[i])||(f[i]=m[i]===void 0?null:m[i]),f},{});return Object.keys(_).length>0?_:void 0},l.invert=function(h,m){h===void 0&&(h={}),m===void 0&&(m={}),h=h||{};var _=Object.keys(m).reduce(function(f,i){return m[i]!==h[i]&&h[i]!==void 0&&(f[i]=m[i]),f},{});return Object.keys(h).reduce(function(f,i){return h[i]!==m[i]&&m[i]===void 0&&(f[i]=null),f},_)},l.transform=function(h,m,_){if(_===void 0&&(_=!1),typeof h!="object")return m;if(typeof m=="object"){if(!_)return m;var f=Object.keys(m).reduce(function(i,u){return h[u]===void 0&&(i[u]=m[u]),i},{});return Object.keys(f).length>0?f:void 0}}})(d||(d={})),g.default=d},895:function(v,g,p){var w=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}},d=w(p(103)),c=w(p(465)),s=w(p(307)),l=w(p(210)),h=w(p(430)),m=String.fromCharCode(0),_=function(){function f(i){Array.isArray(i)?this.ops=i:i!=null&&Array.isArray(i.ops)?this.ops=i.ops:this.ops=[]}return f.prototype.insert=function(i,u){var a={};return typeof i=="string"&&i.length===0?this:(a.insert=i,u!=null&&typeof u=="object"&&Object.keys(u).length>0&&(a.attributes=u),this.push(a))},f.prototype.delete=function(i){return i<=0?this:this.push({delete:i})},f.prototype.retain=function(i,u){if(i<=0)return this;var a={retain:i};return u!=null&&typeof u=="object"&&Object.keys(u).length>0&&(a.attributes=u),this.push(a)},f.prototype.push=function(i){var u=this.ops.length,a=this.ops[u-1];if(i=c.default(i),typeof a=="object"){if(typeof i.delete=="number"&&typeof a.delete=="number")return this.ops[u-1]={delete:a.delete+i.delete},this;if(typeof a.delete=="number"&&i.insert!=null&&(u-=1,typeof(a=this.ops[u-1])!="object"))return this.ops.unshift(i),this;if(s.default(i.attributes,a.attributes)){if(typeof i.insert=="string"&&typeof a.insert=="string")return this.ops[u-1]={insert:a.insert+i.insert},typeof i.attributes=="object"&&(this.ops[u-1].attributes=i.attributes),this;if(typeof i.retain=="number"&&typeof a.retain=="number")return this.ops[u-1]={retain:a.retain+i.retain},typeof i.attributes=="object"&&(this.ops[u-1].attributes=i.attributes),this}}return u===this.ops.length?this.ops.push(i):this.ops.splice(u,0,i),this},f.prototype.chop=function(){var i=this.ops[this.ops.length-1];return i&&i.retain&&!i.attributes&&this.ops.pop(),this},f.prototype.filter=function(i){return this.ops.filter(i)},f.prototype.forEach=function(i){this.ops.forEach(i)},f.prototype.map=function(i){return this.ops.map(i)},f.prototype.partition=function(i){var u=[],a=[];return this.forEach(function(b){(i(b)?u:a).push(b)}),[u,a]},f.prototype.reduce=function(i,u){return this.ops.reduce(i,u)},f.prototype.changeLength=function(){return this.reduce(function(i,u){return u.insert?i+h.default.length(u):u.delete?i-u.delete:i},0)},f.prototype.length=function(){return this.reduce(function(i,u){return i+h.default.length(u)},0)},f.prototype.slice=function(i,u){i===void 0&&(i=0),u===void 0&&(u=1/0);for(var a=[],b=h.default.iterator(this.ops),O=0;O<u&&b.hasNext();){var E=void 0;O<i?E=b.next(i-O):(E=b.next(u-O),a.push(E)),O+=h.default.length(E)}return new f(a)},f.prototype.compose=function(i){var u=h.default.iterator(this.ops),a=h.default.iterator(i.ops),b=[],O=a.peek();if(O!=null&&typeof O.retain=="number"&&O.attributes==null){for(var E=O.retain;u.peekType()==="insert"&&u.peekLength()<=E;)E-=u.peekLength(),b.push(u.next());O.retain-E>0&&a.next(O.retain-E)}for(var A=new f(b);u.hasNext()||a.hasNext();)if(a.peekType()==="insert")A.push(a.next());else if(u.peekType()==="delete")A.push(u.next());else{var N=Math.min(u.peekLength(),a.peekLength()),S=u.next(N),k=a.next(N);if(typeof k.retain=="number"){var T={};typeof S.retain=="number"?T.retain=N:T.insert=S.insert;var x=l.default.compose(S.attributes,k.attributes,typeof S.retain=="number");if(x&&(T.attributes=x),A.push(T),!a.hasNext()&&s.default(A.ops[A.ops.length-1],T)){var L=new f(u.rest());return A.concat(L).chop()}}else typeof k.delete=="number"&&typeof S.retain=="number"&&A.push(k)}return A.chop()},f.prototype.concat=function(i){var u=new f(this.ops.slice());return i.ops.length>0&&(u.push(i.ops[0]),u.ops=u.ops.concat(i.ops.slice(1))),u},f.prototype.diff=function(i,u){if(this.ops===i.ops)return new f;var a=[this,i].map(function(N){return N.map(function(S){if(S.insert!=null)return typeof S.insert=="string"?S.insert:m;throw new Error("diff() called "+(N===i?"on":"with")+" non-document")}).join("")}),b=new f,O=d.default(a[0],a[1],u),E=h.default.iterator(this.ops),A=h.default.iterator(i.ops);return O.forEach(function(N){for(var S=N[1].length;S>0;){var k=0;switch(N[0]){case d.default.INSERT:k=Math.min(A.peekLength(),S),b.push(A.next(k));break;case d.default.DELETE:k=Math.min(S,E.peekLength()),E.next(k),b.delete(k);break;case d.default.EQUAL:k=Math.min(E.peekLength(),A.peekLength(),S);var T=E.next(k),x=A.next(k);s.default(T.insert,x.insert)?b.retain(k,l.default.diff(T.attributes,x.attributes)):b.push(x).delete(k)}S-=k}}),b.chop()},f.prototype.eachLine=function(i,u){u===void 0&&(u=`
`);for(var a=h.default.iterator(this.ops),b=new f,O=0;a.hasNext();){if(a.peekType()!=="insert")return;var E=a.peek(),A=h.default.length(E)-a.peekLength(),N=typeof E.insert=="string"?E.insert.indexOf(u,A)-A:-1;if(N<0)b.push(a.next());else if(N>0)b.push(a.next(N));else{if(i(b,a.next(1).attributes||{},O)===!1)return;O+=1,b=new f}}b.length()>0&&i(b,{},O)},f.prototype.invert=function(i){var u=new f;return this.reduce(function(a,b){if(b.insert)u.delete(h.default.length(b));else{if(b.retain&&b.attributes==null)return u.retain(b.retain),a+b.retain;if(b.delete||b.retain&&b.attributes){var O=b.delete||b.retain;return i.slice(a,a+O).forEach(function(E){b.delete?u.push(E):b.retain&&b.attributes&&u.retain(h.default.length(E),l.default.invert(b.attributes,E.attributes))}),a+O}}return a},0),u.chop()},f.prototype.transform=function(i,u){if(u===void 0&&(u=!1),u=!!u,typeof i=="number")return this.transformPosition(i,u);for(var a=i,b=h.default.iterator(this.ops),O=h.default.iterator(a.ops),E=new f;b.hasNext()||O.hasNext();)if(b.peekType()!=="insert"||!u&&O.peekType()==="insert")if(O.peekType()==="insert")E.push(O.next());else{var A=Math.min(b.peekLength(),O.peekLength()),N=b.next(A),S=O.next(A);if(N.delete)continue;S.delete?E.push(S):E.retain(A,l.default.transform(N.attributes,S.attributes,u))}else E.retain(h.default.length(b.next()));return E.chop()},f.prototype.transformPosition=function(i,u){u===void 0&&(u=!1),u=!!u;for(var a=h.default.iterator(this.ops),b=0;a.hasNext()&&b<=i;){var O=a.peekLength(),E=a.peekType();a.next(),E!=="delete"?(E==="insert"&&(b<i||!u)&&(i+=O),b+=O):i-=Math.min(O,i-b)}return i},f.Op=h.default,f.AttributeMap=l.default,f}();v.exports=_},977:function(v,g,p){var w=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(g,"__esModule",{value:!0});var d=w(p(430)),c=function(){function s(l){this.ops=l,this.index=0,this.offset=0}return s.prototype.hasNext=function(){return this.peekLength()<1/0},s.prototype.next=function(l){l||(l=1/0);var h=this.ops[this.index];if(h){var m=this.offset,_=d.default.length(h);if(l>=_-m?(l=_-m,this.index+=1,this.offset=0):this.offset+=l,typeof h.delete=="number")return{delete:l};var f={};return h.attributes&&(f.attributes=h.attributes),typeof h.retain=="number"?f.retain=l:typeof h.insert=="string"?f.insert=h.insert.substr(m,l):f.insert=h.insert,f}return{retain:1/0}},s.prototype.peek=function(){return this.ops[this.index]},s.prototype.peekLength=function(){return this.ops[this.index]?d.default.length(this.ops[this.index])-this.offset:1/0},s.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},s.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var l=this.offset,h=this.index,m=this.next(),_=this.ops.slice(this.index);return this.offset=l,this.index=h,[m].concat(_)}return[]},s}();g.default=c},430:function(v,g,p){var w=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(g,"__esModule",{value:!0});var d,c=w(p(977));(function(s){s.iterator=function(l){return new c.default(l)},s.length=function(l){return typeof l.delete=="number"?l.delete:typeof l.retain=="number"?l.retain:typeof l.insert=="string"?l.insert.length:1}})(d||(d={})),g.default=d},103:v=>{var g=-1;function p(u,a,b,O){if(u===a)return u?[[0,u]]:[];if(b!=null){var E=function(T,x,L){var D=typeof L=="number"?{index:L,length:0}:L.oldRange,P=typeof L=="number"?null:L.newRange,F=T.length,J=x.length;if(D.length===0&&(P===null||P.length===0)){var H=D.index,j=T.slice(0,H),C=T.slice(H),M=P?P.index:null,I=H+J-F;if((M===null||M===I)&&!(I<0||I>J)){var $=x.slice(0,I);if((U=x.slice(I))===C){var z=Math.min(H,I);if((Y=j.slice(0,z))===(st=$.slice(0,z)))return f(Y,j.slice(z),$.slice(z),C)}}if(M===null||M===H){var R=H,U=($=x.slice(0,R),x.slice(R));if($===j){var K=Math.min(F-R,J-R);if((tt=C.slice(C.length-K))===(dt=U.slice(U.length-K)))return f(j,C.slice(0,C.length-K),U.slice(0,U.length-K),tt)}}}if(D.length>0&&P&&P.length===0){var Y=T.slice(0,D.index),tt=T.slice(D.index+D.length);if(!(J<(z=Y.length)+(K=tt.length))){var st=x.slice(0,z),dt=x.slice(J-K);if(Y===st&&tt===dt)return f(Y,T.slice(z,F-K),x.slice(z,J-K),tt)}}return null}(u,a,b);if(E)return E}var A=d(u,a),N=u.substring(0,A);A=c(u=u.substring(A),a=a.substring(A));var S=u.substring(u.length-A),k=function(T,x){var L;if(!T)return[[1,x]];if(!x)return[[g,T]];var D=T.length>x.length?T:x,P=T.length>x.length?x:T,F=D.indexOf(P);if(F!==-1)return L=[[1,D.substring(0,F)],[0,P],[1,D.substring(F+P.length)]],T.length>x.length&&(L[0][0]=L[2][0]=g),L;if(P.length===1)return[[g,T],[1,x]];var J=function(R,U){var K=R.length>U.length?R:U,Y=R.length>U.length?U:R;if(K.length<4||2*Y.length<K.length)return null;function tt(q,G,nt){for(var it,Q,ut,ft,yt=q.substring(nt,nt+Math.floor(q.length/4)),Tt=-1,Nt="";(Tt=G.indexOf(yt,Tt+1))!==-1;){var mt=d(q.substring(nt),G.substring(Tt)),_t=c(q.substring(0,nt),G.substring(0,Tt));Nt.length<_t+mt&&(Nt=G.substring(Tt-_t,Tt)+G.substring(Tt,Tt+mt),it=q.substring(0,nt-_t),Q=q.substring(nt+mt),ut=G.substring(0,Tt-_t),ft=G.substring(Tt+mt))}return 2*Nt.length>=q.length?[it,Q,ut,ft,Nt]:null}var st,dt,ct,ht,B,X=tt(K,Y,Math.ceil(K.length/4)),W=tt(K,Y,Math.ceil(K.length/2));return X||W?(st=W?X&&X[4].length>W[4].length?X:W:X,R.length>U.length?(dt=st[0],ct=st[1],ht=st[2],B=st[3]):(ht=st[0],B=st[1],dt=st[2],ct=st[3]),[dt,ct,ht,B,st[4]]):null}(T,x);if(J){var H=J[0],j=J[1],C=J[2],M=J[3],I=J[4],$=p(H,C),z=p(j,M);return $.concat([[0,I]],z)}return function(R,U){for(var K=R.length,Y=U.length,tt=Math.ceil((K+Y)/2),st=tt,dt=2*tt,ct=new Array(dt),ht=new Array(dt),B=0;B<dt;B++)ct[B]=-1,ht[B]=-1;ct[st+1]=0,ht[st+1]=0;for(var X=K-Y,W=X%2!=0,q=0,G=0,nt=0,it=0,Q=0;Q<tt;Q++){for(var ut=-Q+q;ut<=Q-G;ut+=2){for(var ft=st+ut,yt=(ot=ut===-Q||ut!==Q&&ct[ft-1]<ct[ft+1]?ct[ft+1]:ct[ft-1]+1)-ut;ot<K&&yt<Y&&R.charAt(ot)===U.charAt(yt);)ot++,yt++;if(ct[ft]=ot,ot>K)G+=2;else if(yt>Y)q+=2;else if(W&&(mt=st+X-ut)>=0&&mt<dt&&ht[mt]!==-1&&ot>=(Nt=K-ht[mt]))return w(R,U,ot,yt)}for(var Tt=-Q+nt;Tt<=Q-it;Tt+=2){for(var Nt,mt=st+Tt,_t=(Nt=Tt===-Q||Tt!==Q&&ht[mt-1]<ht[mt+1]?ht[mt+1]:ht[mt-1]+1)-Tt;Nt<K&&_t<Y&&R.charAt(K-Nt-1)===U.charAt(Y-_t-1);)Nt++,_t++;if(ht[mt]=Nt,Nt>K)it+=2;else if(_t>Y)nt+=2;else if(!W){var ot;if((ft=st+X-Tt)>=0&&ft<dt&&ct[ft]!==-1&&(yt=st+(ot=ct[ft])-ft,ot>=(Nt=K-Nt)))return w(R,U,ot,yt)}}}return[[g,R],[1,U]]}(T,x)}(u=u.substring(0,u.length-A),a=a.substring(0,a.length-A));return N&&k.unshift([0,N]),S&&k.push([0,S]),s(k,O),k}function w(u,a,b,O){var E=u.substring(0,b),A=a.substring(0,O),N=u.substring(b),S=a.substring(O),k=p(E,A),T=p(N,S);return k.concat(T)}function d(u,a){if(!u||!a||u.charAt(0)!==a.charAt(0))return 0;for(var b=0,O=Math.min(u.length,a.length),E=O,A=0;b<E;)u.substring(A,E)==a.substring(A,E)?A=b=E:O=E,E=Math.floor((O-b)/2+b);return l(u.charCodeAt(E-1))&&E--,E}function c(u,a){if(!u||!a||u.slice(-1)!==a.slice(-1))return 0;for(var b=0,O=Math.min(u.length,a.length),E=O,A=0;b<E;)u.substring(u.length-E,u.length-A)==a.substring(a.length-E,a.length-A)?A=b=E:O=E,E=Math.floor((O-b)/2+b);return h(u.charCodeAt(u.length-E))&&E--,E}function s(u,a){u.push([0,""]);for(var b,O=0,E=0,A=0,N="",S="";O<u.length;)if(O<u.length-1&&!u[O][1])u.splice(O,1);else switch(u[O][0]){case 1:A++,S+=u[O][1],O++;break;case g:E++,N+=u[O][1],O++;break;case 0:var k=O-A-E-1;if(a){if(k>=0&&_(u[k][1])){var T=u[k][1].slice(-1);if(u[k][1]=u[k][1].slice(0,-1),N=T+N,S=T+S,!u[k][1]){u.splice(k,1),O--;var x=k-1;u[x]&&u[x][0]===1&&(A++,S=u[x][1]+S,x--),u[x]&&u[x][0]===g&&(E++,N=u[x][1]+N,x--),k=x}}m(u[O][1])&&(T=u[O][1].charAt(0),u[O][1]=u[O][1].slice(1),N+=T,S+=T)}if(O<u.length-1&&!u[O][1]){u.splice(O,1);break}if(N.length>0||S.length>0){N.length>0&&S.length>0&&((b=d(S,N))!==0&&(k>=0?u[k][1]+=S.substring(0,b):(u.splice(0,0,[0,S.substring(0,b)]),O++),S=S.substring(b),N=N.substring(b)),(b=c(S,N))!==0&&(u[O][1]=S.substring(S.length-b)+u[O][1],S=S.substring(0,S.length-b),N=N.substring(0,N.length-b)));var L=A+E;N.length===0&&S.length===0?(u.splice(O-L,L),O-=L):N.length===0?(u.splice(O-L,L,[1,S]),O=O-L+1):S.length===0?(u.splice(O-L,L,[g,N]),O=O-L+1):(u.splice(O-L,L,[g,N],[1,S]),O=O-L+2)}O!==0&&u[O-1][0]===0?(u[O-1][1]+=u[O][1],u.splice(O,1)):O++,A=0,E=0,N="",S=""}u[u.length-1][1]===""&&u.pop();var D=!1;for(O=1;O<u.length-1;)u[O-1][0]===0&&u[O+1][0]===0&&(u[O][1].substring(u[O][1].length-u[O-1][1].length)===u[O-1][1]?(u[O][1]=u[O-1][1]+u[O][1].substring(0,u[O][1].length-u[O-1][1].length),u[O+1][1]=u[O-1][1]+u[O+1][1],u.splice(O-1,1),D=!0):u[O][1].substring(0,u[O+1][1].length)==u[O+1][1]&&(u[O-1][1]+=u[O+1][1],u[O][1]=u[O][1].substring(u[O+1][1].length)+u[O+1][1],u.splice(O+1,1),D=!0)),O++;D&&s(u,a)}function l(u){return u>=55296&&u<=56319}function h(u){return u>=56320&&u<=57343}function m(u){return h(u.charCodeAt(0))}function _(u){return l(u.charCodeAt(u.length-1))}function f(u,a,b,O){return _(u)||m(O)?null:function(E){for(var A=[],N=0;N<E.length;N++)E[N][1].length>0&&A.push(E[N]);return A}([[0,u],[g,a],[1,b],[0,O]])}function i(u,a,b){return p(u,a,b,!0)}i.INSERT=1,i.DELETE=g,i.EQUAL=0,v.exports=i},165:function(v,g,p){var w,d;(d=typeof(w=function(){var c,s={};function l(_,f,i){var u=_.getClientRects();if(u.length===2){var a=_.getBoundingClientRect();return u[f][i]<a[i]}return!1}function h(_){if(!_||screen.deviceXDPI===screen.logicalXDPI)return _;if("length"in _)return Array.prototype.map.call(_,h);var f=screen.deviceXDPI/screen.logicalXDPI;return{top:_.top/f,bottom:_.bottom/f,left:_.left/f,right:_.right/f,width:_.width/f,height:_.height/f}}function m(_,f){var i,u=0,a=1024;if(a>=f.length)return Array.prototype.push.apply(_,f);for(;u<f.length;)i=Array.prototype.push.apply(_,Array.prototype.slice.call(f,u,u+a)),u+=a;return i}return s.isBroken=function(){if(c===void 0){var _=document.createElement("p"),f=document.createElement("span"),i=document.createTextNode("aa"),u=document.createTextNode("aa"),a=document.createElement("img");a.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=");var b=document.createRange();if(c={},_.appendChild(i),_.appendChild(f),f.appendChild(a),f.appendChild(u),document.body.appendChild(_),b.setStart(i,1),b.setEnd(f,0),c.getClientRects=c.getBoundingClientRect=b.getClientRects().length>1,c.getClientRects||(b.setEnd(u,1),c.getClientRects=c.getBoundingClientRect=b.getClientRects().length===2),!c.getBoundingClientRect){b.setEnd(b.startContainer,b.startOffset);var O=b.getBoundingClientRect();c.getBoundingClientRect=O.top===0&&O.left===0}if(document.body.removeChild(_),!c.getBoundingClientRect){var E=document.createElement("p");E.style.width="0px",E.style.fontSize="20px",E.style.whiteSpace="normal",E.style.wordBreak="normal";var A=document.createTextNode("m mm");E.appendChild(A),document.body.appendChild(E),b.setStart(A,1),b.setEnd(A,2),l(b,1,"left")?c.getBoundingClientRect=!0:(b.setStart(A,1),b.setEnd(A,3),l(b,0,"top")&&(c.getBoundingClientRect=!0)),document.body.removeChild(E)}var N=window.ActiveXObject&&new Function("/*@cc_on return @_jscript_version; @*/")();c.ieZoom=!!N&&N<=10}return c},s.getClientRects=function(_){var f=this.isBroken();if(f.ieZoom)return h(_.getClientRects());if(!f.getClientRects)return _.getClientRects();var i=[],u=[],a=_.endContainer,b=_.endOffset,O=document.createRange();function E(A){for(var N=0;A=A.previousSibling;)N++;return N}for(;a!==_.commonAncestorContainer;)O.setStart(a,0),O.setEnd(a,b),m(u,O.getClientRects()),b=E(a),a=a.parentNode;return(O=_.cloneRange()).setEnd(a,b),m(i,O.getClientRects()),m(i,u),i},s.getBoundingClientRect=function(_){var f=this.getClientRects(_);if(f.length===0)return null;var i,u=_.getBoundingClientRect(),a=this.isBroken();if(a.ieZoom)return h(u);if(!a.getBoundingClientRect)return u;if(u.width===0&&u.height===0)return f[0];for(var b=0,O=f.length;b<O;b++){var E=f[b];i?(i.left=Math.min(i.left,E.left),i.top=Math.min(i.top,E.top),i.right=Math.max(i.right,E.right),i.bottom=Math.max(i.bottom,E.bottom)):i={left:E.left,top:E.top,right:E.right,bottom:E.bottom}}return i&&(i.width=i.right-i.left,i.height=i.bottom-i.top),i},s})=="function"?w.call(g,p,g,v):w)===void 0||(v.exports=d)},33:(v,g,p)=>{p.r(g),p.d(g,{default:()=>x});var w=function(){if(typeof Map<"u")return Map;function L(D,P){var F=-1;return D.some(function(J,H){return J[0]===P&&(F=H,!0)}),F}return function(){function D(){this.__entries__=[]}return Object.defineProperty(D.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),D.prototype.get=function(P){var F=L(this.__entries__,P),J=this.__entries__[F];return J&&J[1]},D.prototype.set=function(P,F){var J=L(this.__entries__,P);~J?this.__entries__[J][1]=F:this.__entries__.push([P,F])},D.prototype.delete=function(P){var F=this.__entries__,J=L(F,P);~J&&F.splice(J,1)},D.prototype.has=function(P){return!!~L(this.__entries__,P)},D.prototype.clear=function(){this.__entries__.splice(0)},D.prototype.forEach=function(P,F){F===void 0&&(F=null);for(var J=0,H=this.__entries__;J<H.length;J++){var j=H[J];P.call(F,j[1],j[0])}},D}()}(),d=typeof window<"u"&&typeof document<"u"&&window.document===document,c=p.g!==void 0&&p.g.Math===Math?p.g:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")(),s=typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(c):function(L){return setTimeout(function(){return L(Date.now())},1e3/60)},l=["top","right","bottom","left","width","height","size","weight"],h=typeof MutationObserver<"u",m=function(){function L(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(D,P){var F=!1,J=!1,H=0;function j(){F&&(F=!1,D()),J&&M()}function C(){s(j)}function M(){var I=Date.now();if(F){if(I-H<2)return;J=!0}else F=!0,J=!1,setTimeout(C,20);H=I}return M}(this.refresh.bind(this))}return L.prototype.addObserver=function(D){~this.observers_.indexOf(D)||this.observers_.push(D),this.connected_||this.connect_()},L.prototype.removeObserver=function(D){var P=this.observers_,F=P.indexOf(D);~F&&P.splice(F,1),!P.length&&this.connected_&&this.disconnect_()},L.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},L.prototype.updateObservers_=function(){var D=this.observers_.filter(function(P){return P.gatherActive(),P.hasActive()});return D.forEach(function(P){return P.broadcastActive()}),D.length>0},L.prototype.connect_=function(){d&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),h?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},L.prototype.disconnect_=function(){d&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},L.prototype.onTransitionEnd_=function(D){var P=D.propertyName,F=P===void 0?"":P;l.some(function(J){return!!~F.indexOf(J)})&&this.refresh()},L.getInstance=function(){return this.instance_||(this.instance_=new L),this.instance_},L.instance_=null,L}(),_=function(L,D){for(var P=0,F=Object.keys(D);P<F.length;P++){var J=F[P];Object.defineProperty(L,J,{value:D[J],enumerable:!1,writable:!1,configurable:!0})}return L},f=function(L){return L&&L.ownerDocument&&L.ownerDocument.defaultView||c},i=E(0,0,0,0);function u(L){return parseFloat(L)||0}function a(L){for(var D=[],P=1;P<arguments.length;P++)D[P-1]=arguments[P];return D.reduce(function(F,J){return F+u(L["border-"+J+"-width"])},0)}var b=typeof SVGGraphicsElement<"u"?function(L){return L instanceof f(L).SVGGraphicsElement}:function(L){return L instanceof f(L).SVGElement&&typeof L.getBBox=="function"};function O(L){return d?b(L)?function(D){var P=D.getBBox();return E(0,0,P.width,P.height)}(L):function(D){var P=D.clientWidth,F=D.clientHeight;if(!P&&!F)return i;var J=f(D).getComputedStyle(D),H=function(R){for(var U={},K=0,Y=["top","right","bottom","left"];K<Y.length;K++){var tt=Y[K],st=R["padding-"+tt];U[tt]=u(st)}return U}(J),j=H.left+H.right,C=H.top+H.bottom,M=u(J.width),I=u(J.height);if(J.boxSizing==="border-box"&&(Math.round(M+j)!==P&&(M-=a(J,"left","right")+j),Math.round(I+C)!==F&&(I-=a(J,"top","bottom")+C)),!function(R){return R===f(R).document.documentElement}(D)){var $=Math.round(M+j)-P,z=Math.round(I+C)-F;Math.abs($)!==1&&(M-=$),Math.abs(z)!==1&&(I-=z)}return E(H.left,H.top,M,I)}(L):i}function E(L,D,P,F){return{x:L,y:D,width:P,height:F}}var A=function(){function L(D){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=E(0,0,0,0),this.target=D}return L.prototype.isActive=function(){var D=O(this.target);return this.contentRect_=D,D.width!==this.broadcastWidth||D.height!==this.broadcastHeight},L.prototype.broadcastRect=function(){var D=this.contentRect_;return this.broadcastWidth=D.width,this.broadcastHeight=D.height,D},L}(),N=function(L,D){var P,F,J,H,j,C,M,I=(F=(P=D).x,J=P.y,H=P.width,j=P.height,C=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,M=Object.create(C.prototype),_(M,{x:F,y:J,width:H,height:j,top:J,right:F+H,bottom:j+J,left:F}),M);_(this,{target:L,contentRect:I})},S=function(){function L(D,P,F){if(this.activeObservations_=[],this.observations_=new w,typeof D!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=D,this.controller_=P,this.callbackCtx_=F}return L.prototype.observe=function(D){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(D instanceof f(D).Element))throw new TypeError('parameter 1 is not of type "Element".');var P=this.observations_;P.has(D)||(P.set(D,new A(D)),this.controller_.addObserver(this),this.controller_.refresh())}},L.prototype.unobserve=function(D){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(D instanceof f(D).Element))throw new TypeError('parameter 1 is not of type "Element".');var P=this.observations_;P.has(D)&&(P.delete(D),P.size||this.controller_.removeObserver(this))}},L.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},L.prototype.gatherActive=function(){var D=this;this.clearActive(),this.observations_.forEach(function(P){P.isActive()&&D.activeObservations_.push(P)})},L.prototype.broadcastActive=function(){if(this.hasActive()){var D=this.callbackCtx_,P=this.activeObservations_.map(function(F){return new N(F.target,F.broadcastRect())});this.callback_.call(D,P,D),this.clearActive()}},L.prototype.clearActive=function(){this.activeObservations_.splice(0)},L.prototype.hasActive=function(){return this.activeObservations_.length>0},L}(),k=typeof WeakMap<"u"?new WeakMap:new w,T=function L(D){if(!(this instanceof L))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var P=m.getInstance(),F=new S(D,P,this);k.set(this,F)};["observe","unobserve","disconnect"].forEach(function(L){T.prototype[L]=function(){var D;return(D=k.get(this))[L].apply(D,arguments)}});const x=c.ResizeObserver!==void 0?c.ResizeObserver:T},413:(v,g,p)=>{p.r(g),p.d(g,{default:()=>E});var w=p(379),d=p.n(w),c=p(795),s=p.n(c),l=p(569),h=p.n(l),m=p(565),_=p.n(m),f=p(216),i=p.n(f),u=p(589),a=p.n(u),b=p(582),O={};O.styleTagTransform=a(),O.setAttributes=_(),O.insert=h().bind(null,"head"),O.domAPI=s(),O.insertStyleElement=i(),d()(b.Z,O);const E=b.Z&&b.Z.locals?b.Z.locals:void 0},379:v=>{var g=[];function p(c){for(var s=-1,l=0;l<g.length;l++)if(g[l].identifier===c){s=l;break}return s}function w(c,s){for(var l={},h=[],m=0;m<c.length;m++){var _=c[m],f=s.base?_[0]+s.base:_[0],i=l[f]||0,u="".concat(f," ").concat(i);l[f]=i+1;var a=p(u),b={css:_[1],media:_[2],sourceMap:_[3],supports:_[4],layer:_[5]};if(a!==-1)g[a].references++,g[a].updater(b);else{var O=d(b,s);s.byIndex=m,g.splice(m,0,{identifier:u,updater:O,references:1})}h.push(u)}return h}function d(c,s){var l=s.domAPI(s);return l.update(c),function(h){if(h){if(h.css===c.css&&h.media===c.media&&h.sourceMap===c.sourceMap&&h.supports===c.supports&&h.layer===c.layer)return;l.update(c=h)}else l.remove()}}v.exports=function(c,s){var l=w(c=c||[],s=s||{});return function(h){h=h||[];for(var m=0;m<l.length;m++){var _=p(l[m]);g[_].references--}for(var f=w(h,s),i=0;i<l.length;i++){var u=p(l[i]);g[u].references===0&&(g[u].updater(),g.splice(u,1))}l=f}}},569:v=>{var g={};v.exports=function(p,w){var d=function(c){if(g[c]===void 0){var s=document.querySelector(c);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch{s=null}g[c]=s}return g[c]}(p);if(!d)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");d.appendChild(w)}},216:v=>{v.exports=function(g){var p=document.createElement("style");return g.setAttributes(p,g.attributes),g.insert(p,g.options),p}},565:(v,g,p)=>{v.exports=function(w){var d=p.nc;d&&w.setAttribute("nonce",d)}},795:v=>{v.exports=function(g){var p=g.insertStyleElement(g);return{update:function(w){(function(d,c,s){var l="";s.supports&&(l+="@supports (".concat(s.supports,") {")),s.media&&(l+="@media ".concat(s.media," {"));var h=s.layer!==void 0;h&&(l+="@layer".concat(s.layer.length>0?" ".concat(s.layer):""," {")),l+=s.css,h&&(l+="}"),s.media&&(l+="}"),s.supports&&(l+="}");var m=s.sourceMap;m&&typeof btoa<"u"&&(l+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(m))))," */")),c.styleTagTransform(l,d,c.options)})(p,g,w)},remove:function(){(function(w){if(w.parentNode===null)return!1;w.parentNode.removeChild(w)})(p)}}}},589:v=>{v.exports=function(g,p){if(p.styleSheet)p.styleSheet.cssText=g;else{for(;p.firstChild;)p.removeChild(p.firstChild);p.appendChild(document.createTextNode(g))}}},621:(v,g,p)=>{var w;(function(d){var c=/^\s+/,s=/\s+$/,l=0,h=d.round,m=d.min,_=d.max,f=d.random;function i(B,X){if(X=X||{},(B=B||"")instanceof i)return B;if(!(this instanceof i))return new i(B,X);var W=function(q){var G,nt,it,Q={r:0,g:0,b:0},ut=1,ft=null,yt=null,Tt=null,Nt=!1,mt=!1;return typeof q=="string"&&(q=function(_t){_t=_t.replace(c,"").replace(s,"").toLowerCase();var ot,Ot=!1;if(j[_t])_t=j[_t],Ot=!0;else if(_t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(ot=ct.rgb.exec(_t))?{r:ot[1],g:ot[2],b:ot[3]}:(ot=ct.rgba.exec(_t))?{r:ot[1],g:ot[2],b:ot[3],a:ot[4]}:(ot=ct.hsl.exec(_t))?{h:ot[1],s:ot[2],l:ot[3]}:(ot=ct.hsla.exec(_t))?{h:ot[1],s:ot[2],l:ot[3],a:ot[4]}:(ot=ct.hsv.exec(_t))?{h:ot[1],s:ot[2],v:ot[3]}:(ot=ct.hsva.exec(_t))?{h:ot[1],s:ot[2],v:ot[3],a:ot[4]}:(ot=ct.hex8.exec(_t))?{r:z(ot[1]),g:z(ot[2]),b:z(ot[3]),a:Y(ot[4]),format:Ot?"name":"hex8"}:(ot=ct.hex6.exec(_t))?{r:z(ot[1]),g:z(ot[2]),b:z(ot[3]),format:Ot?"name":"hex"}:(ot=ct.hex4.exec(_t))?{r:z(ot[1]+""+ot[1]),g:z(ot[2]+""+ot[2]),b:z(ot[3]+""+ot[3]),a:Y(ot[4]+""+ot[4]),format:Ot?"name":"hex8"}:!!(ot=ct.hex3.exec(_t))&&{r:z(ot[1]+""+ot[1]),g:z(ot[2]+""+ot[2]),b:z(ot[3]+""+ot[3]),format:Ot?"name":"hex"}}(q)),typeof q=="object"&&(ht(q.r)&&ht(q.g)&&ht(q.b)?(G=q.r,nt=q.g,it=q.b,Q={r:255*I(G,255),g:255*I(nt,255),b:255*I(it,255)},Nt=!0,mt=String(q.r).substr(-1)==="%"?"prgb":"rgb"):ht(q.h)&&ht(q.s)&&ht(q.v)?(ft=U(q.s),yt=U(q.v),Q=function(_t,ot,Ot){_t=6*I(_t,360),ot=I(ot,100),Ot=I(Ot,100);var Qt=d.floor(_t),ve=_t-Qt,Jt=Ot*(1-ot),ce=Ot*(1-ve*ot),le=Ot*(1-(1-ve)*ot),ne=Qt%6;return{r:255*[Ot,ce,Jt,Jt,le,Ot][ne],g:255*[le,Ot,Ot,ce,Jt,Jt][ne],b:255*[Jt,Jt,le,Ot,Ot,ce][ne]}}(q.h,ft,yt),Nt=!0,mt="hsv"):ht(q.h)&&ht(q.s)&&ht(q.l)&&(ft=U(q.s),Tt=U(q.l),Q=function(_t,ot,Ot){var Qt,ve,Jt;function ce(te,fe,Ut){return Ut<0&&(Ut+=1),Ut>1&&(Ut-=1),Ut<1/6?te+6*(fe-te)*Ut:Ut<.5?fe:Ut<2/3?te+(fe-te)*(2/3-Ut)*6:te}if(_t=I(_t,360),ot=I(ot,100),Ot=I(Ot,100),ot===0)Qt=ve=Jt=Ot;else{var le=Ot<.5?Ot*(1+ot):Ot+ot-Ot*ot,ne=2*Ot-le;Qt=ce(ne,le,_t+1/3),ve=ce(ne,le,_t),Jt=ce(ne,le,_t-1/3)}return{r:255*Qt,g:255*ve,b:255*Jt}}(q.h,ft,Tt),Nt=!0,mt="hsl"),q.hasOwnProperty("a")&&(ut=q.a)),ut=M(ut),{ok:Nt,format:q.format||mt,r:m(255,_(Q.r,0)),g:m(255,_(Q.g,0)),b:m(255,_(Q.b,0)),a:ut}}(B);this._originalInput=B,this._r=W.r,this._g=W.g,this._b=W.b,this._a=W.a,this._roundA=h(100*this._a)/100,this._format=X.format||W.format,this._gradientType=X.gradientType,this._r<1&&(this._r=h(this._r)),this._g<1&&(this._g=h(this._g)),this._b<1&&(this._b=h(this._b)),this._ok=W.ok,this._tc_id=l++}function u(B,X,W){B=I(B,255),X=I(X,255),W=I(W,255);var q,G,nt=_(B,X,W),it=m(B,X,W),Q=(nt+it)/2;if(nt==it)q=G=0;else{var ut=nt-it;switch(G=Q>.5?ut/(2-nt-it):ut/(nt+it),nt){case B:q=(X-W)/ut+(X<W?6:0);break;case X:q=(W-B)/ut+2;break;case W:q=(B-X)/ut+4}q/=6}return{h:q,s:G,l:Q}}function a(B,X,W){B=I(B,255),X=I(X,255),W=I(W,255);var q,G,nt=_(B,X,W),it=m(B,X,W),Q=nt,ut=nt-it;if(G=nt===0?0:ut/nt,nt==it)q=0;else{switch(nt){case B:q=(X-W)/ut+(X<W?6:0);break;case X:q=(W-B)/ut+2;break;case W:q=(B-X)/ut+4}q/=6}return{h:q,s:G,v:Q}}function b(B,X,W,q){var G=[R(h(B).toString(16)),R(h(X).toString(16)),R(h(W).toString(16))];return q&&G[0].charAt(0)==G[0].charAt(1)&&G[1].charAt(0)==G[1].charAt(1)&&G[2].charAt(0)==G[2].charAt(1)?G[0].charAt(0)+G[1].charAt(0)+G[2].charAt(0):G.join("")}function O(B,X,W,q){return[R(K(q)),R(h(B).toString(16)),R(h(X).toString(16)),R(h(W).toString(16))].join("")}function E(B,X){X=X===0?0:X||10;var W=i(B).toHsl();return W.s-=X/100,W.s=$(W.s),i(W)}function A(B,X){X=X===0?0:X||10;var W=i(B).toHsl();return W.s+=X/100,W.s=$(W.s),i(W)}function N(B){return i(B).desaturate(100)}function S(B,X){X=X===0?0:X||10;var W=i(B).toHsl();return W.l+=X/100,W.l=$(W.l),i(W)}function k(B,X){X=X===0?0:X||10;var W=i(B).toRgb();return W.r=_(0,m(255,W.r-h(-X/100*255))),W.g=_(0,m(255,W.g-h(-X/100*255))),W.b=_(0,m(255,W.b-h(-X/100*255))),i(W)}function T(B,X){X=X===0?0:X||10;var W=i(B).toHsl();return W.l-=X/100,W.l=$(W.l),i(W)}function x(B,X){var W=i(B).toHsl(),q=(W.h+X)%360;return W.h=q<0?360+q:q,i(W)}function L(B){var X=i(B).toHsl();return X.h=(X.h+180)%360,i(X)}function D(B){var X=i(B).toHsl(),W=X.h;return[i(B),i({h:(W+120)%360,s:X.s,l:X.l}),i({h:(W+240)%360,s:X.s,l:X.l})]}function P(B){var X=i(B).toHsl(),W=X.h;return[i(B),i({h:(W+90)%360,s:X.s,l:X.l}),i({h:(W+180)%360,s:X.s,l:X.l}),i({h:(W+270)%360,s:X.s,l:X.l})]}function F(B){var X=i(B).toHsl(),W=X.h;return[i(B),i({h:(W+72)%360,s:X.s,l:X.l}),i({h:(W+216)%360,s:X.s,l:X.l})]}function J(B,X,W){X=X||6,W=W||30;var q=i(B).toHsl(),G=360/W,nt=[i(B)];for(q.h=(q.h-(G*X>>1)+720)%360;--X;)q.h=(q.h+G)%360,nt.push(i(q));return nt}function H(B,X){X=X||6;for(var W=i(B).toHsv(),q=W.h,G=W.s,nt=W.v,it=[],Q=1/X;X--;)it.push(i({h:q,s:G,v:nt})),nt=(nt+Q)%1;return it}i.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var B=this.toRgb();return(299*B.r+587*B.g+114*B.b)/1e3},getLuminance:function(){var B,X,W,q=this.toRgb();return B=q.r/255,X=q.g/255,W=q.b/255,.2126*(B<=.03928?B/12.92:d.pow((B+.055)/1.055,2.4))+.7152*(X<=.03928?X/12.92:d.pow((X+.055)/1.055,2.4))+.0722*(W<=.03928?W/12.92:d.pow((W+.055)/1.055,2.4))},setAlpha:function(B){return this._a=M(B),this._roundA=h(100*this._a)/100,this},toHsv:function(){var B=a(this._r,this._g,this._b);return{h:360*B.h,s:B.s,v:B.v,a:this._a}},toHsvString:function(){var B=a(this._r,this._g,this._b),X=h(360*B.h),W=h(100*B.s),q=h(100*B.v);return this._a==1?"hsv("+X+", "+W+"%, "+q+"%)":"hsva("+X+", "+W+"%, "+q+"%, "+this._roundA+")"},toHsl:function(){var B=u(this._r,this._g,this._b);return{h:360*B.h,s:B.s,l:B.l,a:this._a}},toHslString:function(){var B=u(this._r,this._g,this._b),X=h(360*B.h),W=h(100*B.s),q=h(100*B.l);return this._a==1?"hsl("+X+", "+W+"%, "+q+"%)":"hsla("+X+", "+W+"%, "+q+"%, "+this._roundA+")"},toHex:function(B){return b(this._r,this._g,this._b,B)},toHexString:function(B){return"#"+this.toHex(B)},toHex8:function(B){return function(X,W,q,G,nt){var it=[R(h(X).toString(16)),R(h(W).toString(16)),R(h(q).toString(16)),R(K(G))];return nt&&it[0].charAt(0)==it[0].charAt(1)&&it[1].charAt(0)==it[1].charAt(1)&&it[2].charAt(0)==it[2].charAt(1)&&it[3].charAt(0)==it[3].charAt(1)?it[0].charAt(0)+it[1].charAt(0)+it[2].charAt(0)+it[3].charAt(0):it.join("")}(this._r,this._g,this._b,this._a,B)},toHex8String:function(B){return"#"+this.toHex8(B)},toRgb:function(){return{r:h(this._r),g:h(this._g),b:h(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+h(this._r)+", "+h(this._g)+", "+h(this._b)+")":"rgba("+h(this._r)+", "+h(this._g)+", "+h(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:h(100*I(this._r,255))+"%",g:h(100*I(this._g,255))+"%",b:h(100*I(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+h(100*I(this._r,255))+"%, "+h(100*I(this._g,255))+"%, "+h(100*I(this._b,255))+"%)":"rgba("+h(100*I(this._r,255))+"%, "+h(100*I(this._g,255))+"%, "+h(100*I(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(C[b(this._r,this._g,this._b,!0)]||!1)},toFilter:function(B){var X="#"+O(this._r,this._g,this._b,this._a),W=X,q=this._gradientType?"GradientType = 1, ":"";if(B){var G=i(B);W="#"+O(G._r,G._g,G._b,G._a)}return"progid:DXImageTransform.Microsoft.gradient("+q+"startColorstr="+X+",endColorstr="+W+")"},toString:function(B){var X=!!B;B=B||this._format;var W=!1,q=this._a<1&&this._a>=0;return X||!q||B!=="hex"&&B!=="hex6"&&B!=="hex3"&&B!=="hex4"&&B!=="hex8"&&B!=="name"?(B==="rgb"&&(W=this.toRgbString()),B==="prgb"&&(W=this.toPercentageRgbString()),B!=="hex"&&B!=="hex6"||(W=this.toHexString()),B==="hex3"&&(W=this.toHexString(!0)),B==="hex4"&&(W=this.toHex8String(!0)),B==="hex8"&&(W=this.toHex8String()),B==="name"&&(W=this.toName()),B==="hsl"&&(W=this.toHslString()),B==="hsv"&&(W=this.toHsvString()),W||this.toHexString()):B==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return i(this.toString())},_applyModification:function(B,X){var W=B.apply(null,[this].concat([].slice.call(X)));return this._r=W._r,this._g=W._g,this._b=W._b,this.setAlpha(W._a),this},lighten:function(){return this._applyModification(S,arguments)},brighten:function(){return this._applyModification(k,arguments)},darken:function(){return this._applyModification(T,arguments)},desaturate:function(){return this._applyModification(E,arguments)},saturate:function(){return this._applyModification(A,arguments)},greyscale:function(){return this._applyModification(N,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(B,X){return B.apply(null,[this].concat([].slice.call(X)))},analogous:function(){return this._applyCombination(J,arguments)},complement:function(){return this._applyCombination(L,arguments)},monochromatic:function(){return this._applyCombination(H,arguments)},splitcomplement:function(){return this._applyCombination(F,arguments)},triad:function(){return this._applyCombination(D,arguments)},tetrad:function(){return this._applyCombination(P,arguments)}},i.fromRatio=function(B,X){if(typeof B=="object"){var W={};for(var q in B)B.hasOwnProperty(q)&&(W[q]=q==="a"?B[q]:U(B[q]));B=W}return i(B,X)},i.equals=function(B,X){return!(!B||!X)&&i(B).toRgbString()==i(X).toRgbString()},i.random=function(){return i.fromRatio({r:f(),g:f(),b:f()})},i.mix=function(B,X,W){W=W===0?0:W||50;var q=i(B).toRgb(),G=i(X).toRgb(),nt=W/100;return i({r:(G.r-q.r)*nt+q.r,g:(G.g-q.g)*nt+q.g,b:(G.b-q.b)*nt+q.b,a:(G.a-q.a)*nt+q.a})},i.readability=function(B,X){var W=i(B),q=i(X);return(d.max(W.getLuminance(),q.getLuminance())+.05)/(d.min(W.getLuminance(),q.getLuminance())+.05)},i.isReadable=function(B,X,W){var q,G,nt,it,Q,ut=i.readability(B,X);switch(G=!1,(nt=W,(it=((nt=nt||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&it!=="AAA"&&(it="AA"),(Q=(nt.size||"small").toLowerCase())!=="small"&&Q!=="large"&&(Q="small"),q={level:it,size:Q}).level+q.size){case"AAsmall":case"AAAlarge":G=ut>=4.5;break;case"AAlarge":G=ut>=3;break;case"AAAsmall":G=ut>=7}return G},i.mostReadable=function(B,X,W){var q,G,nt,it,Q=null,ut=0;G=(W=W||{}).includeFallbackColors,nt=W.level,it=W.size;for(var ft=0;ft<X.length;ft++)(q=i.readability(B,X[ft]))>ut&&(ut=q,Q=i(X[ft]));return i.isReadable(B,Q,{level:nt,size:it})||!G?Q:(W.includeFallbackColors=!1,i.mostReadable(B,["#fff","#000"],W))};var j=i.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},C=i.hexNames=function(B){var X={};for(var W in B)B.hasOwnProperty(W)&&(X[B[W]]=W);return X}(j);function M(B){return B=parseFloat(B),(isNaN(B)||B<0||B>1)&&(B=1),B}function I(B,X){(function(q){return typeof q=="string"&&q.indexOf(".")!=-1&&parseFloat(q)===1})(B)&&(B="100%");var W=function(q){return typeof q=="string"&&q.indexOf("%")!=-1}(B);return B=m(X,_(0,parseFloat(B))),W&&(B=parseInt(B*X,10)/100),d.abs(B-X)<1e-6?1:B%X/parseFloat(X)}function $(B){return m(1,_(0,B))}function z(B){return parseInt(B,16)}function R(B){return B.length==1?"0"+B:""+B}function U(B){return B<=1&&(B=100*B+"%"),B}function K(B){return d.round(255*parseFloat(B)).toString(16)}function Y(B){return z(B)/255}var tt,st,dt,ct=(st="[\\s|\\(]+("+(tt="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+tt+")[,|\\s]+("+tt+")\\s*\\)?",dt="[\\s|\\(]+("+tt+")[,|\\s]+("+tt+")[,|\\s]+("+tt+")[,|\\s]+("+tt+")\\s*\\)?",{CSS_UNIT:new RegExp(tt),rgb:new RegExp("rgb"+st),rgba:new RegExp("rgba"+dt),hsl:new RegExp("hsl"+st),hsla:new RegExp("hsla"+dt),hsv:new RegExp("hsv"+st),hsva:new RegExp("hsva"+dt),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function ht(B){return!!ct.CSS_UNIT.exec(B)}v.exports?v.exports=i:(w=function(){return i}.call(g,p,g,v))===void 0||(v.exports=w)})(Math)},607:function(v,g,p){var w=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(g,"__esModule",{value:!0}),g.Cursor=g.default=void 0;var d=w(p(678));g.default=d.default;var c=w(p(353));g.Cursor=c.default,p(413)},353:(v,g,p)=>{Object.defineProperty(g,"__esModule",{value:!0});var w=p(621),d=function(){function c(s,l,h){this.id=s,this.name=l,this.color=h,this.toggleNearCursor=this.toggleNearCursor.bind(this),this._toggleOpenedCursor=this._toggleOpenedCursor.bind(this),this._setHoverState=this._setHoverState.bind(this)}return c.prototype.build=function(s){var l=document.createElement(c.CONTAINER_ELEMENT_TAG);l.classList.add(c.CURSOR_CLASS),l.id="ql-cursor-".concat(this.id),l.innerHTML=s.template;var h=l.getElementsByClassName(c.SELECTION_CLASS)[0],m=l.getElementsByClassName(c.CARET_CONTAINER_CLASS)[0],_=m.getElementsByClassName(c.CARET_CLASS)[0],f=l.getElementsByClassName(c.FLAG_CLASS)[0];return f.style.backgroundColor=this.color,_.style.backgroundColor=this.color,l.getElementsByClassName(c.NAME_CLASS)[0].textContent=this.name,this._hideDelay="".concat(s.hideDelayMs,"ms"),this._hideSpeedMs=s.hideSpeedMs,this._positionFlag=s.positionFlag,f.style.transitionDelay=this._hideDelay,f.style.transitionDuration="".concat(this._hideSpeedMs,"ms"),this._el=l,this._selectionEl=h,this._caretEl=m,this._flagEl=f,m.addEventListener("mouseover",this._setHoverState),this._el},c.prototype.show=function(){this._el.classList.remove(c.HIDDEN_CLASS)},c.prototype.hide=function(){this._el.classList.add(c.HIDDEN_CLASS)},c.prototype.remove=function(){this._el.parentNode.removeChild(this._el)},c.prototype.toggleNearCursor=function(s,l){var h=this._getCoordinates(),m=h.left,_=h.right,f=h.top,i=h.bottom,u=s>=m&&s<=_&&l>=f&&l<=i;return this._caretEl.classList.toggle(c.CONTAINER_HOVER_CLASS,u),u},c.prototype.toggleFlag=function(s){var l=this;this._caretEl.classList.toggle(c.CONTAINER_HOVER_CLASS,s)||(this._flagEl.classList.add(c.NO_DELAY_CLASS),setTimeout(function(){return l._flagEl.classList.remove(c.NO_DELAY_CLASS)},this._hideSpeedMs))},c.prototype.updateCaret=function(s,l){this._caretEl.style.top="".concat(s.top,"px"),this._caretEl.style.left="".concat(s.left,"px"),this._caretEl.style.height="".concat(s.height,"px"),this._positionFlag?this._positionFlag(this._flagEl,s,l):this._updateCaretFlag(s,l)},c.prototype.updateSelection=function(s,l){var h=this;this._clearSelection(),s=s||[],s=Array.from(s),s=this._sanitize(s),(s=this._sortByDomPosition(s)).forEach(function(m){return h._addSelection(m,l)})},c.prototype._setHoverState=function(){document.addEventListener("mousemove",this._toggleOpenedCursor)},c.prototype._toggleOpenedCursor=function(s){var l=this.toggleNearCursor(s.clientX,s.clientY);this._caretEl.classList.toggle(c.CONTAINER_NO_POINTER_CLASS,l),l||document.removeEventListener("mousemove",this._toggleOpenedCursor)},c.prototype._getCoordinates=function(){return this._caretEl.getBoundingClientRect()},c.prototype._updateCaretFlag=function(s,l){this._flagEl.style.width="";var h=this._flagEl.getBoundingClientRect();this._flagEl.classList.remove(c.FLAG_FLIPPED_CLASS),s.left>l.width-h.width&&this._flagEl.classList.add(c.FLAG_FLIPPED_CLASS),this._flagEl.style.left="".concat(s.left,"px"),this._flagEl.style.top="".concat(s.top,"px"),this._flagEl.style.width="".concat(Math.ceil(h.width),"px")},c.prototype._clearSelection=function(){this._selectionEl.innerHTML=""},c.prototype._addSelection=function(s,l){var h=this._selectionBlock(s,l);this._selectionEl.appendChild(h)},c.prototype._selectionBlock=function(s,l){var h=document.createElement(c.SELECTION_ELEMENT_TAG);return h.classList.add(c.SELECTION_BLOCK_CLASS),h.style.top="".concat(s.top-l.top,"px"),h.style.left="".concat(s.left-l.left,"px"),h.style.width="".concat(s.width,"px"),h.style.height="".concat(s.height,"px"),h.style.backgroundColor=w(this.color).setAlpha(.3).toString(),h},c.prototype._sortByDomPosition=function(s){return s.sort(function(l,h){return l.top===h.top?l.left-h.left:l.top-h.top})},c.prototype._sanitize=function(s){var l=this,h=new Set;return s.filter(function(m){if(!m.width||!m.height)return!1;var _=l._serialize(m);return!h.has(_)&&(h.add(_),!0)})},c.prototype._serialize=function(s){return["top:".concat(s.top),"right:".concat(s.right),"bottom:".concat(s.bottom),"left:".concat(s.left)].join(";")},c.CONTAINER_ELEMENT_TAG="SPAN",c.SELECTION_ELEMENT_TAG="SPAN",c.CURSOR_CLASS="ql-cursor",c.SELECTION_CLASS="ql-cursor-selections",c.SELECTION_BLOCK_CLASS="ql-cursor-selection-block",c.CARET_CLASS="ql-cursor-caret",c.CARET_CONTAINER_CLASS="ql-cursor-caret-container",c.CONTAINER_HOVER_CLASS="hover",c.CONTAINER_NO_POINTER_CLASS="no-pointer",c.FLAG_CLASS="ql-cursor-flag",c.FLAG_FLIPPED_CLASS="flag-flipped",c.NAME_CLASS="ql-cursor-name",c.HIDDEN_CLASS="hidden",c.NO_DELAY_CLASS="no-delay",c}();g.default=d},678:function(v,g,p){var w=this&&this.__createBinding||(Object.create?function(u,a,b,O){O===void 0&&(O=b),Object.defineProperty(u,O,{enumerable:!0,get:function(){return a[b]}})}:function(u,a,b,O){O===void 0&&(O=b),u[O]=a[b]}),d=this&&this.__setModuleDefault||(Object.create?function(u,a){Object.defineProperty(u,"default",{enumerable:!0,value:a})}:function(u,a){u.default=a}),c=this&&this.__importStar||function(u){if(u&&u.__esModule)return u;var a={};if(u!=null)for(var b in u)b!=="default"&&Object.prototype.hasOwnProperty.call(u,b)&&w(a,u,b);return d(a,u),a},s=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(g,"__esModule",{value:!0});var l=s(p(353)),h=c(p(165)),m=s(p(338)),_=s(p(33)),f=p(895),i=function(){function u(a,b){b===void 0&&(b={}),this._cursors={},this._isObserving=!1,this._handleCursorTouch=this._handleCursorTouch.bind(this),this.quill=a,this.options=this._setDefaults(b),this._container=this.quill.addContainer(this.options.containerClass),this._boundsContainer=this.options.boundsContainer||this.quill.container,this._currentSelection=this.quill.getSelection(),this._registerSelectionChangeListeners(),this._registerTextChangeListener(),this._registerDomListeners()}return u.prototype.createCursor=function(a,b,O){var E=this._cursors[a];if(!E){E=new l.default(a,b,O),this._cursors[a]=E;var A=E.build(this.options);this._container.appendChild(A)}return E},u.prototype.moveCursor=function(a,b){var O=this._cursors[a];O&&(O.range=b,this._updateCursor(O))},u.prototype.removeCursor=function(a){var b=this._cursors[a];b&&(b.remove(),delete this._cursors[a])},u.prototype.update=function(){var a=this;this.cursors().forEach(function(b){return a._updateCursor(b)})},u.prototype.clearCursors=function(){var a=this;this.cursors().forEach(function(b){return a.removeCursor(b.id)})},u.prototype.toggleFlag=function(a,b){var O=this._cursors[a];O&&O.toggleFlag(b)},u.prototype.cursors=function(){var a=this;return Object.keys(this._cursors).map(function(b){return a._cursors[b]})},u.prototype._registerSelectionChangeListeners=function(){var a=this;this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,function(b){a._currentSelection=b})},u.prototype._registerTextChangeListener=function(){var a=this;this.quill.on(this.quill.constructor.events.TEXT_CHANGE,function(b){return a._handleTextChange(b)})},u.prototype._registerDomListeners=function(){var a=this,b=this.quill.container.getElementsByClassName("ql-editor")[0];b.addEventListener("scroll",function(){return a.update()}),b.addEventListener("touchstart",this._handleCursorTouch)},u.prototype._handleCursorTouch=function(a){var b=this;this.cursors().forEach(function(O){O.toggleNearCursor(a.pageX,a.pageY),setTimeout(function(){return O.toggleFlag(!1)},b.options.hideDelayMs)})},u.prototype._registerResizeObserver=function(){var a=this;if(!this._isObserving){var b=this.quill.container.getElementsByClassName("ql-editor")[0],O=new _.default(function(E){E[0].target.isConnected||(O.disconnect(),a._isObserving=!1),a.update()});O.observe(b),this._isObserving=!0}},u.prototype._updateCursor=function(a){if(this._registerResizeObserver(),!a.range)return a.hide();var b=this._indexWithinQuillBounds(a.range.index),O=this._indexWithinQuillBounds(a.range.index+a.range.length),E=this.quill.getLeaf(b),A=this.quill.getLeaf(O);if(!this._leafIsValid(E)||!this._leafIsValid(A))return a.hide();a.show();var N=this._boundsContainer.getBoundingClientRect(),S=this.quill.getBounds(O);a.updateCaret(S,N);var k=this._lineRanges(a,E,A).reduce(function(T,x){return T.concat(Array.from(h.getClientRects(x)))},[]);a.updateSelection(k,N)},u.prototype._indexWithinQuillBounds=function(a){var b=this.quill.getLength(),O=b?b-1:0;return a=Math.max(a,0),Math.min(a,O)},u.prototype._leafIsValid=function(a){return a&&a[0]&&a[0].domNode&&a[1]>=0},u.prototype._handleTextChange=function(a){var b=this;window.setTimeout(function(){b.options.transformOnTextChange&&b._transformCursors(a),b.options.selectionChangeSource&&(b._emitSelection(),b.update())})},u.prototype._emitSelection=function(){this.quill.emitter.emit(this.quill.constructor.events.SELECTION_CHANGE,this.quill.getSelection(),this._currentSelection,this.options.selectionChangeSource)},u.prototype._setDefaults=function(a){return(a=Object.assign({},a)).template||(a.template=u.DEFAULTS.template),a.containerClass||(a.containerClass=u.DEFAULTS.containerClass),a.selectionChangeSource!==null&&(a.selectionChangeSource||(a.selectionChangeSource=u.DEFAULTS.selectionChangeSource)),a.hideDelayMs=Number.isInteger(a.hideDelayMs)?a.hideDelayMs:u.DEFAULTS.hideDelayMs,a.hideSpeedMs=Number.isInteger(a.hideSpeedMs)?a.hideSpeedMs:u.DEFAULTS.hideSpeedMs,a.transformOnTextChange=!!a.transformOnTextChange,a},u.prototype._lineRanges=function(a,b,O){var E=this.quill.getLines(a.range);return E.reduce(function(A,N,S){if(!N.children){var k=document.createRange();return k.selectNode(N.domNode),A.concat(k)}var T=S===0?b:N.path(0).pop(),x=T[0],L=T[1],D=S===E.length-1?O:N.path(N.length()-1).pop(),P=D[0],F=D[1],J=document.createRange();return x.domNode.nodeType===Node.TEXT_NODE?J.setStart(x.domNode,L):J.setStartBefore(x.domNode),P.domNode.nodeType===Node.TEXT_NODE?J.setEnd(P.domNode,F):J.setEndAfter(P.domNode),A.concat(J)},[])},u.prototype._transformCursors=function(a){var b=this;a=new f(a),this.cursors().filter(function(O){return O.range}).forEach(function(O){O.range.index=a.transformPosition(O.range.index),b._updateCursor(O)})},u.DEFAULTS={template:m.default,containerClass:"ql-cursors",selectionChangeSource:"api",hideDelayMs:3e3,hideSpeedMs:400},u}();g.default=i},338:function(v,g,p){var w=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(g,"__esModule",{value:!0});var d=w(p(353)),c=`
  <span class="`.concat(d.default.SELECTION_CLASS,`"></span>
  <span class="`).concat(d.default.CARET_CONTAINER_CLASS,`">
    <span class="`).concat(d.default.CARET_CLASS,`"></span>
  </span>
  <div class="`).concat(d.default.FLAG_CLASS,`">
    <small class="`).concat(d.default.NAME_CLASS,`"></small>
  </div>
`);g.default=c}},n={};function o(v){var g=n[v];if(g!==void 0)return g.exports;var p=n[v]={id:v,loaded:!1,exports:{}};return e[v].call(p.exports,p,p.exports,o),p.loaded=!0,p.exports}o.n=v=>{var g=v&&v.__esModule?()=>v.default:()=>v;return o.d(g,{a:g}),g},o.d=(v,g)=>{for(var p in g)o.o(g,p)&&!o.o(v,p)&&Object.defineProperty(v,p,{enumerable:!0,get:g[p]})},o.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),o.o=(v,g)=>Object.prototype.hasOwnProperty.call(v,g),o.r=v=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})},o.nmd=v=>(v.paths=[],v.children||(v.children=[]),v),o.nc=void 0;var y=o(607);return y.default})())})(vs);const _u=no(vs.exports);var wu={};(function(r){function t(f,i,u){return u.globals&&(f=u.globals[f.name]),new f(`${u.context?u.context:"Value"} ${i}.`)}function e(f,i){if(typeof f=="bigint")throw t(TypeError,"is a BigInt which cannot be converted to a number",i);return i.globals?i.globals.Number(f):Number(f)}function n(f){return f>0&&f%1===.5&&(f&1)===0||f<0&&f%1===-.5&&(f&1)===1?g(Math.floor(f)):g(Math.round(f))}function o(f){return g(Math.trunc(f))}function y(f){return f<0?-1:1}function v(f,i){const u=f%i;return y(i)!==y(u)?u+i:u}function g(f){return f===0?0:f}function p(f,{unsigned:i}){let u,a;i?(u=0,a=2**f-1):(u=-(2**(f-1)),a=2**(f-1)-1);const b=2**f,O=2**(f-1);return(E,A={})=>{let N=e(E,A);if(N=g(N),A.enforceRange){if(!Number.isFinite(N))throw t(TypeError,"is not a finite number",A);if(N=o(N),N<u||N>a)throw t(TypeError,`is outside the accepted range of ${u} to ${a}, inclusive`,A);return N}return!Number.isNaN(N)&&A.clamp?(N=Math.min(Math.max(N,u),a),N=n(N),N):!Number.isFinite(N)||N===0?0:(N=o(N),N>=u&&N<=a?N:(N=v(N,b),!i&&N>=O?N-b:N))}}function w(f,{unsigned:i}){const u=Number.MAX_SAFE_INTEGER,a=i?0:Number.MIN_SAFE_INTEGER,b=i?BigInt.asUintN:BigInt.asIntN;return(O,E={})=>{let A=e(O,E);if(A=g(A),E.enforceRange){if(!Number.isFinite(A))throw t(TypeError,"is not a finite number",E);if(A=o(A),A<a||A>u)throw t(TypeError,`is outside the accepted range of ${a} to ${u}, inclusive`,E);return A}if(!Number.isNaN(A)&&E.clamp)return A=Math.min(Math.max(A,a),u),A=n(A),A;if(!Number.isFinite(A)||A===0)return 0;let N=BigInt(o(A));return N=b(f,N),Number(N)}}r.any=f=>f,r.undefined=()=>{},r.boolean=f=>Boolean(f),r.byte=p(8,{unsigned:!1}),r.octet=p(8,{unsigned:!0}),r.short=p(16,{unsigned:!1}),r["unsigned short"]=p(16,{unsigned:!0}),r.long=p(32,{unsigned:!1}),r["unsigned long"]=p(32,{unsigned:!0}),r["long long"]=w(64,{unsigned:!1}),r["unsigned long long"]=w(64,{unsigned:!0}),r.double=(f,i={})=>{const u=e(f,i);if(!Number.isFinite(u))throw t(TypeError,"is not a finite floating-point value",i);return u},r["unrestricted double"]=(f,i={})=>e(f,i),r.float=(f,i={})=>{const u=e(f,i);if(!Number.isFinite(u))throw t(TypeError,"is not a finite floating-point value",i);if(Object.is(u,-0))return u;const a=Math.fround(u);if(!Number.isFinite(a))throw t(TypeError,"is outside the range of a single-precision floating-point value",i);return a},r["unrestricted float"]=(f,i={})=>{const u=e(f,i);return isNaN(u)||Object.is(u,-0)?u:Math.fround(u)},r.DOMString=(f,i={})=>{if(i.treatNullAsEmptyString&&f===null)return"";if(typeof f=="symbol")throw t(TypeError,"is a symbol, which cannot be converted to a string",i);return(i.globals?i.globals.String:String)(f)},r.ByteString=(f,i={})=>{const u=r.DOMString(f,i);let a;for(let b=0;(a=u.codePointAt(b))!==void 0;++b)if(a>255)throw t(TypeError,"is not a valid ByteString",i);return u},r.USVString=(f,i={})=>{const u=r.DOMString(f,i),a=u.length,b=[];for(let O=0;O<a;++O){const E=u.charCodeAt(O);if(E<55296||E>57343)b.push(String.fromCodePoint(E));else if(56320<=E&&E<=57343)b.push(String.fromCodePoint(65533));else if(O===a-1)b.push(String.fromCodePoint(65533));else{const A=u.charCodeAt(O+1);if(56320<=A&&A<=57343){const N=E&1023,S=A&1023;b.push(String.fromCodePoint((2<<15)+(2<<9)*N+S)),++O}else b.push(String.fromCodePoint(65533))}}return b.join("")},r.object=(f,i={})=>{if(f===null||typeof f!="object"&&typeof f!="function")throw t(TypeError,"is not an object",i);return f};const d=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get,c=typeof SharedArrayBuffer=="function"?Object.getOwnPropertyDescriptor(SharedArrayBuffer.prototype,"byteLength").get:null;function s(f){try{return d.call(f),!0}catch{return!1}}function l(f){try{return c.call(f),!0}catch{return!1}}function h(f){try{return new Uint8Array(f),!1}catch{return!0}}r.ArrayBuffer=(f,i={})=>{if(!s(f))throw i.allowShared&&!l(f)?t(TypeError,"is not an ArrayBuffer or SharedArrayBuffer",i):t(TypeError,"is not an ArrayBuffer",i);if(h(f))throw t(TypeError,"is a detached ArrayBuffer",i);return f};const m=Object.getOwnPropertyDescriptor(DataView.prototype,"byteLength").get;r.DataView=(f,i={})=>{try{m.call(f)}catch{throw t(TypeError,"is not a DataView",i)}if(!i.allowShared&&l(f.buffer))throw t(TypeError,"is backed by a SharedArrayBuffer, which is not allowed",i);if(h(f.buffer))throw t(TypeError,"is backed by a detached ArrayBuffer",i);return f};const _=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Uint8Array).prototype,Symbol.toStringTag).get;[Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Uint8ClampedArray,Float32Array,Float64Array].forEach(f=>{const{name:i}=f,u=/^[AEIOU]/u.test(i)?"an":"a";r[i]=(a,b={})=>{if(!ArrayBuffer.isView(a)||_.call(a)!==i)throw t(TypeError,`is not ${u} ${i} object`,b);if(!b.allowShared&&l(a.buffer))throw t(TypeError,"is a view on a SharedArrayBuffer, which is not allowed",b);if(h(a.buffer))throw t(TypeError,"is a view on a detached ArrayBuffer",b);return a}}),r.ArrayBufferView=(f,i={})=>{if(!ArrayBuffer.isView(f))throw t(TypeError,"is not a view on an ArrayBuffer or SharedArrayBuffer",i);if(!i.allowShared&&l(f.buffer))throw t(TypeError,"is a view on a SharedArrayBuffer, which is not allowed",i);if(h(f.buffer))throw t(TypeError,"is a view on a detached ArrayBuffer",i);return f},r.BufferSource=(f,i={})=>{if(ArrayBuffer.isView(f)){if(!i.allowShared&&l(f.buffer))throw t(TypeError,"is a view on a SharedArrayBuffer, which is not allowed",i);if(h(f.buffer))throw t(TypeError,"is a view on a detached ArrayBuffer",i);return f}if(!i.allowShared&&!s(f))throw t(TypeError,"is not an ArrayBuffer or a view on one",i);if(i.allowShared&&!l(f)&&!s(f))throw t(TypeError,"is not an ArrayBuffer, SharedArrayBuffer, or a view on one",i);if(h(f))throw t(TypeError,"is a detached ArrayBuffer",i);return f},r.DOMTimeStamp=r["unsigned long long"]})(wu);const Ou=r=>(io("data-v-8811f2fe"),r=r(),oo(),r),Eu={class:"alert alert-success shadow-lg w-1/2 alertP bottom-2"},ku=Ou(()=>Je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"stroke-current flex-shrink-0 w-6 h-6"},[Je("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),Au={__name:"alert_info",props:{text:{type:String}},setup(r){const t=r;return hn(),console.log(t.text),(e,n)=>(Ln(),lr("div",Eu,[Je("div",null,[ku,Je("span",null,ro(r.text),1)])]))}},Su=so(Au,[["__scopeId","data-v-8811f2fe"]]);const ms=r=>(io("data-v-f3f8758d"),r=r(),oo(),r),Tu={key:1,class:"m-2 mt-4 ml-4 font-light text-lg"},xu=ms(()=>Je("span",{class:"font-base"},"Document Name: ",-1)),Nu=ms(()=>Je("div",{class:"z-0",id:"editor"},null,-1)),Lu={__name:"SharedDocYjs",props:{room:{type:String},withClose:{type:Boolean},Style:{type:String},open:{type:Boolean},takemewithyou:{type:Boolean},RoomName:{type:String},DocName:{type:String}},emits:["onClose"],setup(r,{emit:t}){const e=r,n=new En;let o;_s(()=>{eo.register("modules/cursors",_u);const d=new eo(document.querySelector("#editor"),{modules:{cursors:!0,toolbar:[[{header:[1,2,!1]}],["bold","italic","underline"],["image","code-block"]],history:{userOnly:!0}},placeholder:"Start collaborating...",theme:"snow"});fn().RetrieveDocument(e.room),xi(()=>fn().ServerAns,(s,l)=>{if(console.log("Watch props.selected function called with args:",s,l),s.Document){let h=new Uint8Array(s.Document.split(","));console.log(h),Do(n,h)}}),fn(),hn(""),hn("");const c=new mu("wss://y.13.development.maqsam.com",""+e.room,n);o=n.getText("quill"),new bu(o,d,c.awareness),window.addEventListener("blur",()=>{d.blur()})});const y=hn(e.open);console.log(open.value),xi(()=>e.open,(d,c)=>{console.log("Watch props.selected function called with args:",d,c),y.value=d}),console.log(e.open),console.log(y.value);function v(){fn().SaveDocument(e.room,Ro(n).toString("hex"))}ws();const g=hn(!1),p=hn("");e.room;function w(){fn().CreateMeeting(e.RoomName),console.log(fn().ServerAns),xs.push({name:"meeting",params:{RoomName:e.RoomName,RoomID:e.room,TakeMeWith:!0}})}return(d,c)=>(Ln(),lr(Ts,null,[r.takemewithyou&&!r.withClose?(Ln(),lr("button",{key:0,class:"absolute bottom-10 left-10 z-10 btn btn-ghost font-light text-lg",onClick:c[0]||(c[0]=s=>{w()})},"Take me to a meeting")):Mr("",!0),Je("button",{class:"absolute bottom-10 right-10 z-10 btn btn-ghost font-light text-lg",onClick:v},"Save"),r.withClose==!0?(Ln(),lr("h1",Tu,[xu,Os(ro(r.DocName),1)])):Mr("",!0),Nu,Es(Ss,{duration:"350",name:"slide"},{default:ks(()=>[g.value==!0?(Ln(),As(Su,{key:0,text:p.value},null,8,["text"])):Mr("",!0)]),_:1})],64))}},Iu=so(Lu,[["__scopeId","data-v-f3f8758d"]]);export{Iu as D};
